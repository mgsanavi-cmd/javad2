(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function l(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(u){if(u.ep)return;u.ep=!0;const c=l(u);fetch(u.href,c)}})();function H0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Fu={exports:{}},Na={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh;function lv(){if(qh)return Na;qh=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(i,u,c){var f=null;if(c!==void 0&&(f=""+c),u.key!==void 0&&(f=""+u.key),"key"in u){c={};for(var g in u)g!=="key"&&(c[g]=u[g])}else c=u;return u=c.ref,{$$typeof:n,type:i,key:f,ref:u!==void 0?u:null,props:c}}return Na.Fragment=t,Na.jsx=l,Na.jsxs=l,Na}var Bh;function av(){return Bh||(Bh=1,Fu.exports=lv()),Fu.exports}var o=av(),Ju={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh;function iv(){if(Hh)return Se;Hh=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),b=Symbol.iterator;function N(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function j(k,J,se){this.props=k,this.context=J,this.refs=A,this.updater=se||_}j.prototype.isReactComponent={},j.prototype.setState=function(k,J){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,J,"setState")},j.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function M(){}M.prototype=j.prototype;function D(k,J,se){this.props=k,this.context=J,this.refs=A,this.updater=se||_}var B=D.prototype=new M;B.constructor=D,E(B,j.prototype),B.isPureReactComponent=!0;var P=Array.isArray;function Q(){}var q={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function V(k,J,se){var ie=se.ref;return{$$typeof:n,type:k,key:J,ref:ie!==void 0?ie:null,props:se}}function K(k,J){return V(k.type,J,k.props)}function ne(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function F(k){var J={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(se){return J[se]})}var re=/\/+/g;function oe(k,J){return typeof k=="object"&&k!==null&&k.key!=null?F(""+k.key):J.toString(36)}function Te(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(Q,Q):(k.status="pending",k.then(function(J){k.status==="pending"&&(k.status="fulfilled",k.value=J)},function(J){k.status==="pending"&&(k.status="rejected",k.reason=J)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function I(k,J,se,ie,he){var be=typeof k;(be==="undefined"||be==="boolean")&&(k=null);var Re=!1;if(k===null)Re=!0;else switch(be){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(k.$$typeof){case n:case t:Re=!0;break;case v:return Re=k._init,I(Re(k._payload),J,se,ie,he)}}if(Re)return he=he(k),Re=ie===""?"."+oe(k,0):ie,P(he)?(se="",Re!=null&&(se=Re.replace(re,"$&/")+"/"),I(he,J,se,"",function(je){return je})):he!=null&&(ne(he)&&(he=K(he,se+(he.key==null||k&&k.key===he.key?"":(""+he.key).replace(re,"$&/")+"/")+Re)),J.push(he)),1;Re=0;var at=ie===""?".":ie+":";if(P(k))for(var le=0;le<k.length;le++)ie=k[le],be=at+oe(ie,le),Re+=I(ie,J,se,be,he);else if(le=N(k),typeof le=="function")for(k=le.call(k),le=0;!(ie=k.next()).done;)ie=ie.value,be=at+oe(ie,le++),Re+=I(ie,J,se,be,he);else if(be==="object"){if(typeof k.then=="function")return I(Te(k),J,se,ie,he);throw J=String(k),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Re}function Z(k,J,se){if(k==null)return k;var ie=[],he=0;return I(k,ie,"","",function(be){return J.call(se,be,he++)}),ie}function te(k){if(k._status===-1){var J=k._result;J=J(),J.then(function(se){(k._status===0||k._status===-1)&&(k._status=1,k._result=se)},function(se){(k._status===0||k._status===-1)&&(k._status=2,k._result=se)}),k._status===-1&&(k._status=0,k._result=J)}if(k._status===1)return k._result.default;throw k._result}var me=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},ye={map:Z,forEach:function(k,J,se){Z(k,function(){J.apply(this,arguments)},se)},count:function(k){var J=0;return Z(k,function(){J++}),J},toArray:function(k){return Z(k,function(J){return J})||[]},only:function(k){if(!ne(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Se.Activity=C,Se.Children=ye,Se.Component=j,Se.Fragment=l,Se.Profiler=u,Se.PureComponent=D,Se.StrictMode=i,Se.Suspense=x,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Se.__COMPILER_RUNTIME={__proto__:null,c:function(k){return q.H.useMemoCache(k)}},Se.cache=function(k){return function(){return k.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(k,J,se){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ie=E({},k.props),he=k.key;if(J!=null)for(be in J.key!==void 0&&(he=""+J.key),J)!$.call(J,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&J.ref===void 0||(ie[be]=J[be]);var be=arguments.length-2;if(be===1)ie.children=se;else if(1<be){for(var Re=Array(be),at=0;at<be;at++)Re[at]=arguments[at+2];ie.children=Re}return V(k.type,he,ie)},Se.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},Se.createElement=function(k,J,se){var ie,he={},be=null;if(J!=null)for(ie in J.key!==void 0&&(be=""+J.key),J)$.call(J,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(he[ie]=J[ie]);var Re=arguments.length-2;if(Re===1)he.children=se;else if(1<Re){for(var at=Array(Re),le=0;le<Re;le++)at[le]=arguments[le+2];he.children=at}if(k&&k.defaultProps)for(ie in Re=k.defaultProps,Re)he[ie]===void 0&&(he[ie]=Re[ie]);return V(k,be,he)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(k){return{$$typeof:g,render:k}},Se.isValidElement=ne,Se.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:te}},Se.memo=function(k,J){return{$$typeof:p,type:k,compare:J===void 0?null:J}},Se.startTransition=function(k){var J=q.T,se={};q.T=se;try{var ie=k(),he=q.S;he!==null&&he(se,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Q,me)}catch(be){me(be)}finally{J!==null&&se.types!==null&&(J.types=se.types),q.T=J}},Se.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Se.use=function(k){return q.H.use(k)},Se.useActionState=function(k,J,se){return q.H.useActionState(k,J,se)},Se.useCallback=function(k,J){return q.H.useCallback(k,J)},Se.useContext=function(k){return q.H.useContext(k)},Se.useDebugValue=function(){},Se.useDeferredValue=function(k,J){return q.H.useDeferredValue(k,J)},Se.useEffect=function(k,J){return q.H.useEffect(k,J)},Se.useEffectEvent=function(k){return q.H.useEffectEvent(k)},Se.useId=function(){return q.H.useId()},Se.useImperativeHandle=function(k,J,se){return q.H.useImperativeHandle(k,J,se)},Se.useInsertionEffect=function(k,J){return q.H.useInsertionEffect(k,J)},Se.useLayoutEffect=function(k,J){return q.H.useLayoutEffect(k,J)},Se.useMemo=function(k,J){return q.H.useMemo(k,J)},Se.useOptimistic=function(k,J){return q.H.useOptimistic(k,J)},Se.useReducer=function(k,J,se){return q.H.useReducer(k,J,se)},Se.useRef=function(k){return q.H.useRef(k)},Se.useState=function(k){return q.H.useState(k)},Se.useSyncExternalStore=function(k,J,se){return q.H.useSyncExternalStore(k,J,se)},Se.useTransition=function(){return q.H.useTransition()},Se.version="19.2.0",Se}var zh;function Cc(){return zh||(zh=1,Ju.exports=iv()),Ju.exports}var T=Cc();const z0=H0(T);var Yu={exports:{}},wa={},$u={exports:{}},Ku={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh;function ov(){return Vh||(Vh=1,(function(n){function t(I,Z){var te=I.length;I.push(Z);e:for(;0<te;){var me=te-1>>>1,ye=I[me];if(0<u(ye,Z))I[me]=Z,I[te]=ye,te=me;else break e}}function l(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var Z=I[0],te=I.pop();if(te!==Z){I[0]=te;e:for(var me=0,ye=I.length,k=ye>>>1;me<k;){var J=2*(me+1)-1,se=I[J],ie=J+1,he=I[ie];if(0>u(se,te))ie<ye&&0>u(he,se)?(I[me]=he,I[ie]=te,me=ie):(I[me]=se,I[J]=te,me=J);else if(ie<ye&&0>u(he,te))I[me]=he,I[ie]=te,me=ie;else break e}}return Z}function u(I,Z){var te=I.sortIndex-Z.sortIndex;return te!==0?te:I.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();n.unstable_now=function(){return f.now()-g}}var x=[],p=[],v=1,C=null,b=3,N=!1,_=!1,E=!1,A=!1,j=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function B(I){for(var Z=l(p);Z!==null;){if(Z.callback===null)i(p);else if(Z.startTime<=I)i(p),Z.sortIndex=Z.expirationTime,t(x,Z);else break;Z=l(p)}}function P(I){if(E=!1,B(I),!_)if(l(x)!==null)_=!0,Q||(Q=!0,F());else{var Z=l(p);Z!==null&&Te(P,Z.startTime-I)}}var Q=!1,q=-1,$=5,V=-1;function K(){return A?!0:!(n.unstable_now()-V<$)}function ne(){if(A=!1,Q){var I=n.unstable_now();V=I;var Z=!0;try{e:{_=!1,E&&(E=!1,M(q),q=-1),N=!0;var te=b;try{t:{for(B(I),C=l(x);C!==null&&!(C.expirationTime>I&&K());){var me=C.callback;if(typeof me=="function"){C.callback=null,b=C.priorityLevel;var ye=me(C.expirationTime<=I);if(I=n.unstable_now(),typeof ye=="function"){C.callback=ye,B(I),Z=!0;break t}C===l(x)&&i(x),B(I)}else i(x);C=l(x)}if(C!==null)Z=!0;else{var k=l(p);k!==null&&Te(P,k.startTime-I),Z=!1}}break e}finally{C=null,b=te,N=!1}Z=void 0}}finally{Z?F():Q=!1}}}var F;if(typeof D=="function")F=function(){D(ne)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,oe=re.port2;re.port1.onmessage=ne,F=function(){oe.postMessage(null)}}else F=function(){j(ne,0)};function Te(I,Z){q=j(function(){I(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(I){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var te=b;b=Z;try{return I()}finally{b=te}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(I,Z){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var te=b;b=I;try{return Z()}finally{b=te}},n.unstable_scheduleCallback=function(I,Z,te){var me=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?me+te:me):te=me,I){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=te+ye,I={id:v++,callback:Z,priorityLevel:I,startTime:te,expirationTime:ye,sortIndex:-1},te>me?(I.sortIndex=te,t(p,I),l(x)===null&&I===l(p)&&(E?(M(q),q=-1):E=!0,Te(P,te-me))):(I.sortIndex=ye,t(x,I),_||N||(_=!0,Q||(Q=!0,F()))),I},n.unstable_shouldYield=K,n.unstable_wrapCallback=function(I){var Z=b;return function(){var te=b;b=Z;try{return I.apply(this,arguments)}finally{b=te}}}})(Ku)),Ku}var Gh;function rv(){return Gh||(Gh=1,$u.exports=ov()),$u.exports}var Qu={exports:{}},vt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oh;function uv(){if(Oh)return vt;Oh=1;var n=Cc();function t(x){var p="https://react.dev/errors/"+x;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+x+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var i={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(x,p,v){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:x,containerInfo:p,implementation:v}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(x,p){if(x==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,vt.createPortal=function(x,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(x,p,null,v)},vt.flushSync=function(x){var p=f.T,v=i.p;try{if(f.T=null,i.p=2,x)return x()}finally{f.T=p,i.p=v,i.d.f()}},vt.preconnect=function(x,p){typeof x=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(x,p))},vt.prefetchDNS=function(x){typeof x=="string"&&i.d.D(x)},vt.preinit=function(x,p){if(typeof x=="string"&&p&&typeof p.as=="string"){var v=p.as,C=g(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(x,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:C,integrity:b,fetchPriority:N}):v==="script"&&i.d.X(x,{crossOrigin:C,integrity:b,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},vt.preinitModule=function(x,p){if(typeof x=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=g(p.as,p.crossOrigin);i.d.M(x,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(x)},vt.preload=function(x,p){if(typeof x=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,C=g(v,p.crossOrigin);i.d.L(x,v,{crossOrigin:C,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},vt.preloadModule=function(x,p){if(typeof x=="string")if(p){var v=g(p.as,p.crossOrigin);i.d.m(x,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(x)},vt.requestFormReset=function(x){i.d.r(x)},vt.unstable_batchedUpdates=function(x,p){return x(p)},vt.useFormState=function(x,p,v){return f.H.useFormState(x,p,v)},vt.useFormStatus=function(){return f.H.useHostTransitionStatus()},vt.version="19.2.0",vt}var Fh;function cv(){if(Fh)return Qu.exports;Fh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Qu.exports=uv(),Qu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh;function dv(){if(Jh)return wa;Jh=1;var n=rv(),t=Cc(),l=cv();function i(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function f(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function g(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function x(e){if(c(e)!==e)throw Error(i(188))}function p(e){var s=e.alternate;if(!s){if(s=c(e),s===null)throw Error(i(188));return s!==e?null:e}for(var a=e,r=s;;){var h=a.return;if(h===null)break;var y=h.alternate;if(y===null){if(r=h.return,r!==null){a=r;continue}break}if(h.child===y.child){for(y=h.child;y;){if(y===a)return x(h),e;if(y===r)return x(h),s;y=y.sibling}throw Error(i(188))}if(a.return!==r.return)a=h,r=y;else{for(var S=!1,w=h.child;w;){if(w===a){S=!0,a=h,r=y;break}if(w===r){S=!0,r=h,a=y;break}w=w.sibling}if(!S){for(w=y.child;w;){if(w===a){S=!0,a=y,r=h;break}if(w===r){S=!0,r=y,a=h;break}w=w.sibling}if(!S)throw Error(i(189))}}if(a.alternate!==r)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:s}function v(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=v(e),s!==null)return s;e=e.sibling}return null}var C=Object.assign,b=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),D=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function F(e){return e===null||typeof e!="object"?null:(e=ne&&e[ne]||e["@@iterator"],typeof e=="function"?e:null)}var re=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case j:return"Profiler";case A:return"StrictMode";case P:return"Suspense";case Q:return"SuspenseList";case V:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case D:return e.displayName||"Context";case M:return(e._context.displayName||"Context")+".Consumer";case B:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return s=e.displayName||null,s!==null?s:oe(e.type)||"Memo";case $:s=e._payload,e=e._init;try{return oe(e(s))}catch{}}return null}var Te=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},me=[],ye=-1;function k(e){return{current:e}}function J(e){0>ye||(e.current=me[ye],me[ye]=null,ye--)}function se(e,s){ye++,me[ye]=e.current,e.current=s}var ie=k(null),he=k(null),be=k(null),Re=k(null);function at(e,s){switch(se(be,s),se(he,e),se(ie,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?oh(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=oh(s),e=rh(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(ie),se(ie,e)}function le(){J(ie),J(he),J(be)}function je(e){e.memoizedState!==null&&se(Re,e);var s=ie.current,a=rh(s,e.type);s!==a&&(se(he,e),se(ie,a))}function yt(e){he.current===e&&(J(ie),J(he)),Re.current===e&&(J(Re),va._currentValue=te)}var rn,us;function dt(e){if(rn===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);rn=s&&s[1]||"",us=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rn+e+us}var en=!1;function js(e,s){if(!e||en)return"";en=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(s){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(O){var G=O}Reflect.construct(e,[],W)}else{try{W.call()}catch(O){G=O}e.call(W.prototype)}}else{try{throw Error()}catch(O){G=O}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(O){if(O&&G&&typeof O.stack=="string")return[O.stack,G.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=r.DetermineComponentFrameRoot(),S=y[0],w=y[1];if(S&&w){var R=S.split(`
`),z=w.split(`
`);for(h=r=0;r<R.length&&!R[r].includes("DetermineComponentFrameRoot");)r++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(r===R.length||h===z.length)for(r=R.length-1,h=z.length-1;1<=r&&0<=h&&R[r]!==z[h];)h--;for(;1<=r&&0<=h;r--,h--)if(R[r]!==z[h]){if(r!==1||h!==1)do if(r--,h--,0>h||R[r]!==z[h]){var Y=`
`+R[r].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=r&&0<=h);break}}}finally{en=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?dt(a):""}function _o(e,s){switch(e.tag){case 26:case 27:case 5:return dt(e.type);case 16:return dt("Lazy");case 13:return e.child!==s&&s!==null?dt("Suspense Fallback"):dt("Suspense");case 19:return dt("SuspenseList");case 0:case 15:return js(e.type,!1);case 11:return js(e.type.render,!1);case 1:return js(e.type,!0);case 31:return dt("Activity");default:return""}}function La(e){try{var s="",a=null;do s+=_o(e,a),a=e,e=e.return;while(e);return s}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var _l=Object.prototype.hasOwnProperty,Al=n.unstable_scheduleCallback,Ml=n.unstable_cancelCallback,Ao=n.unstable_shouldYield,Mo=n.unstable_requestPaint,St=n.unstable_now,Ro=n.unstable_getCurrentPriorityLevel,Pa=n.unstable_ImmediatePriority,qa=n.unstable_UserBlockingPriority,ks=n.unstable_NormalPriority,Io=n.unstable_LowPriority,Rl=n.unstable_IdlePriority,ee=n.log,fe=n.unstable_setDisableYieldValue,ce=null,ve=null;function Ye(e){if(typeof ee=="function"&&fe(e),ve&&typeof ve.setStrictMode=="function")try{ve.setStrictMode(ce,e)}catch{}}var it=Math.clz32?Math.clz32:Og,jo=Math.log,Il=Math.LN2;function Og(e){return e>>>=0,e===0?32:31-(jo(e)/Il|0)|0}var Ba=256,Ha=262144,za=4194304;function cs(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Va(e,s,a){var r=e.pendingLanes;if(r===0)return 0;var h=0,y=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var w=r&134217727;return w!==0?(r=w&~y,r!==0?h=cs(r):(S&=w,S!==0?h=cs(S):a||(a=w&~e,a!==0&&(h=cs(a))))):(w=r&~y,w!==0?h=cs(w):S!==0?h=cs(S):a||(a=r&~e,a!==0&&(h=cs(a)))),h===0?0:s!==0&&s!==h&&(s&y)===0&&(y=h&-h,a=s&-s,y>=a||y===32&&(a&4194048)!==0)?s:h}function jl(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function Fg(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zc(){var e=za;return za<<=1,(za&62914560)===0&&(za=4194304),e}function ko(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function kl(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Jg(e,s,a,r,h,y){var S=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var w=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(a=S&~a;0<a;){var Y=31-it(a),W=1<<Y;w[Y]=0,R[Y]=-1;var G=z[Y];if(G!==null)for(z[Y]=null,Y=0;Y<G.length;Y++){var O=G[Y];O!==null&&(O.lane&=-536870913)}a&=~W}r!==0&&Vc(e,r,0),y!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=y&~(S&~s))}function Vc(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var r=31-it(s);e.entangledLanes|=s,e.entanglements[r]=e.entanglements[r]|1073741824|a&261930}function Gc(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var r=31-it(a),h=1<<r;h&s|e[r]&s&&(e[r]|=s),a&=~h}}function Oc(e,s){var a=s&-s;return a=(a&42)!==0?1:Do(a),(a&(e.suspendedLanes|s))!==0?0:a}function Do(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Uo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Fc(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:Ih(e.type))}function Jc(e,s){var a=Z.p;try{return Z.p=e,s()}finally{Z.p=a}}var qn=Math.random().toString(36).slice(2),ft="__reactFiber$"+qn,wt="__reactProps$"+qn,Ds="__reactContainer$"+qn,Lo="__reactEvents$"+qn,Yg="__reactListeners$"+qn,$g="__reactHandles$"+qn,Yc="__reactResources$"+qn,Dl="__reactMarker$"+qn;function Po(e){delete e[ft],delete e[wt],delete e[Lo],delete e[Yg],delete e[$g]}function Us(e){var s=e[ft];if(s)return s;for(var a=e.parentNode;a;){if(s=a[Ds]||a[ft]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=ph(e);e!==null;){if(a=e[ft])return a;e=ph(e)}return s}e=a,a=e.parentNode}return null}function Ls(e){if(e=e[ft]||e[Ds]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function Ul(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(i(33))}function Ps(e){var s=e[Yc];return s||(s=e[Yc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function rt(e){e[Dl]=!0}var $c=new Set,Kc={};function ds(e,s){qs(e,s),qs(e+"Capture",s)}function qs(e,s){for(Kc[e]=s,e=0;e<s.length;e++)$c.add(s[e])}var Kg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qc={},Xc={};function Qg(e){return _l.call(Xc,e)?!0:_l.call(Qc,e)?!1:Kg.test(e)?Xc[e]=!0:(Qc[e]=!0,!1)}function Ga(e,s,a){if(Qg(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var r=s.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function Oa(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function hn(e,s,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+r)}}function Ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zc(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Xg(e,s,a){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,y=r.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return h.call(this)},set:function(S){a=""+S,y.call(this,S)}}),Object.defineProperty(e,s,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(S){a=""+S},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function qo(e){if(!e._valueTracker){var s=Zc(e)?"checked":"value";e._valueTracker=Xg(e,s,""+e[s])}}function Wc(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),r="";return e&&(r=Zc(e)?e.checked?"true":"false":e.value),e=r,e!==a?(s.setValue(e),!0):!1}function Fa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zg=/[\n"\\]/g;function zt(e){return e.replace(Zg,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Bo(e,s,a,r,h,y,S,w){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),s!=null?S==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+Ht(s)):e.value!==""+Ht(s)&&(e.value=""+Ht(s)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),s!=null?Ho(e,S,Ht(s)):a!=null?Ho(e,S,Ht(a)):r!=null&&e.removeAttribute("value"),h==null&&y!=null&&(e.defaultChecked=!!y),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Ht(w):e.removeAttribute("name")}function ed(e,s,a,r,h,y,S,w){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),s!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){qo(e);return}a=a!=null?""+Ht(a):"",s=s!=null?""+Ht(s):a,w||s===e.value||(e.value=s),e.defaultValue=s}r=r??h,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=w?e.checked:!!r,e.defaultChecked=!!r,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),qo(e)}function Ho(e,s,a){s==="number"&&Fa(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Bs(e,s,a,r){if(e=e.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=s.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&r&&(e[a].defaultSelected=!0)}else{for(a=""+Ht(a),s=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,r&&(e[h].defaultSelected=!0);return}s!==null||e[h].disabled||(s=e[h])}s!==null&&(s.selected=!0)}}function td(e,s,a){if(s!=null&&(s=""+Ht(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+Ht(a):""}function nd(e,s,a,r){if(s==null){if(r!=null){if(a!=null)throw Error(i(92));if(Te(r)){if(1<r.length)throw Error(i(93));r=r[0]}a=r}a==null&&(a=""),s=a}a=Ht(s),e.defaultValue=a,r=e.textContent,r===a&&r!==""&&r!==null&&(e.value=r),qo(e)}function Hs(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var Wg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sd(e,s,a){var r=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":r?e.setProperty(s,a):typeof a!="number"||a===0||Wg.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function ld(e,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(e=e.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||s!=null&&s.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var h in s)r=s[h],s.hasOwnProperty(h)&&a[h]!==r&&sd(e,h,r)}else for(var y in s)s.hasOwnProperty(y)&&sd(e,y,s[y])}function zo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ex=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ja(e){return tx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function pn(){}var Vo=null;function Go(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zs=null,Vs=null;function ad(e){var s=Ls(e);if(s&&(e=s.stateNode)){var a=e[wt]||null;e:switch(e=s.stateNode,s.type){case"input":if(Bo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+zt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var r=a[s];if(r!==e&&r.form===e.form){var h=r[wt]||null;if(!h)throw Error(i(90));Bo(r,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)r=a[s],r.form===e.form&&Wc(r)}break e;case"textarea":td(e,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Bs(e,!!a.multiple,s,!1)}}}var Oo=!1;function id(e,s,a){if(Oo)return e(s,a);Oo=!0;try{var r=e(s);return r}finally{if(Oo=!1,(zs!==null||Vs!==null)&&(ki(),zs&&(s=zs,e=Vs,Vs=zs=null,ad(s),e)))for(s=0;s<e.length;s++)ad(e[s])}}function Ll(e,s){var a=e.stateNode;if(a===null)return null;var r=a[wt]||null;if(r===null)return null;a=r[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fo=!1;if(gn)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){Fo=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{Fo=!1}var Bn=null,Jo=null,Ya=null;function od(){if(Ya)return Ya;var e,s=Jo,a=s.length,r,h="value"in Bn?Bn.value:Bn.textContent,y=h.length;for(e=0;e<a&&s[e]===h[e];e++);var S=a-e;for(r=1;r<=S&&s[a-r]===h[y-r];r++);return Ya=h.slice(e,1<r?1-r:void 0)}function $a(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function Ka(){return!0}function rd(){return!1}function Tt(e){function s(a,r,h,y,S){this._reactName=a,this._targetInst=h,this.type=r,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(a=e[w],this[w]=a?a(y):y[w]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ka:rd,this.isPropagationStopped=rd,this}return C(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ka)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ka)},persist:function(){},isPersistent:Ka}),s}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=Tt(fs),ql=C({},fs,{view:0,detail:0}),nx=Tt(ql),Yo,$o,Bl,Xa=C({},ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bl&&(Bl&&e.type==="mousemove"?(Yo=e.screenX-Bl.screenX,$o=e.screenY-Bl.screenY):$o=Yo=0,Bl=e),Yo)},movementY:function(e){return"movementY"in e?e.movementY:$o}}),ud=Tt(Xa),sx=C({},Xa,{dataTransfer:0}),lx=Tt(sx),ax=C({},ql,{relatedTarget:0}),Ko=Tt(ax),ix=C({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),ox=Tt(ix),rx=C({},fs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ux=Tt(rx),cx=C({},fs,{data:0}),cd=Tt(cx),dx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hx(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=mx[e])?!!s[e]:!1}function Qo(){return hx}var px=C({},ql,{key:function(e){if(e.key){var s=dx[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=$a(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qo,charCode:function(e){return e.type==="keypress"?$a(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$a(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gx=Tt(px),xx=C({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dd=Tt(xx),yx=C({},ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qo}),vx=Tt(yx),Cx=C({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),bx=Tt(Cx),Sx=C({},Xa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nx=Tt(Sx),wx=C({},fs,{newState:0,oldState:0}),Tx=Tt(wx),Ex=[9,13,27,32],Xo=gn&&"CompositionEvent"in window,Hl=null;gn&&"documentMode"in document&&(Hl=document.documentMode);var _x=gn&&"TextEvent"in window&&!Hl,fd=gn&&(!Xo||Hl&&8<Hl&&11>=Hl),md=" ",hd=!1;function pd(e,s){switch(e){case"keyup":return Ex.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gs=!1;function Ax(e,s){switch(e){case"compositionend":return gd(s);case"keypress":return s.which!==32?null:(hd=!0,md);case"textInput":return e=s.data,e===md&&hd?null:e;default:return null}}function Mx(e,s){if(Gs)return e==="compositionend"||!Xo&&pd(e,s)?(e=od(),Ya=Jo=Bn=null,Gs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return fd&&s.locale!=="ko"?null:s.data;default:return null}}var Rx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xd(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!Rx[e.type]:s==="textarea"}function yd(e,s,a,r){zs?Vs?Vs.push(r):Vs=[r]:zs=r,s=Hi(s,"onChange"),0<s.length&&(a=new Qa("onChange","change",null,a,r),e.push({event:a,listeners:s}))}var zl=null,Vl=null;function Ix(e){th(e,0)}function Za(e){var s=Ul(e);if(Wc(s))return e}function vd(e,s){if(e==="change")return s}var Cd=!1;if(gn){var Zo;if(gn){var Wo="oninput"in document;if(!Wo){var bd=document.createElement("div");bd.setAttribute("oninput","return;"),Wo=typeof bd.oninput=="function"}Zo=Wo}else Zo=!1;Cd=Zo&&(!document.documentMode||9<document.documentMode)}function Sd(){zl&&(zl.detachEvent("onpropertychange",Nd),Vl=zl=null)}function Nd(e){if(e.propertyName==="value"&&Za(Vl)){var s=[];yd(s,Vl,e,Go(e)),id(Ix,s)}}function jx(e,s,a){e==="focusin"?(Sd(),zl=s,Vl=a,zl.attachEvent("onpropertychange",Nd)):e==="focusout"&&Sd()}function kx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Za(Vl)}function Dx(e,s){if(e==="click")return Za(s)}function Ux(e,s){if(e==="input"||e==="change")return Za(s)}function Lx(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var jt=typeof Object.is=="function"?Object.is:Lx;function Gl(e,s){if(jt(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),r=Object.keys(s);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var h=a[r];if(!_l.call(s,h)||!jt(e[h],s[h]))return!1}return!0}function wd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Td(e,s){var a=wd(e);e=0;for(var r;a;){if(a.nodeType===3){if(r=e+a.textContent.length,e<=s&&r>=s)return{node:a,offset:s-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=wd(a)}}function Ed(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Ed(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function _d(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=Fa(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=Fa(e.document)}return s}function er(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var Px=gn&&"documentMode"in document&&11>=document.documentMode,Os=null,tr=null,Ol=null,nr=!1;function Ad(e,s,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nr||Os==null||Os!==Fa(r)||(r=Os,"selectionStart"in r&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ol&&Gl(Ol,r)||(Ol=r,r=Hi(tr,"onSelect"),0<r.length&&(s=new Qa("onSelect","select",null,s,a),e.push({event:s,listeners:r}),s.target=Os)))}function ms(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var Fs={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionrun:ms("Transition","TransitionRun"),transitionstart:ms("Transition","TransitionStart"),transitioncancel:ms("Transition","TransitionCancel"),transitionend:ms("Transition","TransitionEnd")},sr={},Md={};gn&&(Md=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function hs(e){if(sr[e])return sr[e];if(!Fs[e])return e;var s=Fs[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in Md)return sr[e]=s[a];return e}var Rd=hs("animationend"),Id=hs("animationiteration"),jd=hs("animationstart"),qx=hs("transitionrun"),Bx=hs("transitionstart"),Hx=hs("transitioncancel"),kd=hs("transitionend"),Dd=new Map,lr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lr.push("scrollEnd");function tn(e,s){Dd.set(e,s),ds(s,[e])}var Wa=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vt=[],Js=0,ar=0;function ei(){for(var e=Js,s=ar=Js=0;s<e;){var a=Vt[s];Vt[s++]=null;var r=Vt[s];Vt[s++]=null;var h=Vt[s];Vt[s++]=null;var y=Vt[s];if(Vt[s++]=null,r!==null&&h!==null){var S=r.pending;S===null?h.next=h:(h.next=S.next,S.next=h),r.pending=h}y!==0&&Ud(a,h,y)}}function ti(e,s,a,r){Vt[Js++]=e,Vt[Js++]=s,Vt[Js++]=a,Vt[Js++]=r,ar|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function ir(e,s,a,r){return ti(e,s,a,r),ni(e)}function ps(e,s){return ti(e,null,null,s),ni(e)}function Ud(e,s,a){e.lanes|=a;var r=e.alternate;r!==null&&(r.lanes|=a);for(var h=!1,y=e.return;y!==null;)y.childLanes|=a,r=y.alternate,r!==null&&(r.childLanes|=a),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(h=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,h&&s!==null&&(h=31-it(a),e=y.hiddenUpdates,r=e[h],r===null?e[h]=[s]:r.push(s),s.lane=a|536870912),y):null}function ni(e){if(50<fa)throw fa=0,pu=null,Error(i(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var Ys={};function zx(e,s,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,s,a,r){return new zx(e,s,a,r)}function or(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xn(e,s){var a=e.alternate;return a===null?(a=kt(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ld(e,s){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function si(e,s,a,r,h,y){var S=0;if(r=e,typeof e=="function")or(e)&&(S=1);else if(typeof e=="string")S=Jy(e,a,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case V:return e=kt(31,a,s,h),e.elementType=V,e.lanes=y,e;case E:return gs(a.children,h,y,s);case A:S=8,h|=24;break;case j:return e=kt(12,a,s,h|2),e.elementType=j,e.lanes=y,e;case P:return e=kt(13,a,s,h),e.elementType=P,e.lanes=y,e;case Q:return e=kt(19,a,s,h),e.elementType=Q,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:S=10;break e;case M:S=9;break e;case B:S=11;break e;case q:S=14;break e;case $:S=16,r=null;break e}S=29,a=Error(i(130,e===null?"null":typeof e,"")),r=null}return s=kt(S,a,s,h),s.elementType=e,s.type=r,s.lanes=y,s}function gs(e,s,a,r){return e=kt(7,e,r,s),e.lanes=a,e}function rr(e,s,a){return e=kt(6,e,null,s),e.lanes=a,e}function Pd(e){var s=kt(18,null,null,0);return s.stateNode=e,s}function ur(e,s,a){return s=kt(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var qd=new WeakMap;function Gt(e,s){if(typeof e=="object"&&e!==null){var a=qd.get(e);return a!==void 0?a:(s={value:e,source:s,stack:La(s)},qd.set(e,s),s)}return{value:e,source:s,stack:La(s)}}var $s=[],Ks=0,li=null,Fl=0,Ot=[],Ft=0,Hn=null,un=1,cn="";function yn(e,s){$s[Ks++]=Fl,$s[Ks++]=li,li=e,Fl=s}function Bd(e,s,a){Ot[Ft++]=un,Ot[Ft++]=cn,Ot[Ft++]=Hn,Hn=e;var r=un;e=cn;var h=32-it(r)-1;r&=~(1<<h),a+=1;var y=32-it(s)+h;if(30<y){var S=h-h%5;y=(r&(1<<S)-1).toString(32),r>>=S,h-=S,un=1<<32-it(s)+h|a<<h|r,cn=y+e}else un=1<<y|a<<h|r,cn=e}function cr(e){e.return!==null&&(yn(e,1),Bd(e,1,0))}function dr(e){for(;e===li;)li=$s[--Ks],$s[Ks]=null,Fl=$s[--Ks],$s[Ks]=null;for(;e===Hn;)Hn=Ot[--Ft],Ot[Ft]=null,cn=Ot[--Ft],Ot[Ft]=null,un=Ot[--Ft],Ot[Ft]=null}function Hd(e,s){Ot[Ft++]=un,Ot[Ft++]=cn,Ot[Ft++]=Hn,un=s.id,cn=s.overflow,Hn=e}var mt=null,Oe=null,Ie=!1,zn=null,Jt=!1,fr=Error(i(519));function Vn(e){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jl(Gt(s,e)),fr}function zd(e){var s=e.stateNode,a=e.type,r=e.memoizedProps;switch(s[ft]=e,s[wt]=r,a){case"dialog":_e("cancel",s),_e("close",s);break;case"iframe":case"object":case"embed":_e("load",s);break;case"video":case"audio":for(a=0;a<ha.length;a++)_e(ha[a],s);break;case"source":_e("error",s);break;case"img":case"image":case"link":_e("error",s),_e("load",s);break;case"details":_e("toggle",s);break;case"input":_e("invalid",s),ed(s,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":_e("invalid",s);break;case"textarea":_e("invalid",s),nd(s,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||r.suppressHydrationWarning===!0||ah(s.textContent,a)?(r.popover!=null&&(_e("beforetoggle",s),_e("toggle",s)),r.onScroll!=null&&_e("scroll",s),r.onScrollEnd!=null&&_e("scrollend",s),r.onClick!=null&&(s.onclick=pn),s=!0):s=!1,s||Vn(e,!0)}function Vd(e){for(mt=e.return;mt;)switch(mt.tag){case 5:case 31:case 13:Jt=!1;return;case 27:case 3:Jt=!0;return;default:mt=mt.return}}function Qs(e){if(e!==mt)return!1;if(!Ie)return Vd(e),Ie=!0,!1;var s=e.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ru(e.type,e.memoizedProps)),a=!a),a&&Oe&&Vn(e),Vd(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Oe=hh(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Oe=hh(e)}else s===27?(s=Oe,ns(e.type)?(e=Uu,Uu=null,Oe=e):Oe=s):Oe=mt?$t(e.stateNode.nextSibling):null;return!0}function xs(){Oe=mt=null,Ie=!1}function mr(){var e=zn;return e!==null&&(Mt===null?Mt=e:Mt.push.apply(Mt,e),zn=null),e}function Jl(e){zn===null?zn=[e]:zn.push(e)}var hr=k(null),ys=null,vn=null;function Gn(e,s,a){se(hr,s._currentValue),s._currentValue=a}function Cn(e){e._currentValue=hr.current,J(hr)}function pr(e,s,a){for(;e!==null;){var r=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,r!==null&&(r.childLanes|=s)):r!==null&&(r.childLanes&s)!==s&&(r.childLanes|=s),e===a)break;e=e.return}}function gr(e,s,a,r){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var y=h.dependencies;if(y!==null){var S=h.child;y=y.firstContext;e:for(;y!==null;){var w=y;y=h;for(var R=0;R<s.length;R++)if(w.context===s[R]){y.lanes|=a,w=y.alternate,w!==null&&(w.lanes|=a),pr(y.return,a,e),r||(S=null);break e}y=w.next}}else if(h.tag===18){if(S=h.return,S===null)throw Error(i(341));S.lanes|=a,y=S.alternate,y!==null&&(y.lanes|=a),pr(S,a,e),S=null}else S=h.child;if(S!==null)S.return=h;else for(S=h;S!==null;){if(S===e){S=null;break}if(h=S.sibling,h!==null){h.return=S.return,S=h;break}S=S.return}h=S}}function Xs(e,s,a,r){e=null;for(var h=s,y=!1;h!==null;){if(!y){if((h.flags&524288)!==0)y=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var S=h.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var w=h.type;jt(h.pendingProps.value,S.value)||(e!==null?e.push(w):e=[w])}}else if(h===Re.current){if(S=h.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(va):e=[va])}h=h.return}e!==null&&gr(s,e,a,r),s.flags|=262144}function ai(e){for(e=e.firstContext;e!==null;){if(!jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vs(e){ys=e,vn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ht(e){return Gd(ys,e)}function ii(e,s){return ys===null&&vs(e),Gd(e,s)}function Gd(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},vn===null){if(e===null)throw Error(i(308));vn=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else vn=vn.next=s;return a}var Vx=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,r){e.push(r)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},Gx=n.unstable_scheduleCallback,Ox=n.unstable_NormalPriority,tt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xr(){return{controller:new Vx,data:new Map,refCount:0}}function Yl(e){e.refCount--,e.refCount===0&&Gx(Ox,function(){e.controller.abort()})}var $l=null,yr=0,Zs=0,Ws=null;function Fx(e,s){if($l===null){var a=$l=[];yr=0,Zs=bu(),Ws={status:"pending",value:void 0,then:function(r){a.push(r)}}}return yr++,s.then(Od,Od),s}function Od(){if(--yr===0&&$l!==null){Ws!==null&&(Ws.status="fulfilled");var e=$l;$l=null,Zs=0,Ws=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function Jx(e,s){var a=[],r={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){r.status="fulfilled",r.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(r.status="rejected",r.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),r}var Fd=I.S;I.S=function(e,s){Mm=St(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Fx(e,s),Fd!==null&&Fd(e,s)};var Cs=k(null);function vr(){var e=Cs.current;return e!==null?e:Ge.pooledCache}function oi(e,s){s===null?se(Cs,Cs.current):se(Cs,s.pool)}function Jd(){var e=vr();return e===null?null:{parent:tt._currentValue,pool:e}}var el=Error(i(460)),Cr=Error(i(474)),ri=Error(i(542)),ui={then:function(){}};function Yd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $d(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then(pn,pn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Qd(e),e;default:if(typeof s.status=="string")s.then(pn,pn);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=s,e.status="pending",e.then(function(r){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=r}},function(r){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=r}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Qd(e),e}throw Ss=s,el}}function bs(e){try{var s=e._init;return s(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ss=a,el):a}}var Ss=null;function Kd(){if(Ss===null)throw Error(i(459));var e=Ss;return Ss=null,e}function Qd(e){if(e===el||e===ri)throw Error(i(483))}var tl=null,Kl=0;function ci(e){var s=Kl;return Kl+=1,tl===null&&(tl=[]),$d(tl,e,s)}function Ql(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function di(e,s){throw s.$$typeof===b?Error(i(525)):(e=Object.prototype.toString.call(s),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function Xd(e){function s(L,U){if(e){var H=L.deletions;H===null?(L.deletions=[U],L.flags|=16):H.push(U)}}function a(L,U){if(!e)return null;for(;U!==null;)s(L,U),U=U.sibling;return null}function r(L){for(var U=new Map;L!==null;)L.key!==null?U.set(L.key,L):U.set(L.index,L),L=L.sibling;return U}function h(L,U){return L=xn(L,U),L.index=0,L.sibling=null,L}function y(L,U,H){return L.index=H,e?(H=L.alternate,H!==null?(H=H.index,H<U?(L.flags|=67108866,U):H):(L.flags|=67108866,U)):(L.flags|=1048576,U)}function S(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function w(L,U,H,X){return U===null||U.tag!==6?(U=rr(H,L.mode,X),U.return=L,U):(U=h(U,H),U.return=L,U)}function R(L,U,H,X){var pe=H.type;return pe===E?Y(L,U,H.props.children,X,H.key):U!==null&&(U.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===$&&bs(pe)===U.type)?(U=h(U,H.props),Ql(U,H),U.return=L,U):(U=si(H.type,H.key,H.props,null,L.mode,X),Ql(U,H),U.return=L,U)}function z(L,U,H,X){return U===null||U.tag!==4||U.stateNode.containerInfo!==H.containerInfo||U.stateNode.implementation!==H.implementation?(U=ur(H,L.mode,X),U.return=L,U):(U=h(U,H.children||[]),U.return=L,U)}function Y(L,U,H,X,pe){return U===null||U.tag!==7?(U=gs(H,L.mode,X,pe),U.return=L,U):(U=h(U,H),U.return=L,U)}function W(L,U,H){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=rr(""+U,L.mode,H),U.return=L,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case N:return H=si(U.type,U.key,U.props,null,L.mode,H),Ql(H,U),H.return=L,H;case _:return U=ur(U,L.mode,H),U.return=L,U;case $:return U=bs(U),W(L,U,H)}if(Te(U)||F(U))return U=gs(U,L.mode,H,null),U.return=L,U;if(typeof U.then=="function")return W(L,ci(U),H);if(U.$$typeof===D)return W(L,ii(L,U),H);di(L,U)}return null}function G(L,U,H,X){var pe=U!==null?U.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return pe!==null?null:w(L,U,""+H,X);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case N:return H.key===pe?R(L,U,H,X):null;case _:return H.key===pe?z(L,U,H,X):null;case $:return H=bs(H),G(L,U,H,X)}if(Te(H)||F(H))return pe!==null?null:Y(L,U,H,X,null);if(typeof H.then=="function")return G(L,U,ci(H),X);if(H.$$typeof===D)return G(L,U,ii(L,H),X);di(L,H)}return null}function O(L,U,H,X,pe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(H)||null,w(U,L,""+X,pe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case N:return L=L.get(X.key===null?H:X.key)||null,R(U,L,X,pe);case _:return L=L.get(X.key===null?H:X.key)||null,z(U,L,X,pe);case $:return X=bs(X),O(L,U,H,X,pe)}if(Te(X)||F(X))return L=L.get(H)||null,Y(U,L,X,pe,null);if(typeof X.then=="function")return O(L,U,H,ci(X),pe);if(X.$$typeof===D)return O(L,U,H,ii(U,X),pe);di(U,X)}return null}function ue(L,U,H,X){for(var pe=null,ke=null,de=U,we=U=0,Me=null;de!==null&&we<H.length;we++){de.index>we?(Me=de,de=null):Me=de.sibling;var De=G(L,de,H[we],X);if(De===null){de===null&&(de=Me);break}e&&de&&De.alternate===null&&s(L,de),U=y(De,U,we),ke===null?pe=De:ke.sibling=De,ke=De,de=Me}if(we===H.length)return a(L,de),Ie&&yn(L,we),pe;if(de===null){for(;we<H.length;we++)de=W(L,H[we],X),de!==null&&(U=y(de,U,we),ke===null?pe=de:ke.sibling=de,ke=de);return Ie&&yn(L,we),pe}for(de=r(de);we<H.length;we++)Me=O(de,L,we,H[we],X),Me!==null&&(e&&Me.alternate!==null&&de.delete(Me.key===null?we:Me.key),U=y(Me,U,we),ke===null?pe=Me:ke.sibling=Me,ke=Me);return e&&de.forEach(function(os){return s(L,os)}),Ie&&yn(L,we),pe}function ge(L,U,H,X){if(H==null)throw Error(i(151));for(var pe=null,ke=null,de=U,we=U=0,Me=null,De=H.next();de!==null&&!De.done;we++,De=H.next()){de.index>we?(Me=de,de=null):Me=de.sibling;var os=G(L,de,De.value,X);if(os===null){de===null&&(de=Me);break}e&&de&&os.alternate===null&&s(L,de),U=y(os,U,we),ke===null?pe=os:ke.sibling=os,ke=os,de=Me}if(De.done)return a(L,de),Ie&&yn(L,we),pe;if(de===null){for(;!De.done;we++,De=H.next())De=W(L,De.value,X),De!==null&&(U=y(De,U,we),ke===null?pe=De:ke.sibling=De,ke=De);return Ie&&yn(L,we),pe}for(de=r(de);!De.done;we++,De=H.next())De=O(de,L,we,De.value,X),De!==null&&(e&&De.alternate!==null&&de.delete(De.key===null?we:De.key),U=y(De,U,we),ke===null?pe=De:ke.sibling=De,ke=De);return e&&de.forEach(function(sv){return s(L,sv)}),Ie&&yn(L,we),pe}function ze(L,U,H,X){if(typeof H=="object"&&H!==null&&H.type===E&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case N:e:{for(var pe=H.key;U!==null;){if(U.key===pe){if(pe=H.type,pe===E){if(U.tag===7){a(L,U.sibling),X=h(U,H.props.children),X.return=L,L=X;break e}}else if(U.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===$&&bs(pe)===U.type){a(L,U.sibling),X=h(U,H.props),Ql(X,H),X.return=L,L=X;break e}a(L,U);break}else s(L,U);U=U.sibling}H.type===E?(X=gs(H.props.children,L.mode,X,H.key),X.return=L,L=X):(X=si(H.type,H.key,H.props,null,L.mode,X),Ql(X,H),X.return=L,L=X)}return S(L);case _:e:{for(pe=H.key;U!==null;){if(U.key===pe)if(U.tag===4&&U.stateNode.containerInfo===H.containerInfo&&U.stateNode.implementation===H.implementation){a(L,U.sibling),X=h(U,H.children||[]),X.return=L,L=X;break e}else{a(L,U);break}else s(L,U);U=U.sibling}X=ur(H,L.mode,X),X.return=L,L=X}return S(L);case $:return H=bs(H),ze(L,U,H,X)}if(Te(H))return ue(L,U,H,X);if(F(H)){if(pe=F(H),typeof pe!="function")throw Error(i(150));return H=pe.call(H),ge(L,U,H,X)}if(typeof H.then=="function")return ze(L,U,ci(H),X);if(H.$$typeof===D)return ze(L,U,ii(L,H),X);di(L,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,U!==null&&U.tag===6?(a(L,U.sibling),X=h(U,H),X.return=L,L=X):(a(L,U),X=rr(H,L.mode,X),X.return=L,L=X),S(L)):a(L,U)}return function(L,U,H,X){try{Kl=0;var pe=ze(L,U,H,X);return tl=null,pe}catch(de){if(de===el||de===ri)throw de;var ke=kt(29,de,null,L.mode);return ke.lanes=X,ke.return=L,ke}finally{}}}var Ns=Xd(!0),Zd=Xd(!1),On=!1;function br(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sr(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Jn(e,s,a){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Le&2)!==0){var h=r.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),r.pending=s,s=ni(e),Ud(e,null,a),s}return ti(e,r,s,a),ni(e)}function Xl(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var r=s.lanes;r&=e.pendingLanes,a|=r,s.lanes=a,Gc(e,a)}}function Nr(e,s){var a=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var h=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?h=y=S:y=y.next=S,a=a.next}while(a!==null);y===null?h=y=s:y=y.next=s}else h=y=s;a={baseState:r.baseState,firstBaseUpdate:h,lastBaseUpdate:y,shared:r.shared,callbacks:r.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var wr=!1;function Zl(){if(wr){var e=Ws;if(e!==null)throw e}}function Wl(e,s,a,r){wr=!1;var h=e.updateQueue;On=!1;var y=h.firstBaseUpdate,S=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var R=w,z=R.next;R.next=null,S===null?y=z:S.next=z,S=R;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,w=Y.lastBaseUpdate,w!==S&&(w===null?Y.firstBaseUpdate=z:w.next=z,Y.lastBaseUpdate=R))}if(y!==null){var W=h.baseState;S=0,Y=z=R=null,w=y;do{var G=w.lane&-536870913,O=G!==w.lane;if(O?(Ae&G)===G:(r&G)===G){G!==0&&G===Zs&&(wr=!0),Y!==null&&(Y=Y.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ue=e,ge=w;G=s;var ze=a;switch(ge.tag){case 1:if(ue=ge.payload,typeof ue=="function"){W=ue.call(ze,W,G);break e}W=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ge.payload,G=typeof ue=="function"?ue.call(ze,W,G):ue,G==null)break e;W=C({},W,G);break e;case 2:On=!0}}G=w.callback,G!==null&&(e.flags|=64,O&&(e.flags|=8192),O=h.callbacks,O===null?h.callbacks=[G]:O.push(G))}else O={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Y===null?(z=Y=O,R=W):Y=Y.next=O,S|=G;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;O=w,w=O.next,O.next=null,h.lastBaseUpdate=O,h.shared.pending=null}}while(!0);Y===null&&(R=W),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,y===null&&(h.shared.lanes=0),Xn|=S,e.lanes=S,e.memoizedState=W}}function Wd(e,s){if(typeof e!="function")throw Error(i(191,e));e.call(s)}function ef(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Wd(a[e],s)}var nl=k(null),fi=k(0);function tf(e,s){e=Mn,se(fi,e),se(nl,s),Mn=e|s.baseLanes}function Tr(){se(fi,Mn),se(nl,nl.current)}function Er(){Mn=fi.current,J(nl),J(fi)}var Dt=k(null),Yt=null;function Yn(e){var s=e.alternate;se(Ze,Ze.current&1),se(Dt,e),Yt===null&&(s===null||nl.current!==null||s.memoizedState!==null)&&(Yt=e)}function _r(e){se(Ze,Ze.current),se(Dt,e),Yt===null&&(Yt=e)}function nf(e){e.tag===22?(se(Ze,Ze.current),se(Dt,e),Yt===null&&(Yt=e)):$n()}function $n(){se(Ze,Ze.current),se(Dt,Dt.current)}function Ut(e){J(Dt),Yt===e&&(Yt=null),J(Ze)}var Ze=k(0);function mi(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ku(a)||Du(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var bn=0,Ne=null,Be=null,nt=null,hi=!1,sl=!1,ws=!1,pi=0,ea=0,ll=null,Yx=0;function Qe(){throw Error(i(321))}function Ar(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!jt(e[a],s[a]))return!1;return!0}function Mr(e,s,a,r,h,y){return bn=y,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,I.H=e===null||e.memoizedState===null?Hf:Or,ws=!1,y=a(r,h),ws=!1,sl&&(y=lf(s,a,r,h)),sf(e),y}function sf(e){I.H=sa;var s=Be!==null&&Be.next!==null;if(bn=0,nt=Be=Ne=null,hi=!1,ea=0,ll=null,s)throw Error(i(300));e===null||st||(e=e.dependencies,e!==null&&ai(e)&&(st=!0))}function lf(e,s,a,r){Ne=e;var h=0;do{if(sl&&(ll=null),ea=0,sl=!1,25<=h)throw Error(i(301));if(h+=1,nt=Be=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}I.H=zf,y=s(a,r)}while(sl);return y}function $x(){var e=I.H,s=e.useState()[0];return s=typeof s.then=="function"?ta(s):s,e=e.useState()[0],(Be!==null?Be.memoizedState:null)!==e&&(Ne.flags|=1024),s}function Rr(){var e=pi!==0;return pi=0,e}function Ir(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function jr(e){if(hi){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}hi=!1}bn=0,nt=Be=Ne=null,sl=!1,ea=pi=0,ll=null}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Ne.memoizedState=nt=e:nt=nt.next=e,nt}function We(){if(Be===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var s=nt===null?Ne.memoizedState:nt.next;if(s!==null)nt=s,Be=e;else{if(e===null)throw Ne.alternate===null?Error(i(467)):Error(i(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},nt===null?Ne.memoizedState=nt=e:nt=nt.next=e}return nt}function gi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ta(e){var s=ea;return ea+=1,ll===null&&(ll=[]),e=$d(ll,e,s),s=Ne,(nt===null?s.memoizedState:nt.next)===null&&(s=s.alternate,I.H=s===null||s.memoizedState===null?Hf:Or),e}function xi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ta(e);if(e.$$typeof===D)return ht(e)}throw Error(i(438,String(e)))}function kr(e){var s=null,a=Ne.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var r=Ne.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(s={data:r.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=gi(),Ne.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),r=0;r<e;r++)a[r]=K;return s.index++,a}function Sn(e,s){return typeof s=="function"?s(e):s}function yi(e){var s=We();return Dr(s,Be,e)}function Dr(e,s,a){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=a;var h=e.baseQueue,y=r.pending;if(y!==null){if(h!==null){var S=h.next;h.next=y.next,y.next=S}s.baseQueue=h=y,r.pending=null}if(y=e.baseState,h===null)e.memoizedState=y;else{s=h.next;var w=S=null,R=null,z=s,Y=!1;do{var W=z.lane&-536870913;if(W!==z.lane?(Ae&W)===W:(bn&W)===W){var G=z.revertLane;if(G===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),W===Zs&&(Y=!0);else if((bn&G)===G){z=z.next,G===Zs&&(Y=!0);continue}else W={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(w=R=W,S=y):R=R.next=W,Ne.lanes|=G,Xn|=G;W=z.action,ws&&a(y,W),y=z.hasEagerState?z.eagerState:a(y,W)}else G={lane:W,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(w=R=G,S=y):R=R.next=G,Ne.lanes|=W,Xn|=W;z=z.next}while(z!==null&&z!==s);if(R===null?S=y:R.next=w,!jt(y,e.memoizedState)&&(st=!0,Y&&(a=Ws,a!==null)))throw a;e.memoizedState=y,e.baseState=S,e.baseQueue=R,r.lastRenderedState=y}return h===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ur(e){var s=We(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var r=a.dispatch,h=a.pending,y=s.memoizedState;if(h!==null){a.pending=null;var S=h=h.next;do y=e(y,S.action),S=S.next;while(S!==h);jt(y,s.memoizedState)||(st=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),a.lastRenderedState=y}return[y,r]}function af(e,s,a){var r=Ne,h=We(),y=Ie;if(y){if(a===void 0)throw Error(i(407));a=a()}else a=s();var S=!jt((Be||h).memoizedState,a);if(S&&(h.memoizedState=a,st=!0),h=h.queue,qr(uf.bind(null,r,h,e),[e]),h.getSnapshot!==s||S||nt!==null&&nt.memoizedState.tag&1){if(r.flags|=2048,al(9,{destroy:void 0},rf.bind(null,r,h,a,s),null),Ge===null)throw Error(i(349));y||(bn&127)!==0||of(r,s,a)}return a}function of(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=Ne.updateQueue,s===null?(s=gi(),Ne.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function rf(e,s,a,r){s.value=a,s.getSnapshot=r,cf(s)&&df(e)}function uf(e,s,a){return a(function(){cf(s)&&df(e)})}function cf(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!jt(e,a)}catch{return!0}}function df(e){var s=ps(e,2);s!==null&&Rt(s,e,2)}function Lr(e){var s=Nt();if(typeof e=="function"){var a=e;if(e=a(),ws){Ye(!0);try{a()}finally{Ye(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:e},s}function ff(e,s,a,r){return e.baseState=a,Dr(e,Be,typeof r=="function"?r:Sn)}function Kx(e,s,a,r,h){if(bi(e))throw Error(i(485));if(e=s.action,e!==null){var y={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};I.T!==null?a(!0):y.isTransition=!1,r(y),a=s.pending,a===null?(y.next=s.pending=y,mf(s,y)):(y.next=a.next,s.pending=a.next=y)}}function mf(e,s){var a=s.action,r=s.payload,h=e.state;if(s.isTransition){var y=I.T,S={};I.T=S;try{var w=a(h,r),R=I.S;R!==null&&R(S,w),hf(e,s,w)}catch(z){Pr(e,s,z)}finally{y!==null&&S.types!==null&&(y.types=S.types),I.T=y}}else try{y=a(h,r),hf(e,s,y)}catch(z){Pr(e,s,z)}}function hf(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){pf(e,s,r)},function(r){return Pr(e,s,r)}):pf(e,s,a)}function pf(e,s,a){s.status="fulfilled",s.value=a,gf(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,mf(e,a)))}function Pr(e,s,a){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do s.status="rejected",s.reason=a,gf(s),s=s.next;while(s!==r)}e.action=null}function gf(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function xf(e,s){return s}function yf(e,s){if(Ie){var a=Ge.formState;if(a!==null){e:{var r=Ne;if(Ie){if(Oe){t:{for(var h=Oe,y=Jt;h.nodeType!==8;){if(!y){h=null;break t}if(h=$t(h.nextSibling),h===null){h=null;break t}}y=h.data,h=y==="F!"||y==="F"?h:null}if(h){Oe=$t(h.nextSibling),r=h.data==="F!";break e}}Vn(r)}r=!1}r&&(s=a[0])}}return a=Nt(),a.memoizedState=a.baseState=s,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xf,lastRenderedState:s},a.queue=r,a=Pf.bind(null,Ne,r),r.dispatch=a,r=Lr(!1),y=Gr.bind(null,Ne,!1,r.queue),r=Nt(),h={state:s,dispatch:null,action:e,pending:null},r.queue=h,a=Kx.bind(null,Ne,h,y,a),h.dispatch=a,r.memoizedState=e,[s,a,!1]}function vf(e){var s=We();return Cf(s,Be,e)}function Cf(e,s,a){if(s=Dr(e,s,xf)[0],e=yi(Sn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var r=ta(s)}catch(S){throw S===el?ri:S}else r=s;s=We();var h=s.queue,y=h.dispatch;return a!==s.memoizedState&&(Ne.flags|=2048,al(9,{destroy:void 0},Qx.bind(null,h,a),null)),[r,y,e]}function Qx(e,s){e.action=s}function bf(e){var s=We(),a=Be;if(a!==null)return Cf(s,a,e);We(),s=s.memoizedState,a=We();var r=a.queue.dispatch;return a.memoizedState=e,[s,r,!1]}function al(e,s,a,r){return e={tag:e,create:a,deps:r,inst:s,next:null},s=Ne.updateQueue,s===null&&(s=gi(),Ne.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,s.lastEffect=e),e}function Sf(){return We().memoizedState}function vi(e,s,a,r){var h=Nt();Ne.flags|=e,h.memoizedState=al(1|s,{destroy:void 0},a,r===void 0?null:r)}function Ci(e,s,a,r){var h=We();r=r===void 0?null:r;var y=h.memoizedState.inst;Be!==null&&r!==null&&Ar(r,Be.memoizedState.deps)?h.memoizedState=al(s,y,a,r):(Ne.flags|=e,h.memoizedState=al(1|s,y,a,r))}function Nf(e,s){vi(8390656,8,e,s)}function qr(e,s){Ci(2048,8,e,s)}function Xx(e){Ne.flags|=4;var s=Ne.updateQueue;if(s===null)s=gi(),Ne.updateQueue=s,s.events=[e];else{var a=s.events;a===null?s.events=[e]:a.push(e)}}function wf(e){var s=We().memoizedState;return Xx({ref:s,nextImpl:e}),function(){if((Le&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Tf(e,s){return Ci(4,2,e,s)}function Ef(e,s){return Ci(4,4,e,s)}function _f(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Af(e,s,a){a=a!=null?a.concat([e]):null,Ci(4,4,_f.bind(null,s,e),a)}function Br(){}function Mf(e,s){var a=We();s=s===void 0?null:s;var r=a.memoizedState;return s!==null&&Ar(s,r[1])?r[0]:(a.memoizedState=[e,s],e)}function Rf(e,s){var a=We();s=s===void 0?null:s;var r=a.memoizedState;if(s!==null&&Ar(s,r[1]))return r[0];if(r=e(),ws){Ye(!0);try{e()}finally{Ye(!1)}}return a.memoizedState=[r,s],r}function Hr(e,s,a){return a===void 0||(bn&1073741824)!==0&&(Ae&261930)===0?e.memoizedState=s:(e.memoizedState=a,e=Im(),Ne.lanes|=e,Xn|=e,a)}function If(e,s,a,r){return jt(a,s)?a:nl.current!==null?(e=Hr(e,a,r),jt(e,s)||(st=!0),e):(bn&42)===0||(bn&1073741824)!==0&&(Ae&261930)===0?(st=!0,e.memoizedState=a):(e=Im(),Ne.lanes|=e,Xn|=e,s)}function jf(e,s,a,r,h){var y=Z.p;Z.p=y!==0&&8>y?y:8;var S=I.T,w={};I.T=w,Gr(e,!1,s,a);try{var R=h(),z=I.S;if(z!==null&&z(w,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Y=Jx(R,r);na(e,s,Y,qt(e))}else na(e,s,r,qt(e))}catch(W){na(e,s,{then:function(){},status:"rejected",reason:W},qt())}finally{Z.p=y,S!==null&&w.types!==null&&(S.types=w.types),I.T=S}}function Zx(){}function zr(e,s,a,r){if(e.tag!==5)throw Error(i(476));var h=kf(e).queue;jf(e,h,s,te,a===null?Zx:function(){return Df(e),a(r)})}function kf(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:te},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function Df(e){var s=kf(e);s.next===null&&(s=e.alternate.memoizedState),na(e,s.next.queue,{},qt())}function Vr(){return ht(va)}function Uf(){return We().memoizedState}function Lf(){return We().memoizedState}function Wx(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=qt();e=Fn(a);var r=Jn(s,e,a);r!==null&&(Rt(r,s,a),Xl(r,s,a)),s={cache:xr()},e.payload=s;return}s=s.return}}function ey(e,s,a){var r=qt();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},bi(e)?qf(s,a):(a=ir(e,s,a,r),a!==null&&(Rt(a,e,r),Bf(a,s,r)))}function Pf(e,s,a){var r=qt();na(e,s,a,r)}function na(e,s,a,r){var h={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(bi(e))qf(s,h);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var S=s.lastRenderedState,w=y(S,a);if(h.hasEagerState=!0,h.eagerState=w,jt(w,S))return ti(e,s,h,0),Ge===null&&ei(),!1}catch{}finally{}if(a=ir(e,s,h,r),a!==null)return Rt(a,e,r),Bf(a,s,r),!0}return!1}function Gr(e,s,a,r){if(r={lane:2,revertLane:bu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},bi(e)){if(s)throw Error(i(479))}else s=ir(e,a,r,2),s!==null&&Rt(s,e,2)}function bi(e){var s=e.alternate;return e===Ne||s!==null&&s===Ne}function qf(e,s){sl=hi=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function Bf(e,s,a){if((a&4194048)!==0){var r=s.lanes;r&=e.pendingLanes,a|=r,s.lanes=a,Gc(e,a)}}var sa={readContext:ht,use:xi,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};sa.useEffectEvent=Qe;var Hf={readContext:ht,use:xi,useCallback:function(e,s){return Nt().memoizedState=[e,s===void 0?null:s],e},useContext:ht,useEffect:Nf,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,vi(4194308,4,_f.bind(null,s,e),a)},useLayoutEffect:function(e,s){return vi(4194308,4,e,s)},useInsertionEffect:function(e,s){vi(4,2,e,s)},useMemo:function(e,s){var a=Nt();s=s===void 0?null:s;var r=e();if(ws){Ye(!0);try{e()}finally{Ye(!1)}}return a.memoizedState=[r,s],r},useReducer:function(e,s,a){var r=Nt();if(a!==void 0){var h=a(s);if(ws){Ye(!0);try{a(s)}finally{Ye(!1)}}}else h=s;return r.memoizedState=r.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},r.queue=e,e=e.dispatch=ey.bind(null,Ne,e),[r.memoizedState,e]},useRef:function(e){var s=Nt();return e={current:e},s.memoizedState=e},useState:function(e){e=Lr(e);var s=e.queue,a=Pf.bind(null,Ne,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:Br,useDeferredValue:function(e,s){var a=Nt();return Hr(a,e,s)},useTransition:function(){var e=Lr(!1);return e=jf.bind(null,Ne,e.queue,!0,!1),Nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var r=Ne,h=Nt();if(Ie){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),Ge===null)throw Error(i(349));(Ae&127)!==0||of(r,s,a)}h.memoizedState=a;var y={value:a,getSnapshot:s};return h.queue=y,Nf(uf.bind(null,r,y,e),[e]),r.flags|=2048,al(9,{destroy:void 0},rf.bind(null,r,y,a,s),null),a},useId:function(){var e=Nt(),s=Ge.identifierPrefix;if(Ie){var a=cn,r=un;a=(r&~(1<<32-it(r)-1)).toString(32)+a,s="_"+s+"R_"+a,a=pi++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Yx++,s="_"+s+"r_"+a.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:Vr,useFormState:yf,useActionState:yf,useOptimistic:function(e){var s=Nt();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Gr.bind(null,Ne,!0,a),a.dispatch=s,[e,s]},useMemoCache:kr,useCacheRefresh:function(){return Nt().memoizedState=Wx.bind(null,Ne)},useEffectEvent:function(e){var s=Nt(),a={impl:e};return s.memoizedState=a,function(){if((Le&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Or={readContext:ht,use:xi,useCallback:Mf,useContext:ht,useEffect:qr,useImperativeHandle:Af,useInsertionEffect:Tf,useLayoutEffect:Ef,useMemo:Rf,useReducer:yi,useRef:Sf,useState:function(){return yi(Sn)},useDebugValue:Br,useDeferredValue:function(e,s){var a=We();return If(a,Be.memoizedState,e,s)},useTransition:function(){var e=yi(Sn)[0],s=We().memoizedState;return[typeof e=="boolean"?e:ta(e),s]},useSyncExternalStore:af,useId:Uf,useHostTransitionStatus:Vr,useFormState:vf,useActionState:vf,useOptimistic:function(e,s){var a=We();return ff(a,Be,e,s)},useMemoCache:kr,useCacheRefresh:Lf};Or.useEffectEvent=wf;var zf={readContext:ht,use:xi,useCallback:Mf,useContext:ht,useEffect:qr,useImperativeHandle:Af,useInsertionEffect:Tf,useLayoutEffect:Ef,useMemo:Rf,useReducer:Ur,useRef:Sf,useState:function(){return Ur(Sn)},useDebugValue:Br,useDeferredValue:function(e,s){var a=We();return Be===null?Hr(a,e,s):If(a,Be.memoizedState,e,s)},useTransition:function(){var e=Ur(Sn)[0],s=We().memoizedState;return[typeof e=="boolean"?e:ta(e),s]},useSyncExternalStore:af,useId:Uf,useHostTransitionStatus:Vr,useFormState:bf,useActionState:bf,useOptimistic:function(e,s){var a=We();return Be!==null?ff(a,Be,e,s):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:kr,useCacheRefresh:Lf};zf.useEffectEvent=wf;function Fr(e,s,a,r){s=e.memoizedState,a=a(r,s),a=a==null?s:C({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Jr={enqueueSetState:function(e,s,a){e=e._reactInternals;var r=qt(),h=Fn(r);h.payload=s,a!=null&&(h.callback=a),s=Jn(e,h,r),s!==null&&(Rt(s,e,r),Xl(s,e,r))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var r=qt(),h=Fn(r);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=Jn(e,h,r),s!==null&&(Rt(s,e,r),Xl(s,e,r))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=qt(),r=Fn(a);r.tag=2,s!=null&&(r.callback=s),s=Jn(e,r,a),s!==null&&(Rt(s,e,a),Xl(s,e,a))}};function Vf(e,s,a,r,h,y,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,y,S):s.prototype&&s.prototype.isPureReactComponent?!Gl(a,r)||!Gl(h,y):!0}function Gf(e,s,a,r){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,r),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,r),s.state!==e&&Jr.enqueueReplaceState(s,s.state,null)}function Ts(e,s){var a=s;if("ref"in s){a={};for(var r in s)r!=="ref"&&(a[r]=s[r])}if(e=e.defaultProps){a===s&&(a=C({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Of(e){Wa(e)}function Ff(e){console.error(e)}function Jf(e){Wa(e)}function Si(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(r){setTimeout(function(){throw r})}}function Yf(e,s,a){try{var r=e.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Yr(e,s,a){return a=Fn(a),a.tag=3,a.payload={element:null},a.callback=function(){Si(e,s)},a}function $f(e){return e=Fn(e),e.tag=3,e}function Kf(e,s,a,r){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var y=r.value;e.payload=function(){return h(y)},e.callback=function(){Yf(s,a,r)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Yf(s,a,r),typeof h!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var w=r.stack;this.componentDidCatch(r.value,{componentStack:w!==null?w:""})})}function ty(e,s,a,r,h){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(s=a.alternate,s!==null&&Xs(s,a,h,!0),a=Dt.current,a!==null){switch(a.tag){case 31:case 13:return Yt===null?Di():a.alternate===null&&Xe===0&&(Xe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,r===ui?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([r]):s.add(r),yu(e,r,h)),!1;case 22:return a.flags|=65536,r===ui?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([r]):a.add(r)),yu(e,r,h)),!1}throw Error(i(435,a.tag))}return yu(e,r,h),Di(),!1}if(Ie)return s=Dt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,r!==fr&&(e=Error(i(422),{cause:r}),Jl(Gt(e,a)))):(r!==fr&&(s=Error(i(423),{cause:r}),Jl(Gt(s,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,r=Gt(r,a),h=Yr(e.stateNode,r,h),Nr(e,h),Xe!==4&&(Xe=2)),!1;var y=Error(i(520),{cause:r});if(y=Gt(y,a),da===null?da=[y]:da.push(y),Xe!==4&&(Xe=2),s===null)return!0;r=Gt(r,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Yr(a.stateNode,r,e),Nr(a,e),!1;case 1:if(s=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Zn===null||!Zn.has(y))))return a.flags|=65536,h&=-h,a.lanes|=h,h=$f(h),Kf(h,e,a,r),Nr(a,h),!1}a=a.return}while(a!==null);return!1}var $r=Error(i(461)),st=!1;function pt(e,s,a,r){s.child=e===null?Zd(s,null,a,r):Ns(s,e.child,a,r)}function Qf(e,s,a,r,h){a=a.render;var y=s.ref;if("ref"in r){var S={};for(var w in r)w!=="ref"&&(S[w]=r[w])}else S=r;return vs(s),r=Mr(e,s,a,S,y,h),w=Rr(),e!==null&&!st?(Ir(e,s,h),Nn(e,s,h)):(Ie&&w&&cr(s),s.flags|=1,pt(e,s,r,h),s.child)}function Xf(e,s,a,r,h){if(e===null){var y=a.type;return typeof y=="function"&&!or(y)&&y.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=y,Zf(e,s,y,r,h)):(e=si(a.type,null,r,s,s.mode,h),e.ref=s.ref,e.return=s,s.child=e)}if(y=e.child,!nu(e,h)){var S=y.memoizedProps;if(a=a.compare,a=a!==null?a:Gl,a(S,r)&&e.ref===s.ref)return Nn(e,s,h)}return s.flags|=1,e=xn(y,r),e.ref=s.ref,e.return=s,s.child=e}function Zf(e,s,a,r,h){if(e!==null){var y=e.memoizedProps;if(Gl(y,r)&&e.ref===s.ref)if(st=!1,s.pendingProps=r=y,nu(e,h))(e.flags&131072)!==0&&(st=!0);else return s.lanes=e.lanes,Nn(e,s,h)}return Kr(e,s,a,r,h)}function Wf(e,s,a,r){var h=r.children,y=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|a:a,e!==null){for(r=s.child=e.child,h=0;r!==null;)h=h|r.lanes|r.childLanes,r=r.sibling;r=h&~y}else r=0,s.child=null;return em(e,s,y,a,r)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&oi(s,y!==null?y.cachePool:null),y!==null?tf(s,y):Tr(),nf(s);else return r=s.lanes=536870912,em(e,s,y!==null?y.baseLanes|a:a,a,r)}else y!==null?(oi(s,y.cachePool),tf(s,y),$n(),s.memoizedState=null):(e!==null&&oi(s,null),Tr(),$n());return pt(e,s,h,a),s.child}function la(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function em(e,s,a,r,h){var y=vr();return y=y===null?null:{parent:tt._currentValue,pool:y},s.memoizedState={baseLanes:a,cachePool:y},e!==null&&oi(s,null),Tr(),nf(s),e!==null&&Xs(e,s,r,!0),s.childLanes=h,null}function Ni(e,s){return s=Ti({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function tm(e,s,a){return Ns(s,e.child,null,a),e=Ni(s,s.pendingProps),e.flags|=2,Ut(s),s.memoizedState=null,e}function ny(e,s,a){var r=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,e===null){if(Ie){if(r.mode==="hidden")return e=Ni(s,r),s.lanes=536870912,la(null,e);if(_r(s),(e=Oe)?(e=mh(e,Jt),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Hn!==null?{id:un,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},a=Pd(e),a.return=s,s.child=a,mt=s,Oe=null)):e=null,e===null)throw Vn(s);return s.lanes=536870912,null}return Ni(s,r)}var y=e.memoizedState;if(y!==null){var S=y.dehydrated;if(_r(s),h)if(s.flags&256)s.flags&=-257,s=tm(e,s,a);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(i(558));else if(st||Xs(e,s,a,!1),h=(a&e.childLanes)!==0,st||h){if(r=Ge,r!==null&&(S=Oc(r,a),S!==0&&S!==y.retryLane))throw y.retryLane=S,ps(e,S),Rt(r,e,S),$r;Di(),s=tm(e,s,a)}else e=y.treeContext,Oe=$t(S.nextSibling),mt=s,Ie=!0,zn=null,Jt=!1,e!==null&&Hd(s,e),s=Ni(s,r),s.flags|=4096;return s}return e=xn(e.child,{mode:r.mode,children:r.children}),e.ref=s.ref,s.child=e,e.return=s,e}function wi(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(s.flags|=4194816)}}function Kr(e,s,a,r,h){return vs(s),a=Mr(e,s,a,r,void 0,h),r=Rr(),e!==null&&!st?(Ir(e,s,h),Nn(e,s,h)):(Ie&&r&&cr(s),s.flags|=1,pt(e,s,a,h),s.child)}function nm(e,s,a,r,h,y){return vs(s),s.updateQueue=null,a=lf(s,r,a,h),sf(e),r=Rr(),e!==null&&!st?(Ir(e,s,y),Nn(e,s,y)):(Ie&&r&&cr(s),s.flags|=1,pt(e,s,a,y),s.child)}function sm(e,s,a,r,h){if(vs(s),s.stateNode===null){var y=Ys,S=a.contextType;typeof S=="object"&&S!==null&&(y=ht(S)),y=new a(r,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Jr,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=r,y.state=s.memoizedState,y.refs={},br(s),S=a.contextType,y.context=typeof S=="object"&&S!==null?ht(S):Ys,y.state=s.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(Fr(s,a,S,r),y.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Jr.enqueueReplaceState(y,y.state,null),Wl(s,r,y,h),Zl(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),r=!0}else if(e===null){y=s.stateNode;var w=s.memoizedProps,R=Ts(a,w);y.props=R;var z=y.context,Y=a.contextType;S=Ys,typeof Y=="object"&&Y!==null&&(S=ht(Y));var W=a.getDerivedStateFromProps;Y=typeof W=="function"||typeof y.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,Y||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w||z!==S)&&Gf(s,y,r,S),On=!1;var G=s.memoizedState;y.state=G,Wl(s,r,y,h),Zl(),z=s.memoizedState,w||G!==z||On?(typeof W=="function"&&(Fr(s,a,W,r),z=s.memoizedState),(R=On||Vf(s,a,R,r,G,z,S))?(Y||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=r,s.memoizedState=z),y.props=r,y.state=z,y.context=S,r=R):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),r=!1)}else{y=s.stateNode,Sr(e,s),S=s.memoizedProps,Y=Ts(a,S),y.props=Y,W=s.pendingProps,G=y.context,z=a.contextType,R=Ys,typeof z=="object"&&z!==null&&(R=ht(z)),w=a.getDerivedStateFromProps,(z=typeof w=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==W||G!==R)&&Gf(s,y,r,R),On=!1,G=s.memoizedState,y.state=G,Wl(s,r,y,h),Zl();var O=s.memoizedState;S!==W||G!==O||On||e!==null&&e.dependencies!==null&&ai(e.dependencies)?(typeof w=="function"&&(Fr(s,a,w,r),O=s.memoizedState),(Y=On||Vf(s,a,Y,r,G,O,R)||e!==null&&e.dependencies!==null&&ai(e.dependencies))?(z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(r,O,R),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(r,O,R)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===e.memoizedProps&&G===e.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&G===e.memoizedState||(s.flags|=1024),s.memoizedProps=r,s.memoizedState=O),y.props=r,y.state=O,y.context=R,r=Y):(typeof y.componentDidUpdate!="function"||S===e.memoizedProps&&G===e.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&G===e.memoizedState||(s.flags|=1024),r=!1)}return y=r,wi(e,s),r=(s.flags&128)!==0,y||r?(y=s.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,e!==null&&r?(s.child=Ns(s,e.child,null,h),s.child=Ns(s,null,a,h)):pt(e,s,a,h),s.memoizedState=y.state,e=s.child):e=Nn(e,s,h),e}function lm(e,s,a,r){return xs(),s.flags|=256,pt(e,s,a,r),s.child}var Qr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xr(e){return{baseLanes:e,cachePool:Jd()}}function Zr(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=Pt),e}function am(e,s,a){var r=s.pendingProps,h=!1,y=(s.flags&128)!==0,S;if((S=y)||(S=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),S&&(h=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,e===null){if(Ie){if(h?Yn(s):$n(),(e=Oe)?(e=mh(e,Jt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Hn!==null?{id:un,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},a=Pd(e),a.return=s,s.child=a,mt=s,Oe=null)):e=null,e===null)throw Vn(s);return Du(e)?s.lanes=32:s.lanes=536870912,null}var w=r.children;return r=r.fallback,h?($n(),h=s.mode,w=Ti({mode:"hidden",children:w},h),r=gs(r,h,a,null),w.return=s,r.return=s,w.sibling=r,s.child=w,r=s.child,r.memoizedState=Xr(a),r.childLanes=Zr(e,S,a),s.memoizedState=Qr,la(null,r)):(Yn(s),Wr(s,w))}var R=e.memoizedState;if(R!==null&&(w=R.dehydrated,w!==null)){if(y)s.flags&256?(Yn(s),s.flags&=-257,s=eu(e,s,a)):s.memoizedState!==null?($n(),s.child=e.child,s.flags|=128,s=null):($n(),w=r.fallback,h=s.mode,r=Ti({mode:"visible",children:r.children},h),w=gs(w,h,a,null),w.flags|=2,r.return=s,w.return=s,r.sibling=w,s.child=r,Ns(s,e.child,null,a),r=s.child,r.memoizedState=Xr(a),r.childLanes=Zr(e,S,a),s.memoizedState=Qr,s=la(null,r));else if(Yn(s),Du(w)){if(S=w.nextSibling&&w.nextSibling.dataset,S)var z=S.dgst;S=z,r=Error(i(419)),r.stack="",r.digest=S,Jl({value:r,source:null,stack:null}),s=eu(e,s,a)}else if(st||Xs(e,s,a,!1),S=(a&e.childLanes)!==0,st||S){if(S=Ge,S!==null&&(r=Oc(S,a),r!==0&&r!==R.retryLane))throw R.retryLane=r,ps(e,r),Rt(S,e,r),$r;ku(w)||Di(),s=eu(e,s,a)}else ku(w)?(s.flags|=192,s.child=e.child,s=null):(e=R.treeContext,Oe=$t(w.nextSibling),mt=s,Ie=!0,zn=null,Jt=!1,e!==null&&Hd(s,e),s=Wr(s,r.children),s.flags|=4096);return s}return h?($n(),w=r.fallback,h=s.mode,R=e.child,z=R.sibling,r=xn(R,{mode:"hidden",children:r.children}),r.subtreeFlags=R.subtreeFlags&65011712,z!==null?w=xn(z,w):(w=gs(w,h,a,null),w.flags|=2),w.return=s,r.return=s,r.sibling=w,s.child=r,la(null,r),r=s.child,w=e.child.memoizedState,w===null?w=Xr(a):(h=w.cachePool,h!==null?(R=tt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Jd(),w={baseLanes:w.baseLanes|a,cachePool:h}),r.memoizedState=w,r.childLanes=Zr(e,S,a),s.memoizedState=Qr,la(e.child,r)):(Yn(s),a=e.child,e=a.sibling,a=xn(a,{mode:"visible",children:r.children}),a.return=s,a.sibling=null,e!==null&&(S=s.deletions,S===null?(s.deletions=[e],s.flags|=16):S.push(e)),s.child=a,s.memoizedState=null,a)}function Wr(e,s){return s=Ti({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function Ti(e,s){return e=kt(22,e,null,s),e.lanes=0,e}function eu(e,s,a){return Ns(s,e.child,null,a),e=Wr(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function im(e,s,a){e.lanes|=s;var r=e.alternate;r!==null&&(r.lanes|=s),pr(e.return,s,a)}function tu(e,s,a,r,h,y){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:h,treeForkCount:y}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=r,S.tail=a,S.tailMode=h,S.treeForkCount=y)}function om(e,s,a){var r=s.pendingProps,h=r.revealOrder,y=r.tail;r=r.children;var S=Ze.current,w=(S&2)!==0;if(w?(S=S&1|2,s.flags|=128):S&=1,se(Ze,S),pt(e,s,r,a),r=Ie?Fl:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&im(e,a,s);else if(e.tag===19)im(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=s.child,h=null;a!==null;)e=a.alternate,e!==null&&mi(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),tu(s,!1,h,a,y,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(e=h.alternate,e!==null&&mi(e)===null){s.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}tu(s,!0,a,null,y,r);break;case"together":tu(s,!1,null,null,void 0,r);break;default:s.memoizedState=null}return s.child}function Nn(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),Xn|=s.lanes,(a&s.childLanes)===0)if(e!==null){if(Xs(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(i(153));if(s.child!==null){for(e=s.child,a=xn(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=xn(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function nu(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&ai(e)))}function sy(e,s,a){switch(s.tag){case 3:at(s,s.stateNode.containerInfo),Gn(s,tt,e.memoizedState.cache),xs();break;case 27:case 5:je(s);break;case 4:at(s,s.stateNode.containerInfo);break;case 10:Gn(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,_r(s),null;break;case 13:var r=s.memoizedState;if(r!==null)return r.dehydrated!==null?(Yn(s),s.flags|=128,null):(a&s.child.childLanes)!==0?am(e,s,a):(Yn(s),e=Nn(e,s,a),e!==null?e.sibling:null);Yn(s);break;case 19:var h=(e.flags&128)!==0;if(r=(a&s.childLanes)!==0,r||(Xs(e,s,a,!1),r=(a&s.childLanes)!==0),h){if(r)return om(e,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Ze,Ze.current),r)break;return null;case 22:return s.lanes=0,Wf(e,s,a,s.pendingProps);case 24:Gn(s,tt,e.memoizedState.cache)}return Nn(e,s,a)}function rm(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)st=!0;else{if(!nu(e,a)&&(s.flags&128)===0)return st=!1,sy(e,s,a);st=(e.flags&131072)!==0}else st=!1,Ie&&(s.flags&1048576)!==0&&Bd(s,Fl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var r=s.pendingProps;if(e=bs(s.elementType),s.type=e,typeof e=="function")or(e)?(r=Ts(e,r),s.tag=1,s=sm(null,s,e,r,a)):(s.tag=0,s=Kr(null,s,e,r,a));else{if(e!=null){var h=e.$$typeof;if(h===B){s.tag=11,s=Qf(null,s,e,r,a);break e}else if(h===q){s.tag=14,s=Xf(null,s,e,r,a);break e}}throw s=oe(e)||e,Error(i(306,s,""))}}return s;case 0:return Kr(e,s,s.type,s.pendingProps,a);case 1:return r=s.type,h=Ts(r,s.pendingProps),sm(e,s,r,h,a);case 3:e:{if(at(s,s.stateNode.containerInfo),e===null)throw Error(i(387));r=s.pendingProps;var y=s.memoizedState;h=y.element,Sr(e,s),Wl(s,r,null,a);var S=s.memoizedState;if(r=S.cache,Gn(s,tt,r),r!==y.cache&&gr(s,[tt],a,!0),Zl(),r=S.element,y.isDehydrated)if(y={element:r,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=lm(e,s,r,a);break e}else if(r!==h){h=Gt(Error(i(424)),s),Jl(h),s=lm(e,s,r,a);break e}else{switch(e=s.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Oe=$t(e.firstChild),mt=s,Ie=!0,zn=null,Jt=!0,a=Zd(s,null,r,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xs(),r===h){s=Nn(e,s,a);break e}pt(e,s,r,a)}s=s.child}return s;case 26:return wi(e,s),e===null?(a=vh(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ie||(a=s.type,e=s.pendingProps,r=zi(be.current).createElement(a),r[ft]=s,r[wt]=e,gt(r,a,e),rt(r),s.stateNode=r):s.memoizedState=vh(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return je(s),e===null&&Ie&&(r=s.stateNode=gh(s.type,s.pendingProps,be.current),mt=s,Jt=!0,h=Oe,ns(s.type)?(Uu=h,Oe=$t(r.firstChild)):Oe=h),pt(e,s,s.pendingProps.children,a),wi(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&Ie&&((h=r=Oe)&&(r=ky(r,s.type,s.pendingProps,Jt),r!==null?(s.stateNode=r,mt=s,Oe=$t(r.firstChild),Jt=!1,h=!0):h=!1),h||Vn(s)),je(s),h=s.type,y=s.pendingProps,S=e!==null?e.memoizedProps:null,r=y.children,Ru(h,y)?r=null:S!==null&&Ru(h,S)&&(s.flags|=32),s.memoizedState!==null&&(h=Mr(e,s,$x,null,null,a),va._currentValue=h),wi(e,s),pt(e,s,r,a),s.child;case 6:return e===null&&Ie&&((e=a=Oe)&&(a=Dy(a,s.pendingProps,Jt),a!==null?(s.stateNode=a,mt=s,Oe=null,e=!0):e=!1),e||Vn(s)),null;case 13:return am(e,s,a);case 4:return at(s,s.stateNode.containerInfo),r=s.pendingProps,e===null?s.child=Ns(s,null,r,a):pt(e,s,r,a),s.child;case 11:return Qf(e,s,s.type,s.pendingProps,a);case 7:return pt(e,s,s.pendingProps,a),s.child;case 8:return pt(e,s,s.pendingProps.children,a),s.child;case 12:return pt(e,s,s.pendingProps.children,a),s.child;case 10:return r=s.pendingProps,Gn(s,s.type,r.value),pt(e,s,r.children,a),s.child;case 9:return h=s.type._context,r=s.pendingProps.children,vs(s),h=ht(h),r=r(h),s.flags|=1,pt(e,s,r,a),s.child;case 14:return Xf(e,s,s.type,s.pendingProps,a);case 15:return Zf(e,s,s.type,s.pendingProps,a);case 19:return om(e,s,a);case 31:return ny(e,s,a);case 22:return Wf(e,s,a,s.pendingProps);case 24:return vs(s),r=ht(tt),e===null?(h=vr(),h===null&&(h=Ge,y=xr(),h.pooledCache=y,y.refCount++,y!==null&&(h.pooledCacheLanes|=a),h=y),s.memoizedState={parent:r,cache:h},br(s),Gn(s,tt,h)):((e.lanes&a)!==0&&(Sr(e,s),Wl(s,null,null,a),Zl()),h=e.memoizedState,y=s.memoizedState,h.parent!==r?(h={parent:r,cache:r},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Gn(s,tt,r)):(r=y.cache,Gn(s,tt,r),r!==h.cache&&gr(s,[tt],a,!0))),pt(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function wn(e){e.flags|=4}function su(e,s,a,r,h){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Um())e.flags|=8192;else throw Ss=ui,Cr}else e.flags&=-16777217}function um(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!wh(s))if(Um())e.flags|=8192;else throw Ss=ui,Cr}function Ei(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?zc():536870912,e.lanes|=s,ul|=s)}function aa(e,s){if(!Ie)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Fe(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,r=0;if(s)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,r|=h.subtreeFlags&65011712,r|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,r|=h.subtreeFlags,r|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=r,e.childLanes=a,s}function ly(e,s,a){var r=s.pendingProps;switch(dr(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(s),null;case 1:return Fe(s),null;case 3:return a=s.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),Cn(tt),le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Qs(s)?wn(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,mr())),Fe(s),null;case 26:var h=s.type,y=s.memoizedState;return e===null?(wn(s),y!==null?(Fe(s),um(s,y)):(Fe(s),su(s,h,null,r,a))):y?y!==e.memoizedState?(wn(s),Fe(s),um(s,y)):(Fe(s),s.flags&=-16777217):(e=e.memoizedProps,e!==r&&wn(s),Fe(s),su(s,h,e,r,a)),null;case 27:if(yt(s),a=be.current,h=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==r&&wn(s);else{if(!r){if(s.stateNode===null)throw Error(i(166));return Fe(s),null}e=ie.current,Qs(s)?zd(s):(e=gh(h,r,a),s.stateNode=e,wn(s))}return Fe(s),null;case 5:if(yt(s),h=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==r&&wn(s);else{if(!r){if(s.stateNode===null)throw Error(i(166));return Fe(s),null}if(y=ie.current,Qs(s))zd(s);else{var S=zi(be.current);switch(y){case 1:y=S.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:y=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":y=S.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":y=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":y=S.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof r.is=="string"?S.createElement("select",{is:r.is}):S.createElement("select"),r.multiple?y.multiple=!0:r.size&&(y.size=r.size);break;default:y=typeof r.is=="string"?S.createElement(h,{is:r.is}):S.createElement(h)}}y[ft]=s,y[wt]=r;e:for(S=s.child;S!==null;){if(S.tag===5||S.tag===6)y.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===s)break e;for(;S.sibling===null;){if(S.return===null||S.return===s)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}s.stateNode=y;e:switch(gt(y,h,r),h){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&wn(s)}}return Fe(s),su(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,a),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==r&&wn(s);else{if(typeof r!="string"&&s.stateNode===null)throw Error(i(166));if(e=be.current,Qs(s)){if(e=s.stateNode,a=s.memoizedProps,r=null,h=mt,h!==null)switch(h.tag){case 27:case 5:r=h.memoizedProps}e[ft]=s,e=!!(e.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||ah(e.nodeValue,a)),e||Vn(s,!0)}else e=zi(e).createTextNode(r),e[ft]=s,s.stateNode=e}return Fe(s),null;case 31:if(a=s.memoizedState,e===null||e.memoizedState!==null){if(r=Qs(s),a!==null){if(e===null){if(!r)throw Error(i(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[ft]=s}else xs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Fe(s),e=!1}else a=mr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return s.flags&256?(Ut(s),s):(Ut(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Fe(s),null;case 13:if(r=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Qs(s),r!==null&&r.dehydrated!==null){if(e===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[ft]=s}else xs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Fe(s),h=!1}else h=mr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Ut(s),s):(Ut(s),null)}return Ut(s),(s.flags&128)!==0?(s.lanes=a,s):(a=r!==null,e=e!==null&&e.memoizedState!==null,a&&(r=s.child,h=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(h=r.alternate.memoizedState.cachePool.pool),y=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(y=r.memoizedState.cachePool.pool),y!==h&&(r.flags|=2048)),a!==e&&a&&(s.child.flags|=8192),Ei(s,s.updateQueue),Fe(s),null);case 4:return le(),e===null&&Tu(s.stateNode.containerInfo),Fe(s),null;case 10:return Cn(s.type),Fe(s),null;case 19:if(J(Ze),r=s.memoizedState,r===null)return Fe(s),null;if(h=(s.flags&128)!==0,y=r.rendering,y===null)if(h)aa(r,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(y=mi(e),y!==null){for(s.flags|=128,aa(r,!1),e=y.updateQueue,s.updateQueue=e,Ei(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)Ld(a,e),a=a.sibling;return se(Ze,Ze.current&1|2),Ie&&yn(s,r.treeForkCount),s.child}e=e.sibling}r.tail!==null&&St()>Ii&&(s.flags|=128,h=!0,aa(r,!1),s.lanes=4194304)}else{if(!h)if(e=mi(y),e!==null){if(s.flags|=128,h=!0,e=e.updateQueue,s.updateQueue=e,Ei(s,e),aa(r,!0),r.tail===null&&r.tailMode==="hidden"&&!y.alternate&&!Ie)return Fe(s),null}else 2*St()-r.renderingStartTime>Ii&&a!==536870912&&(s.flags|=128,h=!0,aa(r,!1),s.lanes=4194304);r.isBackwards?(y.sibling=s.child,s.child=y):(e=r.last,e!==null?e.sibling=y:s.child=y,r.last=y)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=St(),e.sibling=null,a=Ze.current,se(Ze,h?a&1|2:a&1),Ie&&yn(s,r.treeForkCount),e):(Fe(s),null);case 22:case 23:return Ut(s),Er(),r=s.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(s.flags|=8192):r&&(s.flags|=8192),r?(a&536870912)!==0&&(s.flags&128)===0&&(Fe(s),s.subtreeFlags&6&&(s.flags|=8192)):Fe(s),a=s.updateQueue,a!==null&&Ei(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==a&&(s.flags|=2048),e!==null&&J(Cs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Cn(tt),Fe(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function ay(e,s){switch(dr(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return Cn(tt),le(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return yt(s),null;case 31:if(s.memoizedState!==null){if(Ut(s),s.alternate===null)throw Error(i(340));xs()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(Ut(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(i(340));xs()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return J(Ze),null;case 4:return le(),null;case 10:return Cn(s.type),null;case 22:case 23:return Ut(s),Er(),e!==null&&J(Cs),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return Cn(tt),null;case 25:return null;default:return null}}function cm(e,s){switch(dr(s),s.tag){case 3:Cn(tt),le();break;case 26:case 27:case 5:yt(s);break;case 4:le();break;case 31:s.memoizedState!==null&&Ut(s);break;case 13:Ut(s);break;case 19:J(Ze);break;case 10:Cn(s.type);break;case 22:case 23:Ut(s),Er(),e!==null&&J(Cs);break;case 24:Cn(tt)}}function ia(e,s){try{var a=s.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var h=r.next;a=h;do{if((a.tag&e)===e){r=void 0;var y=a.create,S=a.inst;r=y(),S.destroy=r}a=a.next}while(a!==h)}}catch(w){qe(s,s.return,w)}}function Kn(e,s,a){try{var r=s.updateQueue,h=r!==null?r.lastEffect:null;if(h!==null){var y=h.next;r=y;do{if((r.tag&e)===e){var S=r.inst,w=S.destroy;if(w!==void 0){S.destroy=void 0,h=s;var R=a,z=w;try{z()}catch(Y){qe(h,R,Y)}}}r=r.next}while(r!==y)}}catch(Y){qe(s,s.return,Y)}}function dm(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{ef(s,a)}catch(r){qe(e,e.return,r)}}}function fm(e,s,a){a.props=Ts(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(r){qe(e,s,r)}}function oa(e,s){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof a=="function"?e.refCleanup=a(r):a.current=r}}catch(h){qe(e,s,h)}}function dn(e,s){var a=e.ref,r=e.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(h){qe(e,s,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){qe(e,s,h)}else a.current=null}function mm(e){var s=e.type,a=e.memoizedProps,r=e.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(h){qe(e,e.return,h)}}function lu(e,s,a){try{var r=e.stateNode;_y(r,e.type,a,s),r[wt]=s}catch(h){qe(e,e.return,h)}}function hm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ns(e.type)||e.tag===4}function au(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ns(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function iu(e,s,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(e),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=pn));else if(r!==4&&(r===27&&ns(e.type)&&(a=e.stateNode,s=null),e=e.child,e!==null))for(iu(e,s,a),e=e.sibling;e!==null;)iu(e,s,a),e=e.sibling}function _i(e,s,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(r!==4&&(r===27&&ns(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(_i(e,s,a),e=e.sibling;e!==null;)_i(e,s,a),e=e.sibling}function pm(e){var s=e.stateNode,a=e.memoizedProps;try{for(var r=e.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);gt(s,r,a),s[ft]=e,s[wt]=a}catch(y){qe(e,e.return,y)}}var Tn=!1,lt=!1,ou=!1,gm=typeof WeakSet=="function"?WeakSet:Set,ut=null;function iy(e,s){if(e=e.containerInfo,Au=$i,e=_d(e),er(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var h=r.anchorOffset,y=r.focusNode;r=r.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var S=0,w=-1,R=-1,z=0,Y=0,W=e,G=null;t:for(;;){for(var O;W!==a||h!==0&&W.nodeType!==3||(w=S+h),W!==y||r!==0&&W.nodeType!==3||(R=S+r),W.nodeType===3&&(S+=W.nodeValue.length),(O=W.firstChild)!==null;)G=W,W=O;for(;;){if(W===e)break t;if(G===a&&++z===h&&(w=S),G===y&&++Y===r&&(R=S),(O=W.nextSibling)!==null)break;W=G,G=W.parentNode}W=O}a=w===-1||R===-1?null:{start:w,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Mu={focusedElem:e,selectionRange:a},$i=!1,ut=s;ut!==null;)if(s=ut,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,ut=e;else for(;ut!==null;){switch(s=ut,y=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,a=s,h=y.memoizedProps,y=y.memoizedState,r=a.stateNode;try{var ue=Ts(a.type,h);e=r.getSnapshotBeforeUpdate(ue,y),r.__reactInternalSnapshotBeforeUpdate=e}catch(ge){qe(a,a.return,ge)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)ju(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ju(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=s.sibling,e!==null){e.return=s.return,ut=e;break}ut=s.return}}function xm(e,s,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:_n(e,a),r&4&&ia(5,a);break;case 1:if(_n(e,a),r&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(S){qe(a,a.return,S)}else{var h=Ts(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(h,s,e.__reactInternalSnapshotBeforeUpdate)}catch(S){qe(a,a.return,S)}}r&64&&dm(a),r&512&&oa(a,a.return);break;case 3:if(_n(e,a),r&64&&(e=a.updateQueue,e!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{ef(e,s)}catch(S){qe(a,a.return,S)}}break;case 27:s===null&&r&4&&pm(a);case 26:case 5:_n(e,a),s===null&&r&4&&mm(a),r&512&&oa(a,a.return);break;case 12:_n(e,a);break;case 31:_n(e,a),r&4&&Cm(e,a);break;case 13:_n(e,a),r&4&&bm(e,a),r&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=py.bind(null,a),Uy(e,a))));break;case 22:if(r=a.memoizedState!==null||Tn,!r){s=s!==null&&s.memoizedState!==null||lt,h=Tn;var y=lt;Tn=r,(lt=s)&&!y?An(e,a,(a.subtreeFlags&8772)!==0):_n(e,a),Tn=h,lt=y}break;case 30:break;default:_n(e,a)}}function ym(e){var s=e.alternate;s!==null&&(e.alternate=null,ym(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&Po(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $e=null,Et=!1;function En(e,s,a){for(a=a.child;a!==null;)vm(e,s,a),a=a.sibling}function vm(e,s,a){if(ve&&typeof ve.onCommitFiberUnmount=="function")try{ve.onCommitFiberUnmount(ce,a)}catch{}switch(a.tag){case 26:lt||dn(a,s),En(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:lt||dn(a,s);var r=$e,h=Et;ns(a.type)&&($e=a.stateNode,Et=!1),En(e,s,a),ga(a.stateNode),$e=r,Et=h;break;case 5:lt||dn(a,s);case 6:if(r=$e,h=Et,$e=null,En(e,s,a),$e=r,Et=h,$e!==null)if(Et)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(a.stateNode)}catch(y){qe(a,s,y)}else try{$e.removeChild(a.stateNode)}catch(y){qe(a,s,y)}break;case 18:$e!==null&&(Et?(e=$e,dh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),xl(e)):dh($e,a.stateNode));break;case 4:r=$e,h=Et,$e=a.stateNode.containerInfo,Et=!0,En(e,s,a),$e=r,Et=h;break;case 0:case 11:case 14:case 15:Kn(2,a,s),lt||Kn(4,a,s),En(e,s,a);break;case 1:lt||(dn(a,s),r=a.stateNode,typeof r.componentWillUnmount=="function"&&fm(a,s,r)),En(e,s,a);break;case 21:En(e,s,a);break;case 22:lt=(r=lt)||a.memoizedState!==null,En(e,s,a),lt=r;break;default:En(e,s,a)}}function Cm(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{xl(e)}catch(a){qe(s,s.return,a)}}}function bm(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xl(e)}catch(a){qe(s,s.return,a)}}function oy(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new gm),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new gm),s;default:throw Error(i(435,e.tag))}}function Ai(e,s){var a=oy(e);s.forEach(function(r){if(!a.has(r)){a.add(r);var h=gy.bind(null,e,r);r.then(h,h)}})}function _t(e,s){var a=s.deletions;if(a!==null)for(var r=0;r<a.length;r++){var h=a[r],y=e,S=s,w=S;e:for(;w!==null;){switch(w.tag){case 27:if(ns(w.type)){$e=w.stateNode,Et=!1;break e}break;case 5:$e=w.stateNode,Et=!1;break e;case 3:case 4:$e=w.stateNode.containerInfo,Et=!0;break e}w=w.return}if($e===null)throw Error(i(160));vm(y,S,h),$e=null,Et=!1,y=h.alternate,y!==null&&(y.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Sm(s,e),s=s.sibling}var nn=null;function Sm(e,s){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_t(s,e),At(e),r&4&&(Kn(3,e,e.return),ia(3,e),Kn(5,e,e.return));break;case 1:_t(s,e),At(e),r&512&&(lt||a===null||dn(a,a.return)),r&64&&Tn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var h=nn;if(_t(s,e),At(e),r&512&&(lt||a===null||dn(a,a.return)),r&4){var y=a!==null?a.memoizedState:null;if(r=e.memoizedState,a===null)if(r===null)if(e.stateNode===null){e:{r=e.type,a=e.memoizedProps,h=h.ownerDocument||h;t:switch(r){case"title":y=h.getElementsByTagName("title")[0],(!y||y[Dl]||y[ft]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=h.createElement(r),h.head.insertBefore(y,h.querySelector("head > title"))),gt(y,r,a),y[ft]=e,rt(y),r=y;break e;case"link":var S=Sh("link","href",h).get(r+(a.href||""));if(S){for(var w=0;w<S.length;w++)if(y=S[w],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(w,1);break t}}y=h.createElement(r),gt(y,r,a),h.head.appendChild(y);break;case"meta":if(S=Sh("meta","content",h).get(r+(a.content||""))){for(w=0;w<S.length;w++)if(y=S[w],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(w,1);break t}}y=h.createElement(r),gt(y,r,a),h.head.appendChild(y);break;default:throw Error(i(468,r))}y[ft]=e,rt(y),r=y}e.stateNode=r}else Nh(h,e.type,e.stateNode);else e.stateNode=bh(h,r,e.memoizedProps);else y!==r?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,r===null?Nh(h,e.type,e.stateNode):bh(h,r,e.memoizedProps)):r===null&&e.stateNode!==null&&lu(e,e.memoizedProps,a.memoizedProps)}break;case 27:_t(s,e),At(e),r&512&&(lt||a===null||dn(a,a.return)),a!==null&&r&4&&lu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(_t(s,e),At(e),r&512&&(lt||a===null||dn(a,a.return)),e.flags&32){h=e.stateNode;try{Hs(h,"")}catch(ue){qe(e,e.return,ue)}}r&4&&e.stateNode!=null&&(h=e.memoizedProps,lu(e,h,a!==null?a.memoizedProps:h)),r&1024&&(ou=!0);break;case 6:if(_t(s,e),At(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,a=e.stateNode;try{a.nodeValue=r}catch(ue){qe(e,e.return,ue)}}break;case 3:if(Oi=null,h=nn,nn=Vi(s.containerInfo),_t(s,e),nn=h,At(e),r&4&&a!==null&&a.memoizedState.isDehydrated)try{xl(s.containerInfo)}catch(ue){qe(e,e.return,ue)}ou&&(ou=!1,Nm(e));break;case 4:r=nn,nn=Vi(e.stateNode.containerInfo),_t(s,e),At(e),nn=r;break;case 12:_t(s,e),At(e);break;case 31:_t(s,e),At(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ai(e,r)));break;case 13:_t(s,e),At(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ri=St()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ai(e,r)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=Tn,Y=lt;if(Tn=z||h,lt=Y||R,_t(s,e),lt=Y,Tn=z,At(e),r&8192)e:for(s=e.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||R||Tn||lt||Es(e)),a=null,s=e;;){if(s.tag===5||s.tag===26){if(a===null){R=a=s;try{if(y=R.stateNode,h)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{w=R.stateNode;var W=R.memoizedProps.style,G=W!=null&&W.hasOwnProperty("display")?W.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ue){qe(R,R.return,ue)}}}else if(s.tag===6){if(a===null){R=s;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ue){qe(R,R.return,ue)}}}else if(s.tag===18){if(a===null){R=s;try{var O=R.stateNode;h?fh(O,!0):fh(R.stateNode,!1)}catch(ue){qe(R,R.return,ue)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}r&4&&(r=e.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,Ai(e,a))));break;case 19:_t(s,e),At(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ai(e,r)));break;case 30:break;case 21:break;default:_t(s,e),At(e)}}function At(e){var s=e.flags;if(s&2){try{for(var a,r=e.return;r!==null;){if(hm(r)){a=r;break}r=r.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var h=a.stateNode,y=au(e);_i(e,y,h);break;case 5:var S=a.stateNode;a.flags&32&&(Hs(S,""),a.flags&=-33);var w=au(e);_i(e,w,S);break;case 3:case 4:var R=a.stateNode.containerInfo,z=au(e);iu(e,z,R);break;default:throw Error(i(161))}}catch(Y){qe(e,e.return,Y)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function Nm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;Nm(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function _n(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)xm(e,s.alternate,s),s=s.sibling}function Es(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:Kn(4,s,s.return),Es(s);break;case 1:dn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&fm(s,s.return,a),Es(s);break;case 27:ga(s.stateNode);case 26:case 5:dn(s,s.return),Es(s);break;case 22:s.memoizedState===null&&Es(s);break;case 30:Es(s);break;default:Es(s)}e=e.sibling}}function An(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var r=s.alternate,h=e,y=s,S=y.flags;switch(y.tag){case 0:case 11:case 15:An(h,y,a),ia(4,y);break;case 1:if(An(h,y,a),r=y,h=r.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){qe(r,r.return,z)}if(r=y,h=r.updateQueue,h!==null){var w=r.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Wd(R[h],w)}catch(z){qe(r,r.return,z)}}a&&S&64&&dm(y),oa(y,y.return);break;case 27:pm(y);case 26:case 5:An(h,y,a),a&&r===null&&S&4&&mm(y),oa(y,y.return);break;case 12:An(h,y,a);break;case 31:An(h,y,a),a&&S&4&&Cm(h,y);break;case 13:An(h,y,a),a&&S&4&&bm(h,y);break;case 22:y.memoizedState===null&&An(h,y,a),oa(y,y.return);break;case 30:break;default:An(h,y,a)}s=s.sibling}}function ru(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Yl(a))}function uu(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Yl(e))}function sn(e,s,a,r){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)wm(e,s,a,r),s=s.sibling}function wm(e,s,a,r){var h=s.flags;switch(s.tag){case 0:case 11:case 15:sn(e,s,a,r),h&2048&&ia(9,s);break;case 1:sn(e,s,a,r);break;case 3:sn(e,s,a,r),h&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Yl(e)));break;case 12:if(h&2048){sn(e,s,a,r),e=s.stateNode;try{var y=s.memoizedProps,S=y.id,w=y.onPostCommit;typeof w=="function"&&w(S,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){qe(s,s.return,R)}}else sn(e,s,a,r);break;case 31:sn(e,s,a,r);break;case 13:sn(e,s,a,r);break;case 23:break;case 22:y=s.stateNode,S=s.alternate,s.memoizedState!==null?y._visibility&2?sn(e,s,a,r):ra(e,s):y._visibility&2?sn(e,s,a,r):(y._visibility|=2,il(e,s,a,r,(s.subtreeFlags&10256)!==0||!1)),h&2048&&ru(S,s);break;case 24:sn(e,s,a,r),h&2048&&uu(s.alternate,s);break;default:sn(e,s,a,r)}}function il(e,s,a,r,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=e,S=s,w=a,R=r,z=S.flags;switch(S.tag){case 0:case 11:case 15:il(y,S,w,R,h),ia(8,S);break;case 23:break;case 22:var Y=S.stateNode;S.memoizedState!==null?Y._visibility&2?il(y,S,w,R,h):ra(y,S):(Y._visibility|=2,il(y,S,w,R,h)),h&&z&2048&&ru(S.alternate,S);break;case 24:il(y,S,w,R,h),h&&z&2048&&uu(S.alternate,S);break;default:il(y,S,w,R,h)}s=s.sibling}}function ra(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,r=s,h=r.flags;switch(r.tag){case 22:ra(a,r),h&2048&&ru(r.alternate,r);break;case 24:ra(a,r),h&2048&&uu(r.alternate,r);break;default:ra(a,r)}s=s.sibling}}var ua=8192;function ol(e,s,a){if(e.subtreeFlags&ua)for(e=e.child;e!==null;)Tm(e,s,a),e=e.sibling}function Tm(e,s,a){switch(e.tag){case 26:ol(e,s,a),e.flags&ua&&e.memoizedState!==null&&Yy(a,nn,e.memoizedState,e.memoizedProps);break;case 5:ol(e,s,a);break;case 3:case 4:var r=nn;nn=Vi(e.stateNode.containerInfo),ol(e,s,a),nn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=ua,ua=16777216,ol(e,s,a),ua=r):ol(e,s,a));break;default:ol(e,s,a)}}function Em(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function ca(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var r=s[a];ut=r,Am(r,e)}Em(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_m(e),e=e.sibling}function _m(e){switch(e.tag){case 0:case 11:case 15:ca(e),e.flags&2048&&Kn(9,e,e.return);break;case 3:ca(e);break;case 12:ca(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,Mi(e)):ca(e);break;default:ca(e)}}function Mi(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var r=s[a];ut=r,Am(r,e)}Em(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:Kn(8,s,s.return),Mi(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Mi(s));break;default:Mi(s)}e=e.sibling}}function Am(e,s){for(;ut!==null;){var a=ut;switch(a.tag){case 0:case 11:case 15:Kn(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Yl(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,ut=r;else e:for(a=e;ut!==null;){r=ut;var h=r.sibling,y=r.return;if(ym(r),r===a){ut=null;break e}if(h!==null){h.return=y,ut=h;break e}ut=y}}}var ry={getCacheForType:function(e){var s=ht(tt),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a},cacheSignal:function(){return ht(tt).controller.signal}},uy=typeof WeakMap=="function"?WeakMap:Map,Le=0,Ge=null,Ee=null,Ae=0,Pe=0,Lt=null,Qn=!1,rl=!1,cu=!1,Mn=0,Xe=0,Xn=0,_s=0,du=0,Pt=0,ul=0,da=null,Mt=null,fu=!1,Ri=0,Mm=0,Ii=1/0,ji=null,Zn=null,ot=0,Wn=null,cl=null,Rn=0,mu=0,hu=null,Rm=null,fa=0,pu=null;function qt(){return(Le&2)!==0&&Ae!==0?Ae&-Ae:I.T!==null?bu():Fc()}function Im(){if(Pt===0)if((Ae&536870912)===0||Ie){var e=Ha;Ha<<=1,(Ha&3932160)===0&&(Ha=262144),Pt=e}else Pt=536870912;return e=Dt.current,e!==null&&(e.flags|=32),Pt}function Rt(e,s,a){(e===Ge&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)&&(dl(e,0),es(e,Ae,Pt,!1)),kl(e,a),((Le&2)===0||e!==Ge)&&(e===Ge&&((Le&2)===0&&(_s|=a),Xe===4&&es(e,Ae,Pt,!1)),fn(e))}function jm(e,s,a){if((Le&6)!==0)throw Error(i(327));var r=!a&&(s&127)===0&&(s&e.expiredLanes)===0||jl(e,s),h=r?fy(e,s):xu(e,s,!0),y=r;do{if(h===0){rl&&!r&&es(e,s,0,!1);break}else{if(a=e.current.alternate,y&&!cy(a)){h=xu(e,s,!1),y=!1;continue}if(h===2){if(y=s,e.errorRecoveryDisabledLanes&y)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var w=e;h=da;var R=w.current.memoizedState.isDehydrated;if(R&&(dl(w,S).flags|=256),S=xu(w,S,!1),S!==2){if(cu&&!R){w.errorRecoveryDisabledLanes|=y,_s|=y,h=4;break e}y=Mt,Mt=h,y!==null&&(Mt===null?Mt=y:Mt.push.apply(Mt,y))}h=S}if(y=!1,h!==2)continue}}if(h===1){dl(e,0),es(e,s,0,!0);break}e:{switch(r=e,y=h,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:es(r,s,Pt,!Qn);break e;case 2:Mt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=Ri+300-St(),10<h)){if(es(r,s,Pt,!Qn),Va(r,0,!0)!==0)break e;Rn=s,r.timeoutHandle=uh(km.bind(null,r,a,Mt,ji,fu,s,Pt,_s,ul,Qn,y,"Throttled",-0,0),h);break e}km(r,a,Mt,ji,fu,s,Pt,_s,ul,Qn,y,null,-0,0)}}break}while(!0);fn(e)}function km(e,s,a,r,h,y,S,w,R,z,Y,W,G,O){if(e.timeoutHandle=-1,W=s.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pn},Tm(s,y,W);var ue=(y&62914560)===y?Ri-St():(y&4194048)===y?Mm-St():0;if(ue=$y(W,ue),ue!==null){Rn=y,e.cancelPendingCommit=ue(zm.bind(null,e,s,y,a,r,h,S,w,R,Y,W,null,G,O)),es(e,y,S,!z);return}}zm(e,s,y,a,r,h,S,w,R)}function cy(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var h=a[r],y=h.getSnapshot;h=h.value;try{if(!jt(y(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function es(e,s,a,r){s&=~du,s&=~_s,e.suspendedLanes|=s,e.pingedLanes&=~s,r&&(e.warmLanes|=s),r=e.expirationTimes;for(var h=s;0<h;){var y=31-it(h),S=1<<y;r[y]=-1,h&=~S}a!==0&&Vc(e,a,s)}function ki(){return(Le&6)===0?(ma(0),!1):!0}function gu(){if(Ee!==null){if(Pe===0)var e=Ee.return;else e=Ee,vn=ys=null,jr(e),tl=null,Kl=0,e=Ee;for(;e!==null;)cm(e.alternate,e),e=e.return;Ee=null}}function dl(e,s){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Ry(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Rn=0,gu(),Ge=e,Ee=a=xn(e.current,null),Ae=s,Pe=0,Lt=null,Qn=!1,rl=jl(e,s),cu=!1,ul=Pt=du=_s=Xn=Xe=0,Mt=da=null,fu=!1,(s&8)!==0&&(s|=s&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=s;0<r;){var h=31-it(r),y=1<<h;s|=e[h],r&=~y}return Mn=s,ei(),a}function Dm(e,s){Ne=null,I.H=sa,s===el||s===ri?(s=Kd(),Pe=3):s===Cr?(s=Kd(),Pe=4):Pe=s===$r?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Lt=s,Ee===null&&(Xe=1,Si(e,Gt(s,e.current)))}function Um(){var e=Dt.current;return e===null?!0:(Ae&4194048)===Ae?Yt===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?e===Yt:!1}function Lm(){var e=I.H;return I.H=sa,e===null?sa:e}function Pm(){var e=I.A;return I.A=ry,e}function Di(){Xe=4,Qn||(Ae&4194048)!==Ae&&Dt.current!==null||(rl=!0),(Xn&134217727)===0&&(_s&134217727)===0||Ge===null||es(Ge,Ae,Pt,!1)}function xu(e,s,a){var r=Le;Le|=2;var h=Lm(),y=Pm();(Ge!==e||Ae!==s)&&(ji=null,dl(e,s)),s=!1;var S=Xe;e:do try{if(Pe!==0&&Ee!==null){var w=Ee,R=Lt;switch(Pe){case 8:gu(),S=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(s=!0);var z=Pe;if(Pe=0,Lt=null,fl(e,w,R,z),a&&rl){S=0;break e}break;default:z=Pe,Pe=0,Lt=null,fl(e,w,R,z)}}dy(),S=Xe;break}catch(Y){Dm(e,Y)}while(!0);return s&&e.shellSuspendCounter++,vn=ys=null,Le=r,I.H=h,I.A=y,Ee===null&&(Ge=null,Ae=0,ei()),S}function dy(){for(;Ee!==null;)qm(Ee)}function fy(e,s){var a=Le;Le|=2;var r=Lm(),h=Pm();Ge!==e||Ae!==s?(ji=null,Ii=St()+500,dl(e,s)):rl=jl(e,s);e:do try{if(Pe!==0&&Ee!==null){s=Ee;var y=Lt;t:switch(Pe){case 1:Pe=0,Lt=null,fl(e,s,y,1);break;case 2:case 9:if(Yd(y)){Pe=0,Lt=null,Bm(s);break}s=function(){Pe!==2&&Pe!==9||Ge!==e||(Pe=7),fn(e)},y.then(s,s);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:Yd(y)?(Pe=0,Lt=null,Bm(s)):(Pe=0,Lt=null,fl(e,s,y,7));break;case 5:var S=null;switch(Ee.tag){case 26:S=Ee.memoizedState;case 5:case 27:var w=Ee;if(S?wh(S):w.stateNode.complete){Pe=0,Lt=null;var R=w.sibling;if(R!==null)Ee=R;else{var z=w.return;z!==null?(Ee=z,Ui(z)):Ee=null}break t}}Pe=0,Lt=null,fl(e,s,y,5);break;case 6:Pe=0,Lt=null,fl(e,s,y,6);break;case 8:gu(),Xe=6;break e;default:throw Error(i(462))}}my();break}catch(Y){Dm(e,Y)}while(!0);return vn=ys=null,I.H=r,I.A=h,Le=a,Ee!==null?0:(Ge=null,Ae=0,ei(),Xe)}function my(){for(;Ee!==null&&!Ao();)qm(Ee)}function qm(e){var s=rm(e.alternate,e,Mn);e.memoizedProps=e.pendingProps,s===null?Ui(e):Ee=s}function Bm(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=nm(a,s,s.pendingProps,s.type,void 0,Ae);break;case 11:s=nm(a,s,s.pendingProps,s.type.render,s.ref,Ae);break;case 5:jr(s);default:cm(a,s),s=Ee=Ld(s,Mn),s=rm(a,s,Mn)}e.memoizedProps=e.pendingProps,s===null?Ui(e):Ee=s}function fl(e,s,a,r){vn=ys=null,jr(s),tl=null,Kl=0;var h=s.return;try{if(ty(e,h,s,a,Ae)){Xe=1,Si(e,Gt(a,e.current)),Ee=null;return}}catch(y){if(h!==null)throw Ee=h,y;Xe=1,Si(e,Gt(a,e.current)),Ee=null;return}s.flags&32768?(Ie||r===1?e=!0:rl||(Ae&536870912)!==0?e=!1:(Qn=e=!0,(r===2||r===9||r===3||r===6)&&(r=Dt.current,r!==null&&r.tag===13&&(r.flags|=16384))),Hm(s,e)):Ui(s)}function Ui(e){var s=e;do{if((s.flags&32768)!==0){Hm(s,Qn);return}e=s.return;var a=ly(s.alternate,s,Mn);if(a!==null){Ee=a;return}if(s=s.sibling,s!==null){Ee=s;return}Ee=s=e}while(s!==null);Xe===0&&(Xe=5)}function Hm(e,s){do{var a=ay(e.alternate,e);if(a!==null){a.flags&=32767,Ee=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=a}while(e!==null);Xe=6,Ee=null}function zm(e,s,a,r,h,y,S,w,R){e.cancelPendingCommit=null;do Li();while(ot!==0);if((Le&6)!==0)throw Error(i(327));if(s!==null){if(s===e.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=ar,Jg(e,a,y,S,w,R),e===Ge&&(Ee=Ge=null,Ae=0),cl=s,Wn=e,Rn=a,mu=y,hu=h,Rm=r,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,xy(ks,function(){return Jm(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||r){r=I.T,I.T=null,h=Z.p,Z.p=2,S=Le,Le|=4;try{iy(e,s,a)}finally{Le=S,Z.p=h,I.T=r}}ot=1,Vm(),Gm(),Om()}}function Vm(){if(ot===1){ot=0;var e=Wn,s=cl,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=I.T,I.T=null;var r=Z.p;Z.p=2;var h=Le;Le|=4;try{Sm(s,e);var y=Mu,S=_d(e.containerInfo),w=y.focusedElem,R=y.selectionRange;if(S!==w&&w&&w.ownerDocument&&Ed(w.ownerDocument.documentElement,w)){if(R!==null&&er(w)){var z=R.start,Y=R.end;if(Y===void 0&&(Y=z),"selectionStart"in w)w.selectionStart=z,w.selectionEnd=Math.min(Y,w.value.length);else{var W=w.ownerDocument||document,G=W&&W.defaultView||window;if(G.getSelection){var O=G.getSelection(),ue=w.textContent.length,ge=Math.min(R.start,ue),ze=R.end===void 0?ge:Math.min(R.end,ue);!O.extend&&ge>ze&&(S=ze,ze=ge,ge=S);var L=Td(w,ge),U=Td(w,ze);if(L&&U&&(O.rangeCount!==1||O.anchorNode!==L.node||O.anchorOffset!==L.offset||O.focusNode!==U.node||O.focusOffset!==U.offset)){var H=W.createRange();H.setStart(L.node,L.offset),O.removeAllRanges(),ge>ze?(O.addRange(H),O.extend(U.node,U.offset)):(H.setEnd(U.node,U.offset),O.addRange(H))}}}}for(W=[],O=w;O=O.parentNode;)O.nodeType===1&&W.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<W.length;w++){var X=W[w];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}$i=!!Au,Mu=Au=null}finally{Le=h,Z.p=r,I.T=a}}e.current=s,ot=2}}function Gm(){if(ot===2){ot=0;var e=Wn,s=cl,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=I.T,I.T=null;var r=Z.p;Z.p=2;var h=Le;Le|=4;try{xm(e,s.alternate,s)}finally{Le=h,Z.p=r,I.T=a}}ot=3}}function Om(){if(ot===4||ot===3){ot=0,Mo();var e=Wn,s=cl,a=Rn,r=Rm;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ot=5:(ot=0,cl=Wn=null,Fm(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Zn=null),Uo(a),s=s.stateNode,ve&&typeof ve.onCommitFiberRoot=="function")try{ve.onCommitFiberRoot(ce,s,void 0,(s.current.flags&128)===128)}catch{}if(r!==null){s=I.T,h=Z.p,Z.p=2,I.T=null;try{for(var y=e.onRecoverableError,S=0;S<r.length;S++){var w=r[S];y(w.value,{componentStack:w.stack})}}finally{I.T=s,Z.p=h}}(Rn&3)!==0&&Li(),fn(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===pu?fa++:(fa=0,pu=e):fa=0,ma(0)}}function Fm(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,Yl(s)))}function Li(){return Vm(),Gm(),Om(),Jm()}function Jm(){if(ot!==5)return!1;var e=Wn,s=mu;mu=0;var a=Uo(Rn),r=I.T,h=Z.p;try{Z.p=32>a?32:a,I.T=null,a=hu,hu=null;var y=Wn,S=Rn;if(ot=0,cl=Wn=null,Rn=0,(Le&6)!==0)throw Error(i(331));var w=Le;if(Le|=4,_m(y.current),wm(y,y.current,S,a),Le=w,ma(0,!1),ve&&typeof ve.onPostCommitFiberRoot=="function")try{ve.onPostCommitFiberRoot(ce,y)}catch{}return!0}finally{Z.p=h,I.T=r,Fm(e,s)}}function Ym(e,s,a){s=Gt(a,s),s=Yr(e.stateNode,s,2),e=Jn(e,s,2),e!==null&&(kl(e,2),fn(e))}function qe(e,s,a){if(e.tag===3)Ym(e,e,a);else for(;s!==null;){if(s.tag===3){Ym(s,e,a);break}else if(s.tag===1){var r=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zn===null||!Zn.has(r))){e=Gt(a,e),a=$f(2),r=Jn(s,a,2),r!==null&&(Kf(a,r,s,e),kl(r,2),fn(r));break}}s=s.return}}function yu(e,s,a){var r=e.pingCache;if(r===null){r=e.pingCache=new uy;var h=new Set;r.set(s,h)}else h=r.get(s),h===void 0&&(h=new Set,r.set(s,h));h.has(a)||(cu=!0,h.add(a),e=hy.bind(null,e,s,a),s.then(e,e))}function hy(e,s,a){var r=e.pingCache;r!==null&&r.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ge===e&&(Ae&a)===a&&(Xe===4||Xe===3&&(Ae&62914560)===Ae&&300>St()-Ri?(Le&2)===0&&dl(e,0):du|=a,ul===Ae&&(ul=0)),fn(e)}function $m(e,s){s===0&&(s=zc()),e=ps(e,s),e!==null&&(kl(e,s),fn(e))}function py(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),$m(e,a)}function gy(e,s){var a=0;switch(e.tag){case 31:case 13:var r=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(s),$m(e,a)}function xy(e,s){return Al(e,s)}var Pi=null,ml=null,vu=!1,qi=!1,Cu=!1,ts=0;function fn(e){e!==ml&&e.next===null&&(ml===null?Pi=ml=e:ml=ml.next=e),qi=!0,vu||(vu=!0,vy())}function ma(e,s){if(!Cu&&qi){Cu=!0;do for(var a=!1,r=Pi;r!==null;){if(e!==0){var h=r.pendingLanes;if(h===0)var y=0;else{var S=r.suspendedLanes,w=r.pingedLanes;y=(1<<31-it(42|e)+1)-1,y&=h&~(S&~w),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,Zm(r,y))}else y=Ae,y=Va(r,r===Ge?y:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(y&3)===0||jl(r,y)||(a=!0,Zm(r,y));r=r.next}while(a);Cu=!1}}function yy(){Km()}function Km(){qi=vu=!1;var e=0;ts!==0&&My()&&(e=ts);for(var s=St(),a=null,r=Pi;r!==null;){var h=r.next,y=Qm(r,s);y===0?(r.next=null,a===null?Pi=h:a.next=h,h===null&&(ml=a)):(a=r,(e!==0||(y&3)!==0)&&(qi=!0)),r=h}ot!==0&&ot!==5||ma(e),ts!==0&&(ts=0)}function Qm(e,s){for(var a=e.suspendedLanes,r=e.pingedLanes,h=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var S=31-it(y),w=1<<S,R=h[S];R===-1?((w&a)===0||(w&r)!==0)&&(h[S]=Fg(w,s)):R<=s&&(e.expiredLanes|=w),y&=~w}if(s=Ge,a=Ae,a=Va(e,e===s?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,a===0||e===s&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ml(r),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||jl(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(r!==null&&Ml(r),Uo(a)){case 2:case 8:a=qa;break;case 32:a=ks;break;case 268435456:a=Rl;break;default:a=ks}return r=Xm.bind(null,e),a=Al(a,r),e.callbackPriority=s,e.callbackNode=a,s}return r!==null&&r!==null&&Ml(r),e.callbackPriority=2,e.callbackNode=null,2}function Xm(e,s){if(ot!==0&&ot!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Li()&&e.callbackNode!==a)return null;var r=Ae;return r=Va(e,e===Ge?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(jm(e,r,s),Qm(e,St()),e.callbackNode!=null&&e.callbackNode===a?Xm.bind(null,e):null)}function Zm(e,s){if(Li())return null;jm(e,s,!0)}function vy(){Iy(function(){(Le&6)!==0?Al(Pa,yy):Km()})}function bu(){if(ts===0){var e=Zs;e===0&&(e=Ba,Ba<<=1,(Ba&261888)===0&&(Ba=256)),ts=e}return ts}function Wm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ja(""+e)}function eh(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function Cy(e,s,a,r,h){if(s==="submit"&&a&&a.stateNode===h){var y=Wm((h[wt]||null).action),S=r.submitter;S&&(s=(s=S[wt]||null)?Wm(s.formAction):S.getAttribute("formAction"),s!==null&&(y=s,S=null));var w=new Qa("action","action",null,r,h);e.push({event:w,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ts!==0){var R=S?eh(h,S):new FormData(h);zr(a,{pending:!0,data:R,method:h.method,action:y},null,R)}}else typeof y=="function"&&(w.preventDefault(),R=S?eh(h,S):new FormData(h),zr(a,{pending:!0,data:R,method:h.method,action:y},y,R))},currentTarget:h}]})}}for(var Su=0;Su<lr.length;Su++){var Nu=lr[Su],by=Nu.toLowerCase(),Sy=Nu[0].toUpperCase()+Nu.slice(1);tn(by,"on"+Sy)}tn(Rd,"onAnimationEnd"),tn(Id,"onAnimationIteration"),tn(jd,"onAnimationStart"),tn("dblclick","onDoubleClick"),tn("focusin","onFocus"),tn("focusout","onBlur"),tn(qx,"onTransitionRun"),tn(Bx,"onTransitionStart"),tn(Hx,"onTransitionCancel"),tn(kd,"onTransitionEnd"),qs("onMouseEnter",["mouseout","mouseover"]),qs("onMouseLeave",["mouseout","mouseover"]),qs("onPointerEnter",["pointerout","pointerover"]),qs("onPointerLeave",["pointerout","pointerover"]),ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ds("onBeforeInput",["compositionend","keypress","textInput","paste"]),ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ny=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ha));function th(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var r=e[a],h=r.event;r=r.listeners;e:{var y=void 0;if(s)for(var S=r.length-1;0<=S;S--){var w=r[S],R=w.instance,z=w.currentTarget;if(w=w.listener,R!==y&&h.isPropagationStopped())break e;y=w,h.currentTarget=z;try{y(h)}catch(Y){Wa(Y)}h.currentTarget=null,y=R}else for(S=0;S<r.length;S++){if(w=r[S],R=w.instance,z=w.currentTarget,w=w.listener,R!==y&&h.isPropagationStopped())break e;y=w,h.currentTarget=z;try{y(h)}catch(Y){Wa(Y)}h.currentTarget=null,y=R}}}}function _e(e,s){var a=s[Lo];a===void 0&&(a=s[Lo]=new Set);var r=e+"__bubble";a.has(r)||(nh(s,e,2,!1),a.add(r))}function wu(e,s,a){var r=0;s&&(r|=4),nh(a,e,r,s)}var Bi="_reactListening"+Math.random().toString(36).slice(2);function Tu(e){if(!e[Bi]){e[Bi]=!0,$c.forEach(function(a){a!=="selectionchange"&&(Ny.has(a)||wu(a,!1,e),wu(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Bi]||(s[Bi]=!0,wu("selectionchange",!1,s))}}function nh(e,s,a,r){switch(Ih(s)){case 2:var h=Xy;break;case 8:h=Zy;break;default:h=Hu}a=h.bind(null,s,a,e),h=void 0,!Fo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),r?h!==void 0?e.addEventListener(s,a,{capture:!0,passive:h}):e.addEventListener(s,a,!0):h!==void 0?e.addEventListener(s,a,{passive:h}):e.addEventListener(s,a,!1)}function Eu(e,s,a,r,h){var y=r;if((s&1)===0&&(s&2)===0&&r!==null)e:for(;;){if(r===null)return;var S=r.tag;if(S===3||S===4){var w=r.stateNode.containerInfo;if(w===h)break;if(S===4)for(S=r.return;S!==null;){var R=S.tag;if((R===3||R===4)&&S.stateNode.containerInfo===h)return;S=S.return}for(;w!==null;){if(S=Us(w),S===null)return;if(R=S.tag,R===5||R===6||R===26||R===27){r=y=S;continue e}w=w.parentNode}}r=r.return}id(function(){var z=y,Y=Go(a),W=[];e:{var G=Dd.get(e);if(G!==void 0){var O=Qa,ue=e;switch(e){case"keypress":if($a(a)===0)break e;case"keydown":case"keyup":O=gx;break;case"focusin":ue="focus",O=Ko;break;case"focusout":ue="blur",O=Ko;break;case"beforeblur":case"afterblur":O=Ko;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=lx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=vx;break;case Rd:case Id:case jd:O=ox;break;case kd:O=bx;break;case"scroll":case"scrollend":O=nx;break;case"wheel":O=Nx;break;case"copy":case"cut":case"paste":O=ux;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=dd;break;case"toggle":case"beforetoggle":O=Tx}var ge=(s&4)!==0,ze=!ge&&(e==="scroll"||e==="scrollend"),L=ge?G!==null?G+"Capture":null:G;ge=[];for(var U=z,H;U!==null;){var X=U;if(H=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||H===null||L===null||(X=Ll(U,L),X!=null&&ge.push(pa(U,X,H))),ze)break;U=U.return}0<ge.length&&(G=new O(G,ue,null,a,Y),W.push({event:G,listeners:ge}))}}if((s&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",G&&a!==Vo&&(ue=a.relatedTarget||a.fromElement)&&(Us(ue)||ue[Ds]))break e;if((O||G)&&(G=Y.window===Y?Y:(G=Y.ownerDocument)?G.defaultView||G.parentWindow:window,O?(ue=a.relatedTarget||a.toElement,O=z,ue=ue?Us(ue):null,ue!==null&&(ze=c(ue),ge=ue.tag,ue!==ze||ge!==5&&ge!==27&&ge!==6)&&(ue=null)):(O=null,ue=z),O!==ue)){if(ge=ud,X="onMouseLeave",L="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(ge=dd,X="onPointerLeave",L="onPointerEnter",U="pointer"),ze=O==null?G:Ul(O),H=ue==null?G:Ul(ue),G=new ge(X,U+"leave",O,a,Y),G.target=ze,G.relatedTarget=H,X=null,Us(Y)===z&&(ge=new ge(L,U+"enter",ue,a,Y),ge.target=H,ge.relatedTarget=ze,X=ge),ze=X,O&&ue)t:{for(ge=wy,L=O,U=ue,H=0,X=L;X;X=ge(X))H++;X=0;for(var pe=U;pe;pe=ge(pe))X++;for(;0<H-X;)L=ge(L),H--;for(;0<X-H;)U=ge(U),X--;for(;H--;){if(L===U||U!==null&&L===U.alternate){ge=L;break t}L=ge(L),U=ge(U)}ge=null}else ge=null;O!==null&&sh(W,G,O,ge,!1),ue!==null&&ze!==null&&sh(W,ze,ue,ge,!0)}}e:{if(G=z?Ul(z):window,O=G.nodeName&&G.nodeName.toLowerCase(),O==="select"||O==="input"&&G.type==="file")var ke=vd;else if(xd(G))if(Cd)ke=Ux;else{ke=kx;var de=jx}else O=G.nodeName,!O||O.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?z&&zo(z.elementType)&&(ke=vd):ke=Dx;if(ke&&(ke=ke(e,z))){yd(W,ke,a,Y);break e}de&&de(e,G,z),e==="focusout"&&z&&G.type==="number"&&z.memoizedProps.value!=null&&Ho(G,"number",G.value)}switch(de=z?Ul(z):window,e){case"focusin":(xd(de)||de.contentEditable==="true")&&(Os=de,tr=z,Ol=null);break;case"focusout":Ol=tr=Os=null;break;case"mousedown":nr=!0;break;case"contextmenu":case"mouseup":case"dragend":nr=!1,Ad(W,a,Y);break;case"selectionchange":if(Px)break;case"keydown":case"keyup":Ad(W,a,Y)}var we;if(Xo)e:{switch(e){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Gs?pd(e,a)&&(Me="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(fd&&a.locale!=="ko"&&(Gs||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Gs&&(we=od()):(Bn=Y,Jo="value"in Bn?Bn.value:Bn.textContent,Gs=!0)),de=Hi(z,Me),0<de.length&&(Me=new cd(Me,e,null,a,Y),W.push({event:Me,listeners:de}),we?Me.data=we:(we=gd(a),we!==null&&(Me.data=we)))),(we=_x?Ax(e,a):Mx(e,a))&&(Me=Hi(z,"onBeforeInput"),0<Me.length&&(de=new cd("onBeforeInput","beforeinput",null,a,Y),W.push({event:de,listeners:Me}),de.data=we)),Cy(W,e,z,a,Y)}th(W,s)})}function pa(e,s,a){return{instance:e,listener:s,currentTarget:a}}function Hi(e,s){for(var a=s+"Capture",r=[];e!==null;){var h=e,y=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||y===null||(h=Ll(e,a),h!=null&&r.unshift(pa(e,h,y)),h=Ll(e,s),h!=null&&r.push(pa(e,h,y))),e.tag===3)return r;e=e.return}return[]}function wy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function sh(e,s,a,r,h){for(var y=s._reactName,S=[];a!==null&&a!==r;){var w=a,R=w.alternate,z=w.stateNode;if(w=w.tag,R!==null&&R===r)break;w!==5&&w!==26&&w!==27||z===null||(R=z,h?(z=Ll(a,y),z!=null&&S.unshift(pa(a,z,R))):h||(z=Ll(a,y),z!=null&&S.push(pa(a,z,R)))),a=a.return}S.length!==0&&e.push({event:s,listeners:S})}var Ty=/\r\n?/g,Ey=/\u0000|\uFFFD/g;function lh(e){return(typeof e=="string"?e:""+e).replace(Ty,`
`).replace(Ey,"")}function ah(e,s){return s=lh(s),lh(e)===s}function He(e,s,a,r,h,y){switch(a){case"children":typeof r=="string"?s==="body"||s==="textarea"&&r===""||Hs(e,r):(typeof r=="number"||typeof r=="bigint")&&s!=="body"&&Hs(e,""+r);break;case"className":Oa(e,"class",r);break;case"tabIndex":Oa(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Oa(e,a,r);break;case"style":ld(e,r,y);break;case"data":if(s!=="object"){Oa(e,"data",r);break}case"src":case"href":if(r===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=Ja(""+r),e.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(s!=="input"&&He(e,s,"name",h.name,h,null),He(e,s,"formEncType",h.formEncType,h,null),He(e,s,"formMethod",h.formMethod,h,null),He(e,s,"formTarget",h.formTarget,h,null)):(He(e,s,"encType",h.encType,h,null),He(e,s,"method",h.method,h,null),He(e,s,"target",h.target,h,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=Ja(""+r),e.setAttribute(a,r);break;case"onClick":r!=null&&(e.onclick=pn);break;case"onScroll":r!=null&&_e("scroll",e);break;case"onScrollEnd":r!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(a=r.__html,a!=null){if(h.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}a=Ja(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""+r):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":r===!0?e.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,r):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(a,r):e.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(a):e.setAttribute(a,r);break;case"popover":_e("beforetoggle",e),_e("toggle",e),Ga(e,"popover",r);break;case"xlinkActuate":hn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":hn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":hn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":hn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":hn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":hn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":hn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":hn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":hn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Ga(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ex.get(a)||a,Ga(e,a,r))}}function _u(e,s,a,r,h,y){switch(a){case"style":ld(e,r,y);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(a=r.__html,a!=null){if(h.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof r=="string"?Hs(e,r):(typeof r=="number"||typeof r=="bigint")&&Hs(e,""+r);break;case"onScroll":r!=null&&_e("scroll",e);break;case"onScrollEnd":r!=null&&_e("scrollend",e);break;case"onClick":r!=null&&(e.onclick=pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),y=e[wt]||null,y=y!=null?y[a]:null,typeof y=="function"&&e.removeEventListener(s,y,h),typeof r=="function")){typeof y!="function"&&y!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,r,h);break e}a in e?e[a]=r:r===!0?e.setAttribute(a,""):Ga(e,a,r)}}}function gt(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var r=!1,h=!1,y;for(y in a)if(a.hasOwnProperty(y)){var S=a[y];if(S!=null)switch(y){case"src":r=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:He(e,s,y,S,a,null)}}h&&He(e,s,"srcSet",a.srcSet,a,null),r&&He(e,s,"src",a.src,a,null);return;case"input":_e("invalid",e);var w=y=S=h=null,R=null,z=null;for(r in a)if(a.hasOwnProperty(r)){var Y=a[r];if(Y!=null)switch(r){case"name":h=Y;break;case"type":S=Y;break;case"checked":R=Y;break;case"defaultChecked":z=Y;break;case"value":y=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:He(e,s,r,Y,a,null)}}ed(e,y,w,R,z,S,h,!1);return;case"select":_e("invalid",e),r=S=y=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":y=w;break;case"defaultValue":S=w;break;case"multiple":r=w;default:He(e,s,h,w,a,null)}s=y,a=S,e.multiple=!!r,s!=null?Bs(e,!!r,s,!1):a!=null&&Bs(e,!!r,a,!0);return;case"textarea":_e("invalid",e),y=h=r=null;for(S in a)if(a.hasOwnProperty(S)&&(w=a[S],w!=null))switch(S){case"value":r=w;break;case"defaultValue":h=w;break;case"children":y=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:He(e,s,S,w,a,null)}nd(e,r,h,y);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(r=a[R],r!=null))switch(R){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:He(e,s,R,r,a,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(r=0;r<ha.length;r++)_e(ha[r],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(r=a[z],r!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:He(e,s,z,r,a,null)}return;default:if(zo(s)){for(Y in a)a.hasOwnProperty(Y)&&(r=a[Y],r!==void 0&&_u(e,s,Y,r,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(r=a[w],r!=null&&He(e,s,w,r,a,null))}function _y(e,s,a,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,y=null,S=null,w=null,R=null,z=null,Y=null;for(O in a){var W=a[O];if(a.hasOwnProperty(O)&&W!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":R=W;default:r.hasOwnProperty(O)||He(e,s,O,null,r,W)}}for(var G in r){var O=r[G];if(W=a[G],r.hasOwnProperty(G)&&(O!=null||W!=null))switch(G){case"type":y=O;break;case"name":h=O;break;case"checked":z=O;break;case"defaultChecked":Y=O;break;case"value":S=O;break;case"defaultValue":w=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(137,s));break;default:O!==W&&He(e,s,G,O,r,W)}}Bo(e,S,w,R,z,Y,y,h);return;case"select":O=S=w=G=null;for(y in a)if(R=a[y],a.hasOwnProperty(y)&&R!=null)switch(y){case"value":break;case"multiple":O=R;default:r.hasOwnProperty(y)||He(e,s,y,null,r,R)}for(h in r)if(y=r[h],R=a[h],r.hasOwnProperty(h)&&(y!=null||R!=null))switch(h){case"value":G=y;break;case"defaultValue":w=y;break;case"multiple":S=y;default:y!==R&&He(e,s,h,y,r,R)}s=w,a=S,r=O,G!=null?Bs(e,!!a,G,!1):!!r!=!!a&&(s!=null?Bs(e,!!a,s,!0):Bs(e,!!a,a?[]:"",!1));return;case"textarea":O=G=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!r.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:He(e,s,w,null,r,h)}for(S in r)if(h=r[S],y=a[S],r.hasOwnProperty(S)&&(h!=null||y!=null))switch(S){case"value":G=h;break;case"defaultValue":O=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==y&&He(e,s,S,h,r,y)}td(e,G,O);return;case"option":for(var ue in a)if(G=a[ue],a.hasOwnProperty(ue)&&G!=null&&!r.hasOwnProperty(ue))switch(ue){case"selected":e.selected=!1;break;default:He(e,s,ue,null,r,G)}for(R in r)if(G=r[R],O=a[R],r.hasOwnProperty(R)&&G!==O&&(G!=null||O!=null))switch(R){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:He(e,s,R,G,r,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)G=a[ge],a.hasOwnProperty(ge)&&G!=null&&!r.hasOwnProperty(ge)&&He(e,s,ge,null,r,G);for(z in r)if(G=r[z],O=a[z],r.hasOwnProperty(z)&&G!==O&&(G!=null||O!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,s));break;default:He(e,s,z,G,r,O)}return;default:if(zo(s)){for(var ze in a)G=a[ze],a.hasOwnProperty(ze)&&G!==void 0&&!r.hasOwnProperty(ze)&&_u(e,s,ze,void 0,r,G);for(Y in r)G=r[Y],O=a[Y],!r.hasOwnProperty(Y)||G===O||G===void 0&&O===void 0||_u(e,s,Y,G,r,O);return}}for(var L in a)G=a[L],a.hasOwnProperty(L)&&G!=null&&!r.hasOwnProperty(L)&&He(e,s,L,null,r,G);for(W in r)G=r[W],O=a[W],!r.hasOwnProperty(W)||G===O||G==null&&O==null||He(e,s,W,G,r,O)}function ih(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ay(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var h=a[r],y=h.transferSize,S=h.initiatorType,w=h.duration;if(y&&w&&ih(S)){for(S=0,w=h.responseEnd,r+=1;r<a.length;r++){var R=a[r],z=R.startTime;if(z>w)break;var Y=R.transferSize,W=R.initiatorType;Y&&ih(W)&&(R=R.responseEnd,S+=Y*(R<w?1:(w-z)/(R-z)))}if(--r,s+=8*(y+S)/(h.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Au=null,Mu=null;function zi(e){return e.nodeType===9?e:e.ownerDocument}function oh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rh(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function Ru(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Iu=null;function My(){var e=window.event;return e&&e.type==="popstate"?e===Iu?!1:(Iu=e,!0):(Iu=null,!1)}var uh=typeof setTimeout=="function"?setTimeout:void 0,Ry=typeof clearTimeout=="function"?clearTimeout:void 0,ch=typeof Promise=="function"?Promise:void 0,Iy=typeof queueMicrotask=="function"?queueMicrotask:typeof ch<"u"?function(e){return ch.resolve(null).then(e).catch(jy)}:uh;function jy(e){setTimeout(function(){throw e})}function ns(e){return e==="head"}function dh(e,s){var a=s,r=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(r===0){e.removeChild(h),xl(s);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")ga(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ga(a);for(var y=a.firstChild;y;){var S=y.nextSibling,w=y.nodeName;y[Dl]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=S}}else a==="body"&&ga(e.ownerDocument.body);a=h}while(a);xl(s)}function fh(e,s){var a=e;e=0;do{var r=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=r}while(a)}function ju(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ju(a),Po(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function ky(e,s,a,r){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Dl])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var y=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=$t(e.nextSibling),e===null)break}return null}function Dy(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=$t(e.nextSibling),e===null))return null;return e}function mh(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=$t(e.nextSibling),e===null))return null;return e}function ku(e){return e.data==="$?"||e.data==="$~"}function Du(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Uy(e,s){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||a.readyState!=="loading")s();else{var r=function(){s(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function $t(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var Uu=null;function hh(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(s===0)return $t(e.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}e=e.nextSibling}return null}function ph(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return e;s--}else a!=="/$"&&a!=="/&"||s++}e=e.previousSibling}return null}function gh(e,s,a){switch(s=zi(a),e){case"html":if(e=s.documentElement,!e)throw Error(i(452));return e;case"head":if(e=s.head,!e)throw Error(i(453));return e;case"body":if(e=s.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function ga(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);Po(e)}var Kt=new Map,xh=new Set;function Vi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var In=Z.d;Z.d={f:Ly,r:Py,D:qy,C:By,L:Hy,m:zy,X:Gy,S:Vy,M:Oy};function Ly(){var e=In.f(),s=ki();return e||s}function Py(e){var s=Ls(e);s!==null&&s.tag===5&&s.type==="form"?Df(s):In.r(e)}var hl=typeof document>"u"?null:document;function yh(e,s,a){var r=hl;if(r&&typeof s=="string"&&s){var h=zt(s);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),xh.has(h)||(xh.add(h),e={rel:e,crossOrigin:a,href:s},r.querySelector(h)===null&&(s=r.createElement("link"),gt(s,"link",e),rt(s),r.head.appendChild(s)))}}function qy(e){In.D(e),yh("dns-prefetch",e,null)}function By(e,s){In.C(e,s),yh("preconnect",e,s)}function Hy(e,s,a){In.L(e,s,a);var r=hl;if(r&&e&&s){var h='link[rel="preload"][as="'+zt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+zt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+zt(a.imageSizes)+'"]')):h+='[href="'+zt(e)+'"]';var y=h;switch(s){case"style":y=pl(e);break;case"script":y=gl(e)}Kt.has(y)||(e=C({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),Kt.set(y,e),r.querySelector(h)!==null||s==="style"&&r.querySelector(xa(y))||s==="script"&&r.querySelector(ya(y))||(s=r.createElement("link"),gt(s,"link",e),rt(s),r.head.appendChild(s)))}}function zy(e,s){In.m(e,s);var a=hl;if(a&&e){var r=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+zt(r)+'"][href="'+zt(e)+'"]',y=h;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=gl(e)}if(!Kt.has(y)&&(e=C({rel:"modulepreload",href:e},s),Kt.set(y,e),a.querySelector(h)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ya(y)))return}r=a.createElement("link"),gt(r,"link",e),rt(r),a.head.appendChild(r)}}}function Vy(e,s,a){In.S(e,s,a);var r=hl;if(r&&e){var h=Ps(r).hoistableStyles,y=pl(e);s=s||"default";var S=h.get(y);if(!S){var w={loading:0,preload:null};if(S=r.querySelector(xa(y)))w.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":s},a),(a=Kt.get(y))&&Lu(e,a);var R=S=r.createElement("link");rt(R),gt(R,"link",e),R._p=new Promise(function(z,Y){R.onload=z,R.onerror=Y}),R.addEventListener("load",function(){w.loading|=1}),R.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Gi(S,s,r)}S={type:"stylesheet",instance:S,count:1,state:w},h.set(y,S)}}}function Gy(e,s){In.X(e,s);var a=hl;if(a&&e){var r=Ps(a).hoistableScripts,h=gl(e),y=r.get(h);y||(y=a.querySelector(ya(h)),y||(e=C({src:e,async:!0},s),(s=Kt.get(h))&&Pu(e,s),y=a.createElement("script"),rt(y),gt(y,"link",e),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},r.set(h,y))}}function Oy(e,s){In.M(e,s);var a=hl;if(a&&e){var r=Ps(a).hoistableScripts,h=gl(e),y=r.get(h);y||(y=a.querySelector(ya(h)),y||(e=C({src:e,async:!0,type:"module"},s),(s=Kt.get(h))&&Pu(e,s),y=a.createElement("script"),rt(y),gt(y,"link",e),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},r.set(h,y))}}function vh(e,s,a,r){var h=(h=be.current)?Vi(h):null;if(!h)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=pl(a.href),a=Ps(h).hoistableStyles,r=a.get(s),r||(r={type:"style",instance:null,count:0,state:null},a.set(s,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=pl(a.href);var y=Ps(h).hoistableStyles,S=y.get(e);if(S||(h=h.ownerDocument||h,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,S),(y=h.querySelector(xa(e)))&&!y._p&&(S.instance=y,S.state.loading=5),Kt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kt.set(e,a),y||Fy(h,e,a,S.state))),s&&r===null)throw Error(i(528,""));return S}if(s&&r!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=gl(a),a=Ps(h).hoistableScripts,r=a.get(s),r||(r={type:"script",instance:null,count:0,state:null},a.set(s,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function pl(e){return'href="'+zt(e)+'"'}function xa(e){return'link[rel="stylesheet"]['+e+"]"}function Ch(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function Fy(e,s,a,r){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?r.loading=1:(s=e.createElement("link"),r.preload=s,s.addEventListener("load",function(){return r.loading|=1}),s.addEventListener("error",function(){return r.loading|=2}),gt(s,"link",a),rt(s),e.head.appendChild(s))}function gl(e){return'[src="'+zt(e)+'"]'}function ya(e){return"script[async]"+e}function bh(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var r=e.querySelector('style[data-href~="'+zt(a.href)+'"]');if(r)return s.instance=r,rt(r),r;var h=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),rt(r),gt(r,"style",h),Gi(r,a.precedence,e),s.instance=r;case"stylesheet":h=pl(a.href);var y=e.querySelector(xa(h));if(y)return s.state.loading|=4,s.instance=y,rt(y),y;r=Ch(a),(h=Kt.get(h))&&Lu(r,h),y=(e.ownerDocument||e).createElement("link"),rt(y);var S=y;return S._p=new Promise(function(w,R){S.onload=w,S.onerror=R}),gt(y,"link",r),s.state.loading|=4,Gi(y,a.precedence,e),s.instance=y;case"script":return y=gl(a.src),(h=e.querySelector(ya(y)))?(s.instance=h,rt(h),h):(r=a,(h=Kt.get(y))&&(r=C({},a),Pu(r,h)),e=e.ownerDocument||e,h=e.createElement("script"),rt(h),gt(h,"link",r),e.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(r=s.instance,s.state.loading|=4,Gi(r,a.precedence,e));return s.instance}function Gi(e,s,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=r.length?r[r.length-1]:null,y=h,S=0;S<r.length;S++){var w=r[S];if(w.dataset.precedence===s)y=w;else if(y!==h)break}y?y.parentNode.insertBefore(e,y.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function Lu(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Pu(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var Oi=null;function Sh(e,s,a){if(Oi===null){var r=new Map,h=Oi=new Map;h.set(a,r)}else h=Oi,r=h.get(a),r||(r=new Map,h.set(a,r));if(r.has(e))return r;for(r.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var y=a[h];if(!(y[Dl]||y[ft]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(s)||"";S=e+S;var w=r.get(S);w?w.push(y):r.set(S,[y])}}return r}function Nh(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function Jy(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function wh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Yy(e,s,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=pl(r.href),y=s.querySelector(xa(h));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=Fi.bind(e),s.then(e,e)),a.state.loading|=4,a.instance=y,rt(y);return}y=s.ownerDocument||s,r=Ch(r),(h=Kt.get(h))&&Lu(r,h),y=y.createElement("link"),rt(y);var S=y;S._p=new Promise(function(w,R){S.onload=w,S.onerror=R}),gt(y,"link",r),a.instance=y}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Fi.bind(e),s.addEventListener("load",a),s.addEventListener("error",a))}}var qu=0;function $y(e,s){return e.stylesheets&&e.count===0&&Yi(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var r=setTimeout(function(){if(e.stylesheets&&Yi(e,e.stylesheets),e.unsuspend){var y=e.unsuspend;e.unsuspend=null,y()}},6e4+s);0<e.imgBytes&&qu===0&&(qu=62500*Ay());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Yi(e,e.stylesheets),e.unsuspend)){var y=e.unsuspend;e.unsuspend=null,y()}},(e.imgBytes>qu?50:800)+s);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(h)}}:null}function Fi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ji=null;function Yi(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ji=new Map,s.forEach(Ky,e),Ji=null,Fi.call(e))}function Ky(e,s){if(!(s.state.loading&4)){var a=Ji.get(e);if(a)var r=a.get(null);else{a=new Map,Ji.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<h.length;y++){var S=h[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),r=S)}r&&a.set(null,r)}h=s.instance,S=h.getAttribute("data-precedence"),y=a.get(S)||r,y===r&&a.set(null,h),a.set(S,h),this.count++,r=Fi.bind(this),h.addEventListener("load",r),h.addEventListener("error",r),y?y.parentNode.insertBefore(h,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),s.state.loading|=4}}var va={$$typeof:D,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Qy(e,s,a,r,h,y,S,w,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ko(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ko(0),this.hiddenUpdates=ko(null),this.identifierPrefix=r,this.onUncaughtError=h,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Th(e,s,a,r,h,y,S,w,R,z,Y,W){return e=new Qy(e,s,a,S,R,z,Y,W,w),s=1,y===!0&&(s|=24),y=kt(3,null,null,s),e.current=y,y.stateNode=e,s=xr(),s.refCount++,e.pooledCache=s,s.refCount++,y.memoizedState={element:r,isDehydrated:a,cache:s},br(y),e}function Eh(e){return e?(e=Ys,e):Ys}function _h(e,s,a,r,h,y){h=Eh(h),r.context===null?r.context=h:r.pendingContext=h,r=Fn(s),r.payload={element:a},y=y===void 0?null:y,y!==null&&(r.callback=y),a=Jn(e,r,s),a!==null&&(Rt(a,e,s),Xl(a,e,s))}function Ah(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function Bu(e,s){Ah(e,s),(e=e.alternate)&&Ah(e,s)}function Mh(e){if(e.tag===13||e.tag===31){var s=ps(e,67108864);s!==null&&Rt(s,e,67108864),Bu(e,67108864)}}function Rh(e){if(e.tag===13||e.tag===31){var s=qt();s=Do(s);var a=ps(e,s);a!==null&&Rt(a,e,s),Bu(e,s)}}var $i=!0;function Xy(e,s,a,r){var h=I.T;I.T=null;var y=Z.p;try{Z.p=2,Hu(e,s,a,r)}finally{Z.p=y,I.T=h}}function Zy(e,s,a,r){var h=I.T;I.T=null;var y=Z.p;try{Z.p=8,Hu(e,s,a,r)}finally{Z.p=y,I.T=h}}function Hu(e,s,a,r){if($i){var h=zu(r);if(h===null)Eu(e,s,r,Ki,a),jh(e,r);else if(ev(h,e,s,a,r))r.stopPropagation();else if(jh(e,r),s&4&&-1<Wy.indexOf(e)){for(;h!==null;){var y=Ls(h);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=cs(y.pendingLanes);if(S!==0){var w=y;for(w.pendingLanes|=2,w.entangledLanes|=2;S;){var R=1<<31-it(S);w.entanglements[1]|=R,S&=~R}fn(y),(Le&6)===0&&(Ii=St()+500,ma(0))}}break;case 31:case 13:w=ps(y,2),w!==null&&Rt(w,y,2),ki(),Bu(y,2)}if(y=zu(r),y===null&&Eu(e,s,r,Ki,a),y===h)break;h=y}h!==null&&r.stopPropagation()}else Eu(e,s,r,null,a)}}function zu(e){return e=Go(e),Vu(e)}var Ki=null;function Vu(e){if(Ki=null,e=Us(e),e!==null){var s=c(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=f(s),e!==null)return e;e=null}else if(a===31){if(e=g(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return Ki=e,null}function Ih(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ro()){case Pa:return 2;case qa:return 8;case ks:case Io:return 32;case Rl:return 268435456;default:return 32}default:return 32}}var Gu=!1,ss=null,ls=null,as=null,Ca=new Map,ba=new Map,is=[],Wy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jh(e,s){switch(e){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":Ca.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ba.delete(s.pointerId)}}function Sa(e,s,a,r,h,y){return e===null||e.nativeEvent!==y?(e={blockedOn:s,domEventName:a,eventSystemFlags:r,nativeEvent:y,targetContainers:[h]},s!==null&&(s=Ls(s),s!==null&&Mh(s)),e):(e.eventSystemFlags|=r,s=e.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),e)}function ev(e,s,a,r,h){switch(s){case"focusin":return ss=Sa(ss,e,s,a,r,h),!0;case"dragenter":return ls=Sa(ls,e,s,a,r,h),!0;case"mouseover":return as=Sa(as,e,s,a,r,h),!0;case"pointerover":var y=h.pointerId;return Ca.set(y,Sa(Ca.get(y)||null,e,s,a,r,h)),!0;case"gotpointercapture":return y=h.pointerId,ba.set(y,Sa(ba.get(y)||null,e,s,a,r,h)),!0}return!1}function kh(e){var s=Us(e.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=f(a),s!==null){e.blockedOn=s,Jc(e.priority,function(){Rh(a)});return}}else if(s===31){if(s=g(a),s!==null){e.blockedOn=s,Jc(e.priority,function(){Rh(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qi(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=zu(e.nativeEvent);if(a===null){a=e.nativeEvent;var r=new a.constructor(a.type,a);Vo=r,a.target.dispatchEvent(r),Vo=null}else return s=Ls(a),s!==null&&Mh(s),e.blockedOn=a,!1;s.shift()}return!0}function Dh(e,s,a){Qi(e)&&a.delete(s)}function tv(){Gu=!1,ss!==null&&Qi(ss)&&(ss=null),ls!==null&&Qi(ls)&&(ls=null),as!==null&&Qi(as)&&(as=null),Ca.forEach(Dh),ba.forEach(Dh)}function Xi(e,s){e.blockedOn===s&&(e.blockedOn=null,Gu||(Gu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,tv)))}var Zi=null;function Uh(e){Zi!==e&&(Zi=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Zi===e&&(Zi=null);for(var s=0;s<e.length;s+=3){var a=e[s],r=e[s+1],h=e[s+2];if(typeof r!="function"){if(Vu(r||a)===null)continue;break}var y=Ls(a);y!==null&&(e.splice(s,3),s-=3,zr(y,{pending:!0,data:h,method:a.method,action:r},r,h))}}))}function xl(e){function s(R){return Xi(R,e)}ss!==null&&Xi(ss,e),ls!==null&&Xi(ls,e),as!==null&&Xi(as,e),Ca.forEach(s),ba.forEach(s);for(var a=0;a<is.length;a++){var r=is[a];r.blockedOn===e&&(r.blockedOn=null)}for(;0<is.length&&(a=is[0],a.blockedOn===null);)kh(a),a.blockedOn===null&&is.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var h=a[r],y=a[r+1],S=h[wt]||null;if(typeof y=="function")S||Uh(a);else if(S){var w=null;if(y&&y.hasAttribute("formAction")){if(h=y,S=y[wt]||null)w=S.formAction;else if(Vu(h)!==null)continue}else w=S.action;typeof w=="function"?a[r+1]=w:(a.splice(r,3),r-=3),Uh(a)}}}function Lh(){function e(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(S){return h=S})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function Ou(e){this._internalRoot=e}Wi.prototype.render=Ou.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,r=qt();_h(a,r,e,s,null,null)},Wi.prototype.unmount=Ou.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;_h(e.current,2,null,e,null,null),ki(),s[Ds]=null}};function Wi(e){this._internalRoot=e}Wi.prototype.unstable_scheduleHydration=function(e){if(e){var s=Fc();e={blockedOn:null,target:e,priority:s};for(var a=0;a<is.length&&s!==0&&s<is[a].priority;a++);is.splice(a,0,e),a===0&&kh(e)}};var Ph=t.version;if(Ph!=="19.2.0")throw Error(i(527,Ph,"19.2.0"));Z.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=p(s),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var nv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eo.isDisabled&&eo.supportsFiber)try{ce=eo.inject(nv),ve=eo}catch{}}return wa.createRoot=function(e,s){if(!u(e))throw Error(i(299));var a=!1,r="",h=Of,y=Ff,S=Jf;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError)),s=Th(e,1,!1,null,null,a,r,null,h,y,S,Lh),e[Ds]=s.current,Tu(e),new Ou(s)},wa.hydrateRoot=function(e,s,a){if(!u(e))throw Error(i(299));var r=!1,h="",y=Of,S=Ff,w=Jf,R=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),s=Th(e,1,!0,s,a??null,r,h,R,y,S,w,Lh),s.context=Eh(null),a=s.current,r=qt(),r=Do(r),h=Fn(r),h.callback=null,Jn(a,h,r),a=r,s.current.lanes=a,kl(s,a),fn(s),e[Ds]=s.current,Tu(e),new Wi(s)},wa.version="19.2.0",wa}var Yh;function fv(){if(Yh)return Yu.exports;Yh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Yu.exports=dv(),Yu.exports}var mv=fv();const hv=H0(mv);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $h="popstate";function pv(n={}){function t(u,c){let{pathname:f="/",search:g="",hash:x=""}=Rs(u.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),lc("",{pathname:f,search:g,hash:x},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function l(u,c){let f=u.document.querySelector("base"),g="";if(f&&f.getAttribute("href")){let x=u.location.href,p=x.indexOf("#");g=p===-1?x:x.slice(0,p)}return g+"#"+(typeof c=="string"?c:Ra(c))}function i(u,c){Bt(u.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return xv(t,l,i,n)}function Ke(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Bt(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gv(){return Math.random().toString(36).substring(2,10)}function Kh(n,t){return{usr:n.state,key:n.key,idx:t}}function lc(n,t,l=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Rs(t):t,state:l,key:t&&t.key||i||gv()}}function Ra({pathname:n="/",search:t="",hash:l=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),l&&l!=="#"&&(n+=l.charAt(0)==="#"?l:"#"+l),n}function Rs(n){let t={};if(n){let l=n.indexOf("#");l>=0&&(t.hash=n.substring(l),n=n.substring(0,l));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function xv(n,t,l,i={}){let{window:u=document.defaultView,v5Compat:c=!1}=i,f=u.history,g="POP",x=null,p=v();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function v(){return(f.state||{idx:null}).idx}function C(){g="POP";let A=v(),j=A==null?null:A-p;p=A,x&&x({action:g,location:E.location,delta:j})}function b(A,j){g="PUSH";let M=lc(E.location,A,j);l&&l(M,A),p=v()+1;let D=Kh(M,p),B=E.createHref(M);try{f.pushState(D,"",B)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;u.location.assign(B)}c&&x&&x({action:g,location:E.location,delta:1})}function N(A,j){g="REPLACE";let M=lc(E.location,A,j);l&&l(M,A),p=v();let D=Kh(M,p),B=E.createHref(M);f.replaceState(D,"",B),c&&x&&x({action:g,location:E.location,delta:0})}function _(A){return yv(A)}let E={get action(){return g},get location(){return n(u,f)},listen(A){if(x)throw new Error("A history only accepts one active listener");return u.addEventListener($h,C),x=A,()=>{u.removeEventListener($h,C),x=null}},createHref(A){return t(u,A)},createURL:_,encodeLocation(A){let j=_(A);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:N,go(A){return f.go(A)}};return E}function yv(n,t=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(l,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Ra(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=l+i),new URL(i,l)}function V0(n,t,l="/"){return vv(n,t,l,!1)}function vv(n,t,l,i){let u=typeof t=="string"?Rs(t):t,c=Dn(u.pathname||"/",l);if(c==null)return null;let f=G0(n);Cv(f);let g=null;for(let x=0;g==null&&x<f.length;++x){let p=Iv(c);g=Mv(f[x],p,i)}return g}function G0(n,t=[],l=[],i="",u=!1){let c=(f,g,x=u,p)=>{let v={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&x)return;Ke(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let C=kn([i,v.relativePath]),b=l.concat(v);f.children&&f.children.length>0&&(Ke(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${C}".`),G0(f.children,t,b,C,x)),!(f.path==null&&!f.index)&&t.push({path:C,score:_v(C,f.index),routesMeta:b})};return n.forEach((f,g)=>{var x;if(f.path===""||!((x=f.path)!=null&&x.includes("?")))c(f,g);else for(let p of O0(f.path))c(f,g,!0,p)}),t}function O0(n){let t=n.split("/");if(t.length===0)return[];let[l,...i]=t,u=l.endsWith("?"),c=l.replace(/\?$/,"");if(i.length===0)return u?[c,""]:[c];let f=O0(i.join("/")),g=[];return g.push(...f.map(x=>x===""?c:[c,x].join("/"))),u&&g.push(...f),g.map(x=>n.startsWith("/")&&x===""?"/":x)}function Cv(n){n.sort((t,l)=>t.score!==l.score?l.score-t.score:Av(t.routesMeta.map(i=>i.childrenIndex),l.routesMeta.map(i=>i.childrenIndex)))}var bv=/^:[\w-]+$/,Sv=3,Nv=2,wv=1,Tv=10,Ev=-2,Qh=n=>n==="*";function _v(n,t){let l=n.split("/"),i=l.length;return l.some(Qh)&&(i+=Ev),t&&(i+=Nv),l.filter(u=>!Qh(u)).reduce((u,c)=>u+(bv.test(c)?Sv:c===""?wv:Tv),i)}function Av(n,t){return n.length===t.length&&n.slice(0,-1).every((i,u)=>i===t[u])?n[n.length-1]-t[t.length-1]:0}function Mv(n,t,l=!1){let{routesMeta:i}=n,u={},c="/",f=[];for(let g=0;g<i.length;++g){let x=i[g],p=g===i.length-1,v=c==="/"?t:t.slice(c.length)||"/",C=ho({path:x.relativePath,caseSensitive:x.caseSensitive,end:p},v),b=x.route;if(!C&&p&&l&&!i[i.length-1].route.index&&(C=ho({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},v)),!C)return null;Object.assign(u,C.params),f.push({params:u,pathname:kn([c,C.pathname]),pathnameBase:Uv(kn([c,C.pathnameBase])),route:b}),C.pathnameBase!=="/"&&(c=kn([c,C.pathnameBase]))}return f}function ho(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[l,i]=Rv(n.path,n.caseSensitive,n.end),u=t.match(l);if(!u)return null;let c=u[0],f=c.replace(/(.)\/+$/,"$1"),g=u.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:C},b)=>{if(v==="*"){let _=g[b]||"";f=c.slice(0,c.length-_.length).replace(/(.)\/+$/,"$1")}const N=g[b];return C&&!N?p[v]=void 0:p[v]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:f,pattern:n}}function Rv(n,t=!1,l=!0){Bt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],u="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,x)=>(i.push({paramName:g,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),u+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?u+="\\/*$":n!==""&&n!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,t?void 0:"i"),i]}function Iv(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Dn(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let l=t.endsWith("/")?t.length-1:t.length,i=n.charAt(l);return i&&i!=="/"?null:n.slice(l)||"/"}function jv(n,t="/"){let{pathname:l,search:i="",hash:u=""}=typeof n=="string"?Rs(n):n;return{pathname:l?l.startsWith("/")?l:kv(l,t):t,search:Lv(i),hash:Pv(u)}}function kv(n,t){let l=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(u=>{u===".."?l.length>1&&l.pop():u!=="."&&l.push(u)}),l.length>1?l.join("/"):"/"}function Xu(n,t,l,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Dv(n){return n.filter((t,l)=>l===0||t.route.path&&t.route.path.length>0)}function bc(n){let t=Dv(n);return t.map((l,i)=>i===t.length-1?l.pathname:l.pathnameBase)}function Sc(n,t,l,i=!1){let u;typeof n=="string"?u=Rs(n):(u={...n},Ke(!u.pathname||!u.pathname.includes("?"),Xu("?","pathname","search",u)),Ke(!u.pathname||!u.pathname.includes("#"),Xu("#","pathname","hash",u)),Ke(!u.search||!u.search.includes("#"),Xu("#","search","hash",u)));let c=n===""||u.pathname==="",f=c?"/":u.pathname,g;if(f==null)g=l;else{let C=t.length-1;if(!i&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),C-=1;u.pathname=b.join("/")}g=C>=0?t[C]:"/"}let x=jv(u,g),p=f&&f!=="/"&&f.endsWith("/"),v=(c||f===".")&&l.endsWith("/");return!x.pathname.endsWith("/")&&(p||v)&&(x.pathname+="/"),x}var kn=n=>n.join("/").replace(/\/\/+/g,"/"),Uv=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Lv=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Pv=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function qv(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var F0=["POST","PUT","PATCH","DELETE"];new Set(F0);var Bv=["GET",...F0];new Set(Bv);var Sl=T.createContext(null);Sl.displayName="DataRouter";var vo=T.createContext(null);vo.displayName="DataRouterState";T.createContext(!1);var J0=T.createContext({isTransitioning:!1});J0.displayName="ViewTransition";var Hv=T.createContext(new Map);Hv.displayName="Fetchers";var zv=T.createContext(null);zv.displayName="Await";var ln=T.createContext(null);ln.displayName="Navigation";var Da=T.createContext(null);Da.displayName="Location";var an=T.createContext({outlet:null,matches:[],isDataRoute:!1});an.displayName="Route";var Nc=T.createContext(null);Nc.displayName="RouteError";function Vv(n,{relative:t}={}){Ke(Nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:i}=T.useContext(ln),{hash:u,pathname:c,search:f}=Ua(n,{relative:t}),g=c;return l!=="/"&&(g=c==="/"?l:kn([l,c])),i.createHref({pathname:g,search:f,hash:u})}function Nl(){return T.useContext(Da)!=null}function Zt(){return Ke(Nl(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Da).location}var Y0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $0(n){T.useContext(ln).static||T.useLayoutEffect(n)}function bt(){let{isDataRoute:n}=T.useContext(an);return n?t1():Gv()}function Gv(){Ke(Nl(),"useNavigate() may be used only in the context of a <Router> component.");let n=T.useContext(Sl),{basename:t,navigator:l}=T.useContext(ln),{matches:i}=T.useContext(an),{pathname:u}=Zt(),c=JSON.stringify(bc(i)),f=T.useRef(!1);return $0(()=>{f.current=!0}),T.useCallback((x,p={})=>{if(Bt(f.current,Y0),!f.current)return;if(typeof x=="number"){l.go(x);return}let v=Sc(x,JSON.parse(c),u,p.relative==="path");n==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:kn([t,v.pathname])),(p.replace?l.replace:l.push)(v,p.state,p)},[t,l,c,u,n])}T.createContext(null);function K0(){let{matches:n}=T.useContext(an),t=n[n.length-1];return t?t.params:{}}function Ua(n,{relative:t}={}){let{matches:l}=T.useContext(an),{pathname:i}=Zt(),u=JSON.stringify(bc(l));return T.useMemo(()=>Sc(n,JSON.parse(u),i,t==="path"),[n,u,i,t])}function Ov(n,t){return Q0(n,t)}function Q0(n,t,l,i,u){var M;Ke(Nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=T.useContext(ln),{matches:f}=T.useContext(an),g=f[f.length-1],x=g?g.params:{},p=g?g.pathname:"/",v=g?g.pathnameBase:"/",C=g&&g.route;{let D=C&&C.path||"";X0(p,!C||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let b=Zt(),N;if(t){let D=typeof t=="string"?Rs(t):t;Ke(v==="/"||((M=D.pathname)==null?void 0:M.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${D.pathname}" was given in the \`location\` prop.`),N=D}else N=b;let _=N.pathname||"/",E=_;if(v!=="/"){let D=v.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(D.length).join("/")}let A=V0(n,{pathname:E});Bt(C||A!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Bt(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=Kv(A&&A.map(D=>Object.assign({},D,{params:Object.assign({},x,D.params),pathname:kn([v,c.encodeLocation?c.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:kn([v,c.encodeLocation?c.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),f,l,i,u);return t&&j?T.createElement(Da.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},j):j}function Fv(){let n=e1(),t=qv(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),l=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:c},"ErrorBoundary")," or"," ",T.createElement("code",{style:c},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),l?T.createElement("pre",{style:u},l):null,f)}var Jv=T.createElement(Fv,null),Yv=class extends T.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.unstable_onError?this.props.unstable_onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?T.createElement(an.Provider,{value:this.props.routeContext},T.createElement(Nc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $v({routeContext:n,match:t,children:l}){let i=T.useContext(Sl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),T.createElement(an.Provider,{value:n},l)}function Kv(n,t=[],l=null,i=null,u=null){if(n==null){if(!l)return null;if(l.errors)n=l.matches;else if(t.length===0&&!l.initialized&&l.matches.length>0)n=l.matches;else return null}let c=n,f=l==null?void 0:l.errors;if(f!=null){let p=c.findIndex(v=>v.route.id&&(f==null?void 0:f[v.route.id])!==void 0);Ke(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,p+1))}let g=!1,x=-1;if(l)for(let p=0;p<c.length;p++){let v=c[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(x=p),v.route.id){let{loaderData:C,errors:b}=l,N=v.route.loader&&!C.hasOwnProperty(v.route.id)&&(!b||b[v.route.id]===void 0);if(v.route.lazy||N){g=!0,x>=0?c=c.slice(0,x+1):c=[c[0]];break}}}return c.reduceRight((p,v,C)=>{let b,N=!1,_=null,E=null;l&&(b=f&&v.route.id?f[v.route.id]:void 0,_=v.route.errorElement||Jv,g&&(x<0&&C===0?(X0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,E=null):x===C&&(N=!0,E=v.route.hydrateFallbackElement||null)));let A=t.concat(c.slice(0,C+1)),j=()=>{let M;return b?M=_:N?M=E:v.route.Component?M=T.createElement(v.route.Component,null):v.route.element?M=v.route.element:M=p,T.createElement($v,{match:v,routeContext:{outlet:p,matches:A,isDataRoute:l!=null},children:M})};return l&&(v.route.ErrorBoundary||v.route.errorElement||C===0)?T.createElement(Yv,{location:l.location,revalidation:l.revalidation,component:_,error:b,children:j(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:i}):j()},null)}function wc(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qv(n){let t=T.useContext(Sl);return Ke(t,wc(n)),t}function Xv(n){let t=T.useContext(vo);return Ke(t,wc(n)),t}function Zv(n){let t=T.useContext(an);return Ke(t,wc(n)),t}function Tc(n){let t=Zv(n),l=t.matches[t.matches.length-1];return Ke(l.route.id,`${n} can only be used on routes that contain a unique "id"`),l.route.id}function Wv(){return Tc("useRouteId")}function e1(){var i;let n=T.useContext(Nc),t=Xv("useRouteError"),l=Tc("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[l]}function t1(){let{router:n}=Qv("useNavigate"),t=Tc("useNavigate"),l=T.useRef(!1);return $0(()=>{l.current=!0}),T.useCallback(async(u,c={})=>{Bt(l.current,Y0),l.current&&(typeof u=="number"?n.navigate(u):await n.navigate(u,{fromRouteId:t,...c}))},[n,t])}var Xh={};function X0(n,t,l){!t&&!Xh[n]&&(Xh[n]=!0,Bt(!1,l))}T.memo(n1);function n1({routes:n,future:t,state:l,unstable_onError:i}){return Q0(n,void 0,l,i,t)}function ac({to:n,replace:t,state:l,relative:i}){Ke(Nl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=T.useContext(ln);Bt(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=T.useContext(an),{pathname:f}=Zt(),g=bt(),x=Sc(n,bc(c),f,i==="path"),p=JSON.stringify(x);return T.useEffect(()=>{g(JSON.parse(p),{replace:t,state:l,relative:i})},[g,p,i,t,l]),null}function et(n){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function s1({basename:n="/",children:t=null,location:l,navigationType:i="POP",navigator:u,static:c=!1}){Ke(!Nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),g=T.useMemo(()=>({basename:f,navigator:u,static:c,future:{}}),[f,u,c]);typeof l=="string"&&(l=Rs(l));let{pathname:x="/",search:p="",hash:v="",state:C=null,key:b="default"}=l,N=T.useMemo(()=>{let _=Dn(x,f);return _==null?null:{location:{pathname:_,search:p,hash:v,state:C,key:b},navigationType:i}},[f,x,p,v,C,b,i]);return Bt(N!=null,`<Router basename="${f}"> is not able to match the URL "${x}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:T.createElement(ln.Provider,{value:g},T.createElement(Da.Provider,{children:t,value:N}))}function l1({children:n,location:t}){return Ov(ic(n),t)}function ic(n,t=[]){let l=[];return T.Children.forEach(n,(i,u)=>{if(!T.isValidElement(i))return;let c=[...t,u];if(i.type===T.Fragment){l.push.apply(l,ic(i.props.children,c));return}Ke(i.type===et,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!i.props.index||!i.props.children,"An index route cannot have child routes.");let f={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=ic(i.props.children,c)),l.push(f)}),l}var uo="get",co="application/x-www-form-urlencoded";function Co(n){return n!=null&&typeof n.tagName=="string"}function a1(n){return Co(n)&&n.tagName.toLowerCase()==="button"}function i1(n){return Co(n)&&n.tagName.toLowerCase()==="form"}function o1(n){return Co(n)&&n.tagName.toLowerCase()==="input"}function r1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function u1(n,t){return n.button===0&&(!t||t==="_self")&&!r1(n)}function oc(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((t,l)=>{let i=n[l];return t.concat(Array.isArray(i)?i.map(u=>[l,u]):[[l,i]])},[]))}function c1(n,t){let l=oc(n);return t&&t.forEach((i,u)=>{l.has(u)||t.getAll(u).forEach(c=>{l.append(u,c)})}),l}var to=null;function d1(){if(to===null)try{new FormData(document.createElement("form"),0),to=!1}catch{to=!0}return to}var f1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zu(n){return n!=null&&!f1.has(n)?(Bt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${co}"`),null):n}function m1(n,t){let l,i,u,c,f;if(i1(n)){let g=n.getAttribute("action");i=g?Dn(g,t):null,l=n.getAttribute("method")||uo,u=Zu(n.getAttribute("enctype"))||co,c=new FormData(n)}else if(a1(n)||o1(n)&&(n.type==="submit"||n.type==="image")){let g=n.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=n.getAttribute("formaction")||g.getAttribute("action");if(i=x?Dn(x,t):null,l=n.getAttribute("formmethod")||g.getAttribute("method")||uo,u=Zu(n.getAttribute("formenctype"))||Zu(g.getAttribute("enctype"))||co,c=new FormData(g,n),!d1()){let{name:p,type:v,value:C}=n;if(v==="image"){let b=p?`${p}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else p&&c.append(p,C)}}else{if(Co(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=uo,i=null,u=co,f=n}return c&&u==="text/plain"&&(f=c,c=void 0),{action:i,method:l.toLowerCase(),encType:u,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ec(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function h1(n,t,l){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${l}`:t&&Dn(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${l}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${l}`,i}async function p1(n,t){if(n.id in t)return t[n.id];try{let l=await import(n.module);return t[n.id]=l,l}catch(l){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function g1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function x1(n,t,l){let i=await Promise.all(n.map(async u=>{let c=t.routes[u.route.id];if(c){let f=await p1(c,l);return f.links?f.links():[]}return[]}));return b1(i.flat(1).filter(g1).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Zh(n,t,l,i,u,c){let f=(x,p)=>l[p]?x.route.id!==l[p].route.id:!0,g=(x,p)=>{var v;return l[p].pathname!==x.pathname||((v=l[p].route.path)==null?void 0:v.endsWith("*"))&&l[p].params["*"]!==x.params["*"]};return c==="assets"?t.filter((x,p)=>f(x,p)||g(x,p)):c==="data"?t.filter((x,p)=>{var C;let v=i.routes[x.route.id];if(!v||!v.hasLoader)return!1;if(f(x,p)||g(x,p))return!0;if(x.route.shouldRevalidate){let b=x.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((C=l[0])==null?void 0:C.params)||{},nextUrl:new URL(n,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function y1(n,t,{includeHydrateFallback:l}={}){return v1(n.map(i=>{let u=t.routes[i.route.id];if(!u)return[];let c=[u.module];return u.clientActionModule&&(c=c.concat(u.clientActionModule)),u.clientLoaderModule&&(c=c.concat(u.clientLoaderModule)),l&&u.hydrateFallbackModule&&(c=c.concat(u.hydrateFallbackModule)),u.imports&&(c=c.concat(u.imports)),c}).flat(1))}function v1(n){return[...new Set(n)]}function C1(n){let t={},l=Object.keys(n).sort();for(let i of l)t[i]=n[i];return t}function b1(n,t){let l=new Set;return new Set(t),n.reduce((i,u)=>{let c=JSON.stringify(C1(u));return l.has(c)||(l.add(c),i.push({key:c,link:u})),i},[])}function Z0(){let n=T.useContext(Sl);return Ec(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function S1(){let n=T.useContext(vo);return Ec(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var _c=T.createContext(void 0);_c.displayName="FrameworkContext";function W0(){let n=T.useContext(_c);return Ec(n,"You must render this element inside a <HydratedRouter> element"),n}function N1(n,t){let l=T.useContext(_c),[i,u]=T.useState(!1),[c,f]=T.useState(!1),{onFocus:g,onBlur:x,onMouseEnter:p,onMouseLeave:v,onTouchStart:C}=t,b=T.useRef(null);T.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let E=j=>{j.forEach(M=>{f(M.isIntersecting)})},A=new IntersectionObserver(E,{threshold:.5});return b.current&&A.observe(b.current),()=>{A.disconnect()}}},[n]),T.useEffect(()=>{if(i){let E=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(E)}}},[i]);let N=()=>{u(!0)},_=()=>{u(!1),f(!1)};return l?n!=="intent"?[c,b,{}]:[c,b,{onFocus:Ta(g,N),onBlur:Ta(x,_),onMouseEnter:Ta(p,N),onMouseLeave:Ta(v,_),onTouchStart:Ta(C,N)}]:[!1,b,{}]}function Ta(n,t){return l=>{n&&n(l),l.defaultPrevented||t(l)}}function w1({page:n,...t}){let{router:l}=Z0(),i=T.useMemo(()=>V0(l.routes,n,l.basename),[l.routes,n,l.basename]);return i?T.createElement(E1,{page:n,matches:i,...t}):null}function T1(n){let{manifest:t,routeModules:l}=W0(),[i,u]=T.useState([]);return T.useEffect(()=>{let c=!1;return x1(n,t,l).then(f=>{c||u(f)}),()=>{c=!0}},[n,t,l]),i}function E1({page:n,matches:t,...l}){let i=Zt(),{manifest:u,routeModules:c}=W0(),{basename:f}=Z0(),{loaderData:g,matches:x}=S1(),p=T.useMemo(()=>Zh(n,t,x,u,i,"data"),[n,t,x,u,i]),v=T.useMemo(()=>Zh(n,t,x,u,i,"assets"),[n,t,x,u,i]),C=T.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let _=new Set,E=!1;if(t.forEach(j=>{var D;let M=u.routes[j.route.id];!M||!M.hasLoader||(!p.some(B=>B.route.id===j.route.id)&&j.route.id in g&&((D=c[j.route.id])!=null&&D.shouldRevalidate)||M.hasClientLoader?E=!0:_.add(j.route.id))}),_.size===0)return[];let A=h1(n,f,"data");return E&&_.size>0&&A.searchParams.set("_routes",t.filter(j=>_.has(j.route.id)).map(j=>j.route.id).join(",")),[A.pathname+A.search]},[f,g,i,u,p,t,n,c]),b=T.useMemo(()=>y1(v,u),[v,u]),N=T1(v);return T.createElement(T.Fragment,null,C.map(_=>T.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...l})),b.map(_=>T.createElement("link",{key:_,rel:"modulepreload",href:_,...l})),N.map(({key:_,link:E})=>T.createElement("link",{key:_,nonce:l.nonce,...E})))}function _1(...n){return t=>{n.forEach(l=>{typeof l=="function"?l(t):l!=null&&(l.current=t)})}}var eg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eg&&(window.__reactRouterVersion="7.9.5")}catch{}function A1({basename:n,children:t,window:l}){let i=T.useRef();i.current==null&&(i.current=pv({window:l,v5Compat:!0}));let u=i.current,[c,f]=T.useState({action:u.action,location:u.location}),g=T.useCallback(x=>{T.startTransition(()=>f(x))},[f]);return T.useLayoutEffect(()=>u.listen(g),[u,g]),T.createElement(s1,{basename:n,children:t,location:c.location,navigationType:c.action,navigator:u})}var tg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ct=T.forwardRef(function({onClick:t,discover:l="render",prefetch:i="none",relative:u,reloadDocument:c,replace:f,state:g,target:x,to:p,preventScrollReset:v,viewTransition:C,...b},N){let{basename:_}=T.useContext(ln),E=typeof p=="string"&&tg.test(p),A,j=!1;if(typeof p=="string"&&E&&(A=p,eg))try{let V=new URL(window.location.href),K=p.startsWith("//")?new URL(V.protocol+p):new URL(p),ne=Dn(K.pathname,_);K.origin===V.origin&&ne!=null?p=ne+K.search+K.hash:j=!0}catch{Bt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=Vv(p,{relative:u}),[D,B,P]=N1(i,b),Q=I1(p,{replace:f,state:g,target:x,preventScrollReset:v,relative:u,viewTransition:C});function q(V){t&&t(V),V.defaultPrevented||Q(V)}let $=T.createElement("a",{...b,...P,href:A||M,onClick:j||c?t:q,ref:_1(N,B),target:x,"data-discover":!E&&l==="render"?"true":void 0});return D&&!E?T.createElement(T.Fragment,null,$,T.createElement(w1,{page:M})):$});ct.displayName="Link";var Qt=T.forwardRef(function({"aria-current":t="page",caseSensitive:l=!1,className:i="",end:u=!1,style:c,to:f,viewTransition:g,children:x,...p},v){let C=Ua(f,{relative:p.relative}),b=Zt(),N=T.useContext(vo),{navigator:_,basename:E}=T.useContext(ln),A=N!=null&&L1(C)&&g===!0,j=_.encodeLocation?_.encodeLocation(C).pathname:C.pathname,M=b.pathname,D=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;l||(M=M.toLowerCase(),D=D?D.toLowerCase():null,j=j.toLowerCase()),D&&E&&(D=Dn(D,E)||D);const B=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let P=M===j||!u&&M.startsWith(j)&&M.charAt(B)==="/",Q=D!=null&&(D===j||!u&&D.startsWith(j)&&D.charAt(j.length)==="/"),q={isActive:P,isPending:Q,isTransitioning:A},$=P?t:void 0,V;typeof i=="function"?V=i(q):V=[i,P?"active":null,Q?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let K=typeof c=="function"?c(q):c;return T.createElement(ct,{...p,"aria-current":$,className:V,ref:v,style:K,to:f,viewTransition:g},typeof x=="function"?x(q):x)});Qt.displayName="NavLink";var M1=T.forwardRef(({discover:n="render",fetcherKey:t,navigate:l,reloadDocument:i,replace:u,state:c,method:f=uo,action:g,onSubmit:x,relative:p,preventScrollReset:v,viewTransition:C,...b},N)=>{let _=D1(),E=U1(g,{relative:p}),A=f.toLowerCase()==="get"?"get":"post",j=typeof g=="string"&&tg.test(g),M=D=>{if(x&&x(D),D.defaultPrevented)return;D.preventDefault();let B=D.nativeEvent.submitter,P=(B==null?void 0:B.getAttribute("formmethod"))||f;_(B||D.currentTarget,{fetcherKey:t,method:P,navigate:l,replace:u,state:c,relative:p,preventScrollReset:v,viewTransition:C})};return T.createElement("form",{ref:N,method:A,action:E,onSubmit:i?x:M,...b,"data-discover":!j&&n==="render"?"true":void 0})});M1.displayName="Form";function R1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ng(n){let t=T.useContext(Sl);return Ke(t,R1(n)),t}function I1(n,{target:t,replace:l,state:i,preventScrollReset:u,relative:c,viewTransition:f}={}){let g=bt(),x=Zt(),p=Ua(n,{relative:c});return T.useCallback(v=>{if(u1(v,t)){v.preventDefault();let C=l!==void 0?l:Ra(x)===Ra(p);g(n,{replace:C,state:i,preventScrollReset:u,relative:c,viewTransition:f})}},[x,g,p,l,i,t,n,u,c,f])}function sg(n){Bt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=T.useRef(oc(n)),l=T.useRef(!1),i=Zt(),u=T.useMemo(()=>c1(i.search,l.current?null:t.current),[i.search]),c=bt(),f=T.useCallback((g,x)=>{const p=oc(typeof g=="function"?g(new URLSearchParams(u)):g);l.current=!0,c("?"+p,x)},[c,u]);return[u,f]}var j1=0,k1=()=>`__${String(++j1)}__`;function D1(){let{router:n}=ng("useSubmit"),{basename:t}=T.useContext(ln),l=Wv();return T.useCallback(async(i,u={})=>{let{action:c,method:f,encType:g,formData:x,body:p}=m1(i,t);if(u.navigate===!1){let v=u.fetcherKey||k1();await n.fetch(v,l,u.action||c,{preventScrollReset:u.preventScrollReset,formData:x,body:p,formMethod:u.method||f,formEncType:u.encType||g,flushSync:u.flushSync})}else await n.navigate(u.action||c,{preventScrollReset:u.preventScrollReset,formData:x,body:p,formMethod:u.method||f,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:l,flushSync:u.flushSync,viewTransition:u.viewTransition})},[n,t,l])}function U1(n,{relative:t}={}){let{basename:l}=T.useContext(ln),i=T.useContext(an);Ke(i,"useFormAction must be used inside a RouteContext");let[u]=i.matches.slice(-1),c={...Ua(n||".",{relative:t})},f=Zt();if(n==null){c.search=f.search;let g=new URLSearchParams(c.search),x=g.getAll("index");if(x.some(v=>v==="")){g.delete("index"),x.filter(C=>C).forEach(C=>g.append("index",C));let v=g.toString();c.search=v?`?${v}`:""}}return(!n||n===".")&&u.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(c.pathname=c.pathname==="/"?l:kn([l,c.pathname])),Ra(c)}function L1(n,{relative:t}={}){let l=T.useContext(J0);Ke(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ng("useViewTransitionState"),u=Ua(n,{relative:t});if(!l.isTransitioning)return!1;let c=Dn(l.currentLocation.pathname,i)||l.currentLocation.pathname,f=Dn(l.nextLocation.pathname,i)||l.nextLocation.pathname;return ho(u.pathname,f)!=null||ho(u.pathname,c)!=null}const Ac=[{id:"user-1",identifier:"ali.rezaei@example.com",karmaCoins:150,impactScore:1250,status:"active",role:"user",socialIds:{instagram:"ali_rezaei",telegram:"alireza_t"}},{id:"user-2",identifier:"sara.mohammadi@example.com",karmaCoins:20,impactScore:1100,status:"active",role:"user",socialIds:{x:"sara_tweets"}},{id:"user-3",identifier:"09123456789",karmaCoins:300,impactScore:980,status:"inactive",role:"user"},{id:"user-4",identifier:"fatemeh.ahmadi@example.com",karmaCoins:80,impactScore:850,status:"active",role:"user",socialIds:{youtube:"FatemehAhmadiChannel"}},{id:"user-5",identifier:"reza.ghasemi@example.com",karmaCoins:5,impactScore:720,status:"active",role:"user"},{id:"user-6",identifier:"09351112233",karmaCoins:500,impactScore:610,status:"active",role:"user"},{id:"user-7",identifier:"admin@karma.com",karmaCoins:999,impactScore:5e3,status:"active",role:"admin",socialIds:{instagram:"karma_admin",x:"karma_admin_x"}},{id:"user-8",identifier:"hassan.karimi@example.com",karmaCoins:120,impactScore:450,status:"inactive",role:"user"}],lg=T.createContext(void 0),P1="admin@karma.com",q1=({children:n})=>{const[t,l]=T.useState(!1),[i,u]=T.useState(null),[c,f]=T.useState(!1),[g,x]=T.useState(0),[p,v]=T.useState(0),[C,b]=T.useState(0),[N,_]=T.useState([]),[E,A]=T.useState({}),[j,M]=T.useState([]);T.useEffect(()=>{const F=localStorage.getItem("userIdentifier");F&&B(F)},[]);const D=(F,re)=>{try{const oe=localStorage.getItem("karma_users");if(oe){let Te=JSON.parse(oe);const I=Te.findIndex(Z=>Z.identifier===F);I!==-1&&(Te[I]={...Te[I],...re},localStorage.setItem("karma_users",JSON.stringify(Te)))}}catch(oe){console.error("Failed to update master user list:",oe)}},B=F=>{try{const me=localStorage.getItem("karma_users");let ye=me?JSON.parse(me):Ac;if(!ye.some(J=>J.identifier===F)){const J={id:`user-${Date.now()}`,identifier:F,karmaCoins:0,impactScore:0,status:"active",role:"user",socialIds:{}};ye.push(J),localStorage.setItem("karma_users",JSON.stringify(ye))}}catch(me){console.error("Failed to check/add new user to master list:",me)}localStorage.setItem("userIdentifier",F),l(!0),u(F),f(F===P1);const re=localStorage.getItem(`karma_coins_${F}`);x(re?parseInt(re,10):0);const oe=localStorage.getItem(`contribution_value_${F}`);v(oe?parseFloat(oe):0);const Te=localStorage.getItem(`impact_score_${F}`);b(Te?parseInt(Te,10):0);const I=localStorage.getItem(`transactions_${F}`);try{_(I?JSON.parse(I):[])}catch{_([])}const Z=localStorage.getItem(`social_ids_${F}`);try{A(Z?JSON.parse(Z):{})}catch{A({})}const te=localStorage.getItem(`redeemed_codes_${F}`);try{M(te?JSON.parse(te):[])}catch{M([])}},P=()=>{localStorage.removeItem("userIdentifier"),l(!1),u(null),f(!1),x(0),v(0),b(0),_([]),A({}),M([])},Q=(F,re,oe)=>{if(i){const Te={id:`${new Date().toISOString()}-${Math.random()}`,description:F,amount:oe,date:new Date().toISOString(),type:"earn"};_(te=>{const me=[Te,...te];return localStorage.setItem(`transactions_${i}`,JSON.stringify(me)),me});let I=0,Z=0;x(te=>(I=te+oe,localStorage.setItem(`karma_coins_${i}`,I.toString()),I)),b(te=>(Z=te+re,localStorage.setItem(`impact_score_${i}`,Z.toString()),D(i,{karmaCoins:I,impactScore:Z}),Z))}},q=(F,re)=>{if(i){const oe=re/100*F;v(Te=>{const I=Te+oe;return localStorage.setItem(`contribution_value_${i}`,I.toString()),I})}},$=F=>{i&&F>0&&v(re=>{const oe=re+F;return localStorage.setItem(`contribution_value_${i}`,oe.toString()),oe})},V=F=>i&&p>=F?(v(re=>{const oe=re-F;return localStorage.setItem(`contribution_value_${i}`,oe.toString()),oe}),!0):!1,K=(F,re,oe)=>{if(i&&g>=F){const Te={id:`${new Date().toISOString()}-${Math.random()}`,description:re,amount:-F,date:new Date().toISOString(),type:"spend"};if(_(I=>{const Z=[Te,...I];return localStorage.setItem(`transactions_${i}`,JSON.stringify(Z)),Z}),oe&&oe.code){const I={name:oe.name,code:oe.code,date:new Date().toISOString()};M(Z=>{const te=[I,...Z];return localStorage.setItem(`redeemed_codes_${i}`,JSON.stringify(te)),te})}else if(oe){const I={name:oe.name,code:" ",date:new Date().toISOString()};M(Z=>{const te=[I,...Z];return localStorage.setItem(`redeemed_codes_${i}`,JSON.stringify(te)),te})}return x(I=>{const Z=I-F;return localStorage.setItem(`karma_coins_${i}`,Z.toString()),D(i,{karmaCoins:Z}),Z}),!0}return!1},ne=F=>{i&&A(re=>{const oe={...re,...F};return localStorage.setItem(`social_ids_${i}`,JSON.stringify(oe)),D(i,{socialIds:oe}),oe})};return o.jsx(lg.Provider,{value:{isAuthenticated:t,userIdentifier:i,isAdmin:c,karmaCoins:g,contributionValue:p,impactScore:C,login:B,logout:P,recordTaskCompletion:Q,addContribution:q,addDirectContribution:$,withdrawContribution:V,spendKarmaCoins:K,transactions:N,socialIds:E,redeemedCodes:j,updateSocialIds:ne},children:n})},xt=()=>{const n=T.useContext(lg);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},Wh={header:{home:"",campaigns:"",karmaClub:" ",adminPanel:" ",createCampaign:" ",userProfile:" ",logout:"",login:" /  "},bottomNav:{home:"",missions:"",news:"",karmaClub:"",profile:""},general:{select:" ..."},notifications:{news:"  ",karmaClub:" "},categories_list:{food:"",health:"  ",education:"",environment:" ",animals:"  ",children:"",entrepreneurship:"",other:""},home:{welcome:"  ",karma:"",subtitle:"         .       .",createCampaign:"   ",joinCampaign:"   "},login:{title:"     ",subtitle:"    ",emailOrPhone:"   ",placeholder:"example@mail.com",login:"",error:{empty:"        .",invalid:"        ."}},campaignsList:{title:" ",subtitle:"         .",filters:"",searchPlaceholder:"  ...",category:"",location:"",locationPlaceholder:": ",resetFilters:" ",noCampaigns:"   !",tryChangingFilters:"           .",showAllCampaigns:"  "},campaignCard:{by:"",viewAndJoin:"  ",completed:"{{percent}}%  ",totalAmount:" :",million:"",toman:"",missionReport:" "},campaignDetail:{campaigner:" ",verifiedAccount:"  "},campaignProgressBar:{progress:"",target:" ",toman:"",daysLeft:" "},karmaClub:{title:" ",subtitle:"            .",yourBalance:" ",coins:"",redeem:"",unavailable:"",quantityLeft:"{{count}}   ",notEnoughCoins:"        .",confirmTitle:"  ",confirmMessage:"  ",for:"    ",confirmButton:"  ",redeemSuccess:"    !"},profile:{verified:" ",socialIds:" ",socialIdsHint:"         .",saveIds:" ",alert:{saved:"      ."},yourCoins:" ",randomMission:" ",randomMissionHint:"     ",new:"",missionReminders:" ",settings:"",chatWithAdmin:"  ",aboutUs:" ",leaderboard:" ",partners:" ",logout:""},dashboard:{contributionValue:"   ",toman:"",viewTransactions:" ",history:"",searchPlaceholder:"    ...",searchLabel:"",weeklyLeague:" ",viewLeagues:" ",currentLeague:" ",weeklyCoins:"{{count}}   ",progressToNext:"   ",featuredMission:" ",categories:"",suggestedMissions:" ",viewAll:" "},donationBalance:{title:"  ",totalContribution:"    ()",toman:"",karmaCoinsBalance:"  :",withdraw:" ",topUp:" ",transactionHistory:" ",success:"",noHistory:"     ."},createCampaign:{toast:{missionTitleFirst:"         .",apiKeyMissing:" API     .",aiError:"      ."},payment:{title:"  ",finalCost:"    ",toman:"",guarantee:"          .",confirmAndPay:"  "}},mission_details:{food:{label:"   ",quantityLabel:"  "},school_supplies:{label:"    ",quantityLabel:" "},medical:{label:"   ",quantityLabel:"   "},production:{label:"  ",quantityLabel:"  "}},admin:{notifications:{enterText:"     .",bulkSuccessAlert:"        .",delete:"",noItems:"     .",title:" ",createTitle:"  ",messageLabel:" ",placeholder:"    ...",typeLabel:" ",videoLabel:"  ()",sendButton:" ",newsListTitle:"   ()",karmaListTitle:"   ",bulkTitle:"   ",bulkDescription:"              .",bulkMessageLabel:"  ",bulkSendButton:"   "},deleteRewardConfirmation:"      ",fillRewardFields:"        .",predefinedRewardEditHint:"      .      ."},karma_club_rewards:{investment:{title:" ",clothing:"",clothing_desc:"      .",shoes:"",shoes_desc:"      .",home_goods:" ",home_goods_desc:"      .",karma_coin:" ",karma_coin_desc:"      ."},discounts:{title:" ",store:" ",store_desc:"      .",store_verified:" ",store_verified_desc:"     .",restaurant:"",restaurant_desc:"     .",appliances:" ",appliances_desc:"       ."},courses:{title:" ",photoshop:" ",photoshop_desc:"    .",online:" ",online_desc:"      .",filimo:" ",filimo_desc:"   .",photoshop_premium:"  ",photoshop_premium_desc:"       ."},vouchers:{title:"",snapp_voucher:"  ",snapp_voucher_desc:"     ."}}},B1={fa:Wh,en:Wh},ag=T.createContext(void 0),H1=(n,t)=>n.split(".").reduce((l,i)=>l?l[i]:void 0,t),z1=({children:n})=>{const[t]=T.useState("fa"),l=f=>{console.log(`Language change to ${f} is not fully implemented in this demo.`)},i=T.useCallback((f,g)=>{let x=H1(f,B1[t]);return x?(g&&Object.keys(g).forEach(p=>{x=x.replace(`{{${p}}}`,String(g[p]))}),x):f},[t]),u=T.useCallback(f=>new Intl.NumberFormat("fa-IR").format(f),[]),c=T.useCallback(f=>{const g=new Date(f),p=Math.round((new Date().getTime()-g.getTime())/1e3),v=Math.round(p/60),C=Math.round(v/60),b=Math.round(C/24),N=new Intl.RelativeTimeFormat("fa",{numeric:"auto"});return p<45?"  ":v<60?N.format(-v,"minute"):C<24?N.format(-C,"hour"):N.format(-b,"day")},[]);return o.jsx(ag.Provider,{value:{language:t,setLanguage:l,t:i,formatNumber:u,formatRelativeTime:c},children:n})},Ve=()=>{const n=T.useContext(ag);if(n===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return n},ig=T.createContext(void 0),Wu=`  
                               
                                  `,ec=[{id:1,mission:" 100      ",brandName:" ",brandLogoUrl:"https://logo.clearbit.com/boraderan.com",location:"",category:"food",tasks:[{id:1,description:"     ",type:"social_media",platform:"instagram",impactPoints:10,karmaCoins:8,targetUrl:"https://www.instagram.com/p/C273y2fI8a4/"},{id:2,description:"     ",type:"social_media",platform:"instagram",impactPoints:5,karmaCoins:3},{id:3,description:"       ",type:"generic",impactPoints:5,karmaCoins:4}],imageUrl:"https://images.unsplash.com/photo-1599028422870-6582ff447868?q=80&w=600&auto=format&fit=crop",progress:75,targetAmount:1e7,daysLeft:12,sponsorMessage:Wu,status:"active",creatorEmail:"creator@boraderan.com"},{id:2,mission:"      ",brandName:" ",brandLogoUrl:"https://logo.clearbit.com/daneshpub.com",location:"  ",category:"education",tasks:[{id:1,description:"    ",type:"social_media",platform:"x",impactPoints:8,karmaCoins:6},{id:2,description:"     ",type:"social_media",platform:"linkedin",impactPoints:5,karmaCoins:3,targetUrl:"https://www.linkedin.com"}],imageUrl:"https://images.unsplash.com/photo-1531988042231-f39a6cc12a9a?q=80&w=600&auto=format&fit=crop",progress:40,targetAmount:5e6,daysLeft:30,sponsorMessage:Wu,status:"active",creatorEmail:"creator@daneshpub.com"},{id:3,mission:"       ",brandName:"   ",brandLogoUrl:"https://logo.clearbit.com/omid-charity.org",location:" ",category:"health",tasks:[{id:1,description:"      ",type:"social_media",platform:"instagram",impactPoints:8,karmaCoins:5}],imageUrl:"https://images.unsplash.com/photo-1584982242339-383282f6f55a?q=80&w=600&auto=format&fit=crop",progress:95,targetAmount:25e6,daysLeft:5,sponsorMessage:Wu,status:"pending",creatorEmail:"admin@karma.com"}],tc=[{id:1,campaignId:1,userId:"bahram@example.com",userName:" ",userAvatar:"https://i.pravatar.cc/150?u=bahram",text:"                           ",createdAt:new Date(Date.now()-600*1e3).toISOString()},{id:2,campaignId:1,userId:"mehdi@example.com",userName:" ",userAvatar:"https://i.pravatar.cc/150?u=mehdi",text:"                        ",createdAt:new Date(Date.now()-3600*1e3).toISOString()}],V1=({children:n})=>{const{t}=Ve(),[l,i]=T.useState([]),[u,c]=T.useState([]),[f,g]=T.useState([]),{recordTaskCompletion:x,userIdentifier:p,addContribution:v}=xt();T.useEffect(()=>{try{const q=localStorage.getItem("karma_campaigns");q?i(JSON.parse(q)):(i(ec),localStorage.setItem("karma_campaigns",JSON.stringify(ec)));const $=localStorage.getItem("karma_task_completions");$&&c(JSON.parse($));const V=localStorage.getItem("karma_comments");V?g(JSON.parse(V)):(g(tc),localStorage.setItem("karma_comments",JSON.stringify(tc)))}catch{i(ec),c([]),g(tc)}},[]);const C=(q,$,V,K,ne)=>{const F={id:`${q}-${$}-${V.id}-${Date.now()}-${Math.random().toString(36).substring(2)}`,userId:q,campaignId:$,taskId:V.id,taskDescription:V.description,submittedData:ne,completedAt:new Date().toISOString(),impactPoints:V.impactPoints,karmaCoins:V.karmaCoins||0,status:K};c(re=>{const oe=[F,...re];return localStorage.setItem("karma_task_completions",JSON.stringify(oe)),oe})},b=q=>{i($=>{const K=[{...q,id:$.length>0?Math.max(...$.map(ne=>ne.id))+1:1,progress:0,status:"pending",creatorEmail:p||"anonymous@example.com"},...$];return localStorage.setItem("karma_campaigns",JSON.stringify(K)),K})},N=q=>{i($=>{const V=$.map(K=>K.id===q.id?q:K);return localStorage.setItem("karma_campaigns",JSON.stringify(V)),V})},_=q=>{i($=>{const V=$.filter(K=>K.id!==q);return localStorage.setItem("karma_campaigns",JSON.stringify(V)),V})},E=(q,$)=>{i(V=>{const K=V.map(ne=>ne.id===q?{...ne,status:$}:ne);return localStorage.setItem("karma_campaigns",JSON.stringify(K)),K})},A=(q,$)=>{i(V=>{const K=V.map(ne=>{if(ne.id===q){const F=Math.min(100,ne.progress+$);return F>=100&&ne.status==="active"?{...ne,progress:100,status:"completed"}:{...ne,progress:F}}return ne});return localStorage.setItem("karma_campaigns",JSON.stringify(K)),K})},j=(q,$,V,K,ne)=>{C(ne,q,K,"pending",V)},M=(q,$,V,K,ne)=>{C(K,q,V,"approved",ne),x(V.description,V.impactPoints,V.karmaCoins||0),A(q,V.impactPoints);const F=l.find(re=>re.id===q);F&&v(F.targetAmount,V.impactPoints)},D=q=>{const $=u.find(K=>K.id===q);if(!$||$.status!=="pending")return;x($.taskDescription,$.impactPoints,$.karmaCoins),A($.campaignId,$.impactPoints);const V=l.find(K=>K.id===$.campaignId);V&&v(V.targetAmount,$.impactPoints),c(K=>{const ne=K.map(F=>F.id===q?{...F,status:"approved"}:F);return localStorage.setItem("karma_task_completions",JSON.stringify(ne)),ne})},B=q=>{const $=u.find(V=>V.id===q);!$||$.status!=="pending"||c(V=>{const K=V.map(ne=>ne.id===q?{...ne,status:"rejected"}:ne);return localStorage.setItem("karma_task_completions",JSON.stringify(K)),K})},P=(q,$,V)=>{g(K=>{const F=[{id:K.length>0?Math.max(...K.map(re=>re.id))+1:1,campaignId:q,userId:$,userName:p?p.split("@")[0]:"",userAvatar:`https://i.pravatar.cc/150?u=${$}`,text:V,createdAt:new Date().toISOString()},...K];return localStorage.setItem("karma_comments",JSON.stringify(F)),F})},Q=q=>{g($=>{const V=$.filter(K=>K.id!==q);return localStorage.setItem("karma_comments",JSON.stringify(V)),V})};return o.jsx(ig.Provider,{value:{campaigns:l,addCampaign:b,updateCampaign:N,deleteCampaign:_,setCampaignStatus:E,submitSocialMediaTask:j,completeGenericTask:M,approveTaskCompletion:D,rejectTaskCompletion:B,taskCompletions:u,comments:f,addComment:P,deleteComment:Q},children:n})},Ia={story_campaign_poster:"   ",like_last_post:"   ",share_post_5_friends:"      ",tweet_about_campaign:"   ",follow_linkedin:"   ",reshare_video:"  ",subscribe_youtube:"   ",join_telegram:"   ",redeem_product_code:"   ",purchase_from_karma_store:"   ",follow_instagram_page:"   ",comment_on_post:"    ",follow_facebook_page:"   ",enter_partner_app_code:"     ",purchase_from_brand_site:"   "},G1=[{name:"",minCoins:0,maxCoins:99,icon:"",iconColor:"text-orange-400",textColor:"text-orange-600",color:"bg-orange-100",prizeDescription:"    "},{name:"",minCoins:100,maxCoins:299,icon:"",iconColor:"text-gray-400",textColor:"text-gray-600",color:"bg-gray-100",prizeDescription:"  +    "},{name:"",minCoins:300,maxCoins:699,icon:"",iconColor:"text-yellow-400",textColor:"text-yellow-600",color:"bg-yellow-100",prizeDescription:"  +      "},{name:"",minCoins:700,maxCoins:1/0,icon:"",iconColor:"text-blue-400",textColor:"text-blue-600",color:"bg-blue-100",prizeDescription:"  +   "}],og=[{name:"food",iconUrl:null},{name:"health",iconUrl:null},{name:"education",iconUrl:null},{name:"environment",iconUrl:null},{name:"animals",iconUrl:null},{name:"children",iconUrl:null},{name:"entrepreneurship",iconUrl:null},{name:"other",iconUrl:null}],ep=og.map(n=>n.name),O1={socialMedia:[{description:"   ",type:"social_media",platform:"instagram",impactPoints:10,karmaCoins:8},{description:"   ",type:"social_media",platform:"instagram",impactPoints:5,karmaCoins:3},{description:"   ",type:"social_media",platform:"instagram",impactPoints:5,karmaCoins:3},{description:"    ",type:"social_media",platform:"instagram",impactPoints:4,karmaCoins:2},{description:"      ",type:"generic",impactPoints:5,karmaCoins:4},{description:"   ",type:"social_media",platform:"x",impactPoints:8,karmaCoins:6},{description:"   ",type:"social_media",platform:"linkedin",impactPoints:5,karmaCoins:3},{description:"  ",type:"social_media",platform:"instagram",impactPoints:8,karmaCoins:5},{description:"   ",type:"social_media",platform:"youtube",impactPoints:7,karmaCoins:5},{description:"   ",type:"social_media",platform:"telegram",impactPoints:6,karmaCoins:4},{description:"   ",type:"social_media",platform:"facebook",impactPoints:5,karmaCoins:3}],partnerActions:[{description:"   ",type:"code_redemption",impactPoints:15,karmaCoins:12},{description:"     ",type:"code_redemption",impactPoints:15,karmaCoins:12},{description:"   ",type:"generic",impactPoints:20,karmaCoins:15},{description:"   ",type:"generic",impactPoints:20,karmaCoins:15}]},rc={socialMedia:"   ",partnerActions:"    "},F1={food:{labelKey:"mission_details.food.label",quantityLabelKey:"mission_details.food.quantityLabel",minQuantity:50,costPerUnit:15e4,defaultCategory:"food",imageUrl:"https://images.unsplash.com/photo-1599028422289-53f75d18b265?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},school_supplies:{labelKey:"mission_details.school_supplies.label",quantityLabelKey:"mission_details.school_supplies.quantityLabel",minQuantity:30,costPerUnit:5e5,defaultCategory:"education",imageUrl:"https://images.unsplash.com/photo-1484653692881-7c285871440e?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},medical:{labelKey:"mission_details.medical.label",quantityLabelKey:"mission_details.medical.quantityLabel",minQuantity:1,costPerUnit:5e6,defaultCategory:"health",imageUrl:"https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},production:{labelKey:"mission_details.production.label",quantityLabelKey:"mission_details.production.quantityLabel",minQuantity:1,costPerUnit:1e7,defaultCategory:"entrepreneurship",imageUrl:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?q=80&w=1200&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}},J1={investment:[{id:101,name:"clothing",description:"clothing_desc",cost:100,quantity:2,codes:["INVEST-CLOTH-A1","INVEST-CLOTH-B2"]},{id:102,name:"shoes",description:"shoes_desc",cost:120,quantity:2,codes:["INVEST-SHOE-A1","INVEST-SHOE-B2"]},{id:103,name:"home_goods",description:"home_goods_desc",cost:150,quantity:2,codes:["INVEST-HOME-A1","INVEST-HOME-B2"]},{id:104,name:"karma_coin",description:"karma_coin_desc",cost:200,quantity:2,codes:["INVEST-COIN-A1","INVEST-COIN-B2"]}],discounts:[{id:201,name:"store",description:"store_desc",cost:50,quantity:3,codes:["DISC-STORE-A1","DISC-STORE-B2","DISC-STORE-C3"]},{id:202,name:"store_verified",description:"store_verified_desc",cost:70,quantity:3,codes:["DISC-GREEN-A1","DISC-GREEN-B2","DISC-GREEN-C3"]},{id:203,name:"restaurant",description:"restaurant_desc",cost:80,quantity:3,codes:["DISC-FOOD-A1","DISC-FOOD-B2","DISC-FOOD-C3"]},{id:204,name:"appliances",description:"appliances_desc",cost:250,quantity:3,codes:["DISC-APPL-A1","DISC-APPL-B2","DISC-APPL-C3"]}],courses:[{id:301,name:"photoshop",description:"photoshop_desc",cost:90,quantity:4,codes:["COURSE-PS-A1","COURSE-PS-B2","COURSE-PS-C3","COURSE-PS-D4"]},{id:302,name:"online",description:"online_desc",cost:40,quantity:4,codes:["COURSE-GEN-A1","COURSE-GEN-B2","COURSE-GEN-C3","COURSE-GEN-D4"]},{id:303,name:"filimo",description:"filimo_desc",cost:60,quantity:4,codes:["COURSE-FILIMO-A1","COURSE-FILIMO-B2","COURSE-FILIMO-C3","COURSE-FILIMO-D4"]},{id:304,name:"photoshop_premium",description:"photoshop_premium_desc",cost:300,quantity:4,codes:["COURSE-PSPRO-A1","COURSE-PSPRO-B2","COURSE-PSPRO-C3","COURSE-PSPRO-D4"]}],vouchers:[{id:401,name:"snapp_voucher",description:"snapp_voucher_desc",cost:20,quantity:10,codes:["SNAP-A1","SNAP-A2","SNAP-A3","SNAP-A4","SNAP-A5","SNAP-A6","SNAP-A7","SNAP-A8","SNAP-A9","SNAP-A10"]}]},rg=T.createContext(void 0),Y1=[{id:"1",name:"Digikala",logoUrl:"https://logo.clearbit.com/digikala.com"},{id:"2",name:"Snapp",logoUrl:"https://logo.clearbit.com/snapp.ir"},{id:"3",name:"Tapsi",logoUrl:"https://logo.clearbit.com/tapsi.ir"},{id:"4",name:"Alibaba",logoUrl:"https://logo.clearbit.com/alibaba.ir"}],$1=[{id:"c1",name:"  ",logoUrl:"https://logo.clearbit.com/mahak-charity.org",website:"https://mahak-charity.org"},{id:"c2",name:"  ",logoUrl:"https://logo.clearbit.com/sosapoverty.org",website:"https://sosapoverty.org"}],K1=({children:n})=>{const[t,l]=T.useState(og),[i,u]=T.useState(O1),[c,f]=T.useState(F1),[g,x]=T.useState(J1),[p,v]=T.useState(G1),[C,b]=T.useState(Y1),[N,_]=T.useState($1),[E,A]=T.useState(!1),[j,M]=T.useState(!1),[D,B]=T.useState(!1),P=I=>{l(I),B(!0)},Q=I=>{u(I),B(!0)},q=I=>{f(I),B(!0)},$=I=>{x(I),B(!0)},V=I=>{v(I),B(!0)},K=I=>{b(I),B(!0)},ne=I=>{_(I),B(!0)},F=I=>{A(I),B(!0)},re=I=>{M(I),B(!0)};T.useEffect(()=>{try{const I=localStorage.getItem("karma_categories");I&&l(JSON.parse(I));const Z=localStorage.getItem("karma_predefined_tasks");Z&&u(JSON.parse(Z));const te=localStorage.getItem("karma_mission_details");te&&f(JSON.parse(te));const me=localStorage.getItem("karma_club_rewards");me&&x(JSON.parse(me));const ye=localStorage.getItem("karma_leagues");ye&&v(JSON.parse(ye));const k=localStorage.getItem("karma_brands");k&&b(JSON.parse(k));const J=localStorage.getItem("karma_charities");J&&_(JSON.parse(J));const se=localStorage.getItem("karma_is_builder_enabled");se&&A(JSON.parse(se));const ie=localStorage.getItem("karma_is_leagues_enabled");ie&&M(JSON.parse(ie))}catch(I){console.error("Failed to load settings from localStorage:",I)}},[]);const oe=()=>{try{localStorage.setItem("karma_categories",JSON.stringify(t)),localStorage.setItem("karma_predefined_tasks",JSON.stringify(i)),localStorage.setItem("karma_mission_details",JSON.stringify(c)),localStorage.setItem("karma_club_rewards",JSON.stringify(g)),localStorage.setItem("karma_leagues",JSON.stringify(p)),localStorage.setItem("karma_brands",JSON.stringify(C)),localStorage.setItem("karma_charities",JSON.stringify(N)),localStorage.setItem("karma_is_builder_enabled",JSON.stringify(E)),localStorage.setItem("karma_is_leagues_enabled",JSON.stringify(j)),B(!1)}catch(I){console.error("Failed to save all settings to localStorage:",I)}},Te=I=>{let Z=null,te=null;for(const me in g){const ye=g[me].find(k=>k.id===I);if(ye){Z=ye,te=me;break}}if(!Z||!te)return{success:!1};if(Z.codes&&Z.codes.length>0){const me=JSON.parse(JSON.stringify(g)),ye=me[te].find(J=>J.id===I),k=ye.codes.shift();return ye.quantity=ye.codes.length,$(me),{success:!0,code:k}}else if(Z.quantity>0){const me=JSON.parse(JSON.stringify(g)),ye=me[te].find(k=>k.id===I);return ye.quantity-=1,$(me),{success:!0}}return{success:!1}};return o.jsx(rg.Provider,{value:{categories:t,setCategories:P,predefinedTasks:i,setPredefinedTasks:Q,missionDetails:c,setMissionDetails:q,karmaClubRewards:g,setKarmaClubRewards:$,leagues:p,setLeagues:V,brands:C,setBrands:K,charities:N,setCharities:ne,isCampaignBuilderEnabled:E,setIsCampaignBuilderEnabled:F,isLeaguesEnabled:j,setIsLeaguesEnabled:re,redeemKarmaReward:Te,saveAllSettings:oe,isDirty:D},children:n})},It=()=>{const n=T.useContext(rg);if(n===void 0)throw new Error("useSettings must be used within a SettingsProvider");return n},ug=T.createContext(void 0),Q1=({children:n})=>o.jsx(ug.Provider,{value:{apiKey:"PLACEHOLDER_API_KEY"},children:n}),Mc=T.createContext(void 0),X1=({children:n})=>{const[t,l]=T.useState({});T.useEffect(()=>{try{const x=localStorage.getItem("karma_support_chats");x&&l(JSON.parse(x))}catch(x){console.error("Failed to load support chats:",x)}},[]);const i=x=>{try{localStorage.setItem("karma_support_chats",JSON.stringify(x)),l(x)}catch(p){console.error("Failed to save support chats:",p)}},u=x=>{l(p=>{if(p[x]&&p[x].length>0)return p;const v={id:`${Date.now()}-welcome`,sender:"support",text:"!      .      ",timestamp:new Date().toISOString(),readByAdmin:!0},C={...p,[x]:[v]};return i(C),C})},c=(x,p,v)=>{const C={id:`${Date.now()}-${Math.random()}`,sender:v,text:p,timestamp:new Date().toISOString(),readByAdmin:v==="support"};l(b=>{const _=[...b[x]||[],C],E={...b,[x]:_};return i(E),E})},f=x=>{l(p=>{const v=p[x];if(!v||v.every(N=>N.readByAdmin))return p;const C=v.map(N=>({...N,readByAdmin:!0})),b={...p,[x]:C};return i(b),b})},g=x=>(t[x]||[]).filter(v=>v.sender==="user"&&!v.readByAdmin).length;return o.jsx(Mc.Provider,{value:{chats:t,sendMessage:c,markAsRead:f,getUnreadCount:g,initializeChat:u},children:n})},Z1=()=>{const n=T.useContext(Mc);if(n===void 0)throw new Error("useSupportChat must be used within a SupportChatProvider");return n},W1=[{id:1,title:"  '    '  ",content:"                     .           .",imageUrl:"https://images.unsplash.com/photo-1599028422870-6582ff447868?q=80&w=600&auto=format&fit=crop",date:new Date(Date.now()-2880*60*1e3).toISOString()},{id:2,title:"   ' '    ",content:"              .              .      .",imageUrl:"https://images.unsplash.com/photo-1531988042231-f39a6cc12a9a?q=80&w=600&auto=format&fit=crop",date:new Date(Date.now()-7200*60*1e3).toISOString()},{id:3,title:"         ",content:"                   .      !",imageUrl:"https://images.unsplash.com/photo-1556742502-ec7c0e9f34b1?q=80&w=600&auto=format&fit=crop",date:new Date(Date.now()-14400*60*1e3).toISOString()}],cg=T.createContext(void 0),e2=({children:n})=>{const{userIdentifier:t}=xt(),[l,i]=T.useState([]),[u]=T.useState(W1);T.useEffect(()=>{try{const _=localStorage.getItem("karma_notifications");_&&i(JSON.parse(_))}catch(_){console.error("Failed to load notifications:",_)}},[]);const c=_=>{i(_),localStorage.setItem("karma_notifications",JSON.stringify(_))},f=(_,E,A)=>{const j={id:`notif-${Date.now()}`,type:_,message:E,videoUrl:A,timestamp:new Date().toISOString(),read:!1};c([...l,j])},g=(_,E)=>{const A={id:`notif-${Date.now()}`,type:"personal",message:E,userId:_,timestamp:new Date().toISOString(),read:!1};c([...l,A])},x=_=>{try{const E=localStorage.getItem("karma_users"),j=(E?JSON.parse(E):[]).map(M=>({id:`notif-${Date.now()}-${Math.random()}`,type:"personal",message:_,userId:M.identifier,timestamp:new Date().toISOString(),read:!1}));c([...l,...j])}catch(E){console.error("Failed to send bulk notifications:",E)}},p=_=>{c(l.filter(E=>E.id!==_))},v=(_,E)=>{},C=l.filter(_=>_.type==="news"),b=l.filter(_=>_.type==="karmaClub"),N=l.filter(_=>_.type==="personal"&&_.userId===t);return o.jsx(cg.Provider,{value:{newsNotifications:C,karmaClubNotifications:b,personalNotifications:N,newsArticles:u,addAnnouncement:f,deleteNotification:p,sendPersonalNotification:g,sendBulkPersonalNotification:x,markAsRead:v},children:n})},bo=()=>{const n=T.useContext(cg);if(n===void 0)throw new Error("useNotifications must be used within a NotificationsProvider");return n},t2=T.createContext(void 0),n2=({children:n})=>{const[t,l]=T.useState(!1),[i,u]=T.useState("default"),[c,f]=T.useState(!1);T.useEffect(()=>{"serviceWorker"in navigator&&"PushManager"in window&&(l(!0),u(Notification.permission),navigator.serviceWorker.ready.then(x=>{x.pushManager.getSubscription().then(p=>{f(!!p)})}))},[]),T.useEffect(()=>{if(t){const x=()=>{navigator.serviceWorker.register("sw.js").then(p=>{console.log("Service Worker registered successfully with scope:",p.scope)}).catch(p=>{console.error("Service Worker registration failed:",p)})};return window.addEventListener("load",x),()=>window.removeEventListener("load",x)}},[t]);const g=async()=>{if(!t){alert("     .");return}if(Notification.permission==="denied"){alert("       .         .");return}const x=await Notification.requestPermission();if(u(x),x==="granted")try{const v=await(await navigator.serviceWorker.ready).pushManager.subscribe({userVisibleOnly:!0});localStorage.setItem("karma_push_subscription",JSON.stringify(v)),f(!0),alert("    !")}catch(p){console.error("Failed to subscribe the user: ",p),alert("   .")}else x==="denied"&&alert("     .")};return o.jsx(t2.Provider,{value:{isSupported:t,permission:i,isSubscribed:c,requestPermissionAndSubscribe:g},children:n})},s2=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}),l2=({className:n})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})}),a2=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),i2=()=>{const{isAuthenticated:n,userIdentifier:t,logout:l,karmaCoins:i,isAdmin:u}=xt(),{t:c}=Ve(),f=bt(),[g,x]=T.useState(!1),p=T.useRef(null),v=()=>{l(),x(!1),f("/")};return T.useEffect(()=>{const C=b=>{p.current&&!p.current.contains(b.target)&&x(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]),o.jsx("header",{className:"sticky top-0 bg-white/80 backdrop-blur-md z-30 shadow-sm",children:o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 h-[70px] flex justify-between items-center",children:[o.jsx(Qt,{to:"/",className:"text-2xl font-bold text-emerald-500",children:c("home.karma")}),o.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[o.jsx(Qt,{to:"/",className:({isActive:C})=>`font-semibold transition-colors ${C?"text-emerald-600":"text-gray-600 hover:text-emerald-500"}`,children:c("header.home")}),o.jsx(Qt,{to:"/campaigns",className:({isActive:C})=>`font-semibold transition-colors ${C?"text-emerald-600":"text-gray-600 hover:text-emerald-500"}`,children:c("header.campaigns")}),o.jsx(Qt,{to:"/karma-club",className:({isActive:C})=>`font-semibold transition-colors ${C?"text-emerald-600":"text-gray-600 hover:text-emerald-500"}`,children:c("header.karmaClub")}),u&&o.jsx(Qt,{to:"/admin",className:"font-semibold text-red-600 hover:text-red-700 transition-colors",children:c("header.adminPanel")})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(Qt,{to:"/create-options",className:"hidden sm:flex items-center gap-2 bg-amber-500 text-white font-bold py-2 px-4 rounded-full hover:bg-amber-600 transition-colors shadow-md",children:[o.jsx(a2,{}),o.jsx("span",{children:c("header.createCampaign")})]}),n?o.jsxs("div",{className:"relative",ref:p,children:[o.jsxs("button",{onClick:()=>x(!g),className:"flex items-center gap-2 p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors",children:[o.jsx("img",{src:`https://i.pravatar.cc/150?u=${t}`,alt:"user avatar",className:"w-8 h-8 rounded-full"}),o.jsxs("div",{className:"hidden sm:flex items-center gap-1 font-semibold text-yellow-700",children:[o.jsx(s2,{}),o.jsx("span",{children:i})]}),o.jsx(l2,{className:"w-5 h-5 text-gray-500 hidden sm:block"})]}),g&&o.jsxs("div",{className:"absolute left-0 mt-2 w-56 bg-white rounded-xl shadow-lg border z-40 py-2 animate-fadeInUp",children:[o.jsx("div",{className:"px-4 py-2 border-b",children:o.jsx("p",{className:"font-semibold text-gray-800 truncate",children:t})}),o.jsx(Qt,{to:"/profile",onClick:()=>x(!1),className:"block w-full text-right px-4 py-2 text-gray-700 hover:bg-gray-100",children:c("header.userProfile")}),o.jsx(Qt,{to:"/creator/login",onClick:()=>x(!1),className:"block w-full text-right px-4 py-2 text-gray-700 hover:bg-gray-100",children:" "}),u&&o.jsx(Qt,{to:"/admin",onClick:()=>x(!1),className:"block w-full text-right px-4 py-2 text-red-600 hover:bg-red-50",children:c("header.adminPanel")}),o.jsx("button",{onClick:v,className:"block w-full text-right px-4 py-2 text-gray-700 hover:bg-gray-100",children:c("header.logout")})]})]}):o.jsx(Qt,{to:"/login",className:"font-bold text-emerald-600 hover:text-emerald-700",children:c("header.login")})]})]})})},o2=({isActive:n})=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-6 w-6 transition-all ${n?"text-emerald-600":"text-gray-500"}`,fill:n?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}),n&&o.jsx("circle",{cx:"12",cy:"18",r:"2.5",fill:"currentColor",className:"text-emerald-600"})]}),r2=({isActive:n})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),u2=({isActive:n})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.293 2.293a1 1 0 010 1.414L10 16l-4-4 6.293-6.293a1 1 0 011.414 0z"})}),c2=({isActive:n})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),d2=({isActive:n})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 12h6m-7 8h12a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Ea=({to:n,label:t,icon:l})=>o.jsx(Qt,{to:n,end:!0,className:({isActive:i})=>`flex flex-col items-center justify-center space-y-1 transition-all w-full pt-2 pb-1 rounded-lg ${i?"text-emerald-600 bg-emerald-100/80":"text-gray-500 hover:text-emerald-500 hover:bg-gray-100"}`,children:({isActive:i})=>o.jsxs(o.Fragment,{children:[o.jsx(l,{isActive:i}),o.jsx("span",{className:`text-xs font-medium transition-all ${i?"font-bold":""}`,children:t})]})}),f2=()=>{const[n,t]=T.useState(!0),{t:l}=Ve(),i=T.useRef(0);return T.useEffect(()=>{const u=()=>{if(!(window.innerWidth<768)){t(!0);return}const f=window.scrollY;f>i.current&&f>100?t(!1):t(!0),i.current=f};return window.addEventListener("scroll",u,{passive:!0}),window.addEventListener("resize",u,{passive:!0}),()=>{window.removeEventListener("scroll",u),window.removeEventListener("resize",u)}},[]),o.jsxs("nav",{className:`fixed bottom-0 left-0 right-0 h-20 bg-white/95 backdrop-blur-sm shadow-[0_-2px_10px_rgba(0,0,0,0.05)] flex justify-around items-center z-50 rounded-t-2xl transition-transform duration-300 ease-in-out ${n?"translate-y-0":"translate-y-full"} p-2 gap-1`,children:[o.jsx(Ea,{to:"/",label:l("bottomNav.home"),icon:o2}),o.jsx(Ea,{to:"/campaigns",label:l("bottomNav.missions"),icon:r2}),o.jsx(Ea,{to:"/news",label:l("bottomNav.news"),icon:d2}),o.jsx(Ea,{to:"/karma-club",label:l("bottomNav.karmaClub"),icon:u2}),o.jsx(Ea,{to:"/profile",label:l("bottomNav.profile"),icon:c2})]})},Wt=()=>{const n=T.useContext(ig);if(n===void 0)throw new Error("useCampaigns must be used within a CampaignProvider");return n},m2=({progress:n,targetAmount:t,daysLeft:l})=>{const{t:i,formatNumber:u}=Ve();return o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"flex justify-between items-center mb-1 text-base font-medium",children:[o.jsx("span",{className:"text-emerald-600",children:i("campaignProgressBar.progress")}),o.jsxs("span",{className:"text-gray-500",children:["%",n]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:o.jsx("div",{className:"bg-emerald-500 h-2.5 rounded-full transition-all duration-500",style:{width:`${n}%`}})}),o.jsxs("div",{className:"flex justify-between items-center mt-3 text-center",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-base text-gray-500",children:i("campaignProgressBar.target")}),o.jsxs("p",{className:"font-bold text-gray-800 text-lg",children:[u(t)," ",o.jsx("span",{className:"text-sm",children:i("campaignProgressBar.toman")})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-base text-gray-500",children:i("campaignProgressBar.daysLeft")}),o.jsx("p",{className:"font-bold text-gray-800 text-lg",children:l})]})]})]})},h2=n=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...n,children:[o.jsx("path",{d:"M10 3.5a1.5 1.5 0 013 0V4a1 1 0 011 1v3a1 1 0 01-1 1h-1v1a1 1 0 11-2 0v-1H9a1 1 0 01-1-1V5a1 1 0 011-1v-.5z"}),o.jsx("path",{d:"M5.506 3.033A1.5 1.5 0 016.75 2.25a1.5 1.5 0 011.244.783V4.5a.5.5 0 01-1 0V3.313a.5.5 0 00-.75-.433L6 3.313V4.5a.5.5 0 01-1 0V3.033zM15.002 11.5a5.002 5.002 0 01-10 0 5.002 5.002 0 0110 0z"})]}),p2=n=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...n,children:o.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 00-1 1v1a1 1 0 002 0V3a1 1 0 00-1-1zM4 4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1.172a2 2 0 01-1.414-.586l-.828-.828A2 2 0 0011.172 2H8.828a2 2 0 00-1.414.586l-.828-.828A2 2 0 015.172 4H4zm10 8a1 1 0 100-2H6a1 1 0 100 2h8z",clipRule:"evenodd"})}),g2=n=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...n,children:o.jsx("path",{d:"M10.394 2.08a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})}),x2=n=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...n,children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM4.332 8.027a6.012 6.012 0 011.912-2.706C6.512 5.73 6.974 6 7.5 6A1.5 1.5 0 019 7.5V8a2 2 0 004 0 2 2 0 011.52-1.937c.563-.149 1.156.029 1.62.46l.06.06a6.01 6.01 0 01-7.72 8.827 6.01 6.01 0 01-2.06-1.551 6.012 6.012 0 01-1.6-4.573z",clipRule:"evenodd"})}),y2=n=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...n,children:o.jsx("path",{d:"M11.933 4.243a2 2 0 012.134.305l2.646 2.117a2 2 0 01.305 2.134l-.883 1.766a2 2 0 01-1.922 1.142h-1.32a2 2 0 00-1.922 1.142l-.883 1.766a2 2 0 01-2.134.305l-2.646-2.117a2 2 0 01-.305-2.134l.883-1.766A2 2 0 018.68 8.007h1.32c.76 0 1.448-.44 1.81-1.142l.883-1.766zM13 2.25a2.75 2.75 0 00-2.348 1.44l-.883 1.766a.25.25 0 01-.226.144H8.226a.25.25 0 01-.226-.144l-.883-1.766A2.75 2.75 0 004.768 2.25H4.5A2.25 2.25 0 002.25 4.5v11A2.25 2.25 0 004.5 17.75h11A2.25 2.25 0 0017.75 15.5V4.5A2.25 2.25 0 0015.5 2.25h-.268z",clipRule:"evenodd"})}),v2=n=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...n,children:o.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),C2=n=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...n,children:o.jsx("path",{d:"M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 11a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1v-1z"})}),dg=n=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...n,children:o.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 11a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),b2={food:h2,health:p2,education:g2,environment:x2,animals:y2,children:v2,entrepreneurship:C2,other:dg},Rc=(n,t="h-5 w-5")=>{const l=b2[n]||dg;return o.jsx(l,{className:t})},fg=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-blue-500",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm-1.4,13.7L6.45,11.55l1.41-1.41L10.6,13.47l5.25-5.25,1.41,1.41Z"})}),S2=({campaign:n})=>{const{t}=Ve(),l=t(`categories_list.${n.category}`);return o.jsxs("div",{className:"group bg-white rounded-xl shadow-md border border-gray-200/80 overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-1 flex flex-col h-full",children:[o.jsx("img",{className:"w-full h-48 object-cover",src:n.imageUrl,alt:n.mission}),o.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[o.jsxs("span",{className:"inline-flex items-center bg-emerald-100 text-emerald-800 text-xs px-2 py-1 rounded-full uppercase font-semibold tracking-wide",children:[o.jsx("span",{className:"me-1",children:Rc(n.category,"h-4 w-4")}),l]}),o.jsx("h3",{className:"mt-3 font-bold text-xl leading-tight text-gray-800 truncate group-hover:text-emerald-600 transition-colors",children:n.mission}),o.jsxs("div",{className:"mt-2 text-gray-700 flex items-center space-x-3 text-lg",children:[n.brandLogoUrl&&o.jsx("img",{src:n.brandLogoUrl,onError:i=>i.currentTarget.style.display="none",alt:`${n.brandName} logo`,className:"w-12 h-12 rounded-full object-contain"}),o.jsxs("span",{children:[t("campaignCard.by")," ",o.jsx("span",{className:"font-semibold text-gray-800",children:n.brandName})]}),o.jsx(fg,{})]}),o.jsxs("div",{className:"mt-4 flex items-center text-sm text-gray-600",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ms-1 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),o.jsx("span",{children:n.location})]}),o.jsx("div",{className:"mt-6",children:o.jsx(m2,{progress:n.progress,targetAmount:n.targetAmount,daysLeft:n.daysLeft})}),o.jsx("div",{className:"mt-auto pt-6",children:o.jsx(ct,{to:`/campaigns/${n.id}`,className:"block w-full text-center bg-emerald-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-emerald-600 transition-colors shadow-md hover:shadow-lg",children:t("campaignCard.viewAndJoin")})})]})]})},N2=({campaign:n})=>{const{t,formatNumber:l}=Ve();return o.jsxs(ct,{to:`/campaigns/${n.id}`,className:"bg-white rounded-xl shadow-md overflow-hidden flex-shrink-0 w-72 md:w-80 border border-gray-200 hover:shadow-xl hover:-translate-y-1 transition-all",children:[o.jsx("img",{className:"w-full h-36 object-cover",src:n.imageUrl,alt:n.mission}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center space-x-3 text-lg font-semibold text-gray-600",children:[n.brandLogoUrl&&o.jsx("img",{src:n.brandLogoUrl,onError:i=>i.currentTarget.style.display="none",alt:`${n.brandName} logo`,className:"w-10 h-10 rounded-full object-contain"}),o.jsx("span",{children:n.brandName}),o.jsx(fg,{})]}),o.jsx("h4",{className:"mt-2 font-bold text-lg text-gray-900 truncate",children:n.mission}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:n.location}),o.jsxs("div",{className:"mt-4",children:[o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:o.jsx("div",{className:"bg-emerald-500 h-1.5 rounded-full",style:{width:`${n.progress}%`}})}),o.jsxs("div",{className:"flex justify-between items-center mt-2 text-xs text-gray-600",children:[o.jsx("span",{children:t("campaignCard.completed",{percent:n.progress})}),o.jsxs("span",{children:[t("campaignCard.totalAmount")," ",o.jsxs("span",{className:"font-bold",children:[l(n.targetAmount/1e6)," ",t("campaignCard.million")," ",t("campaignCard.toman")]})]})]})]}),o.jsx("div",{className:"mt-4",children:o.jsx("div",{className:"w-full bg-emerald-500 text-white font-bold py-2.5 px-4 rounded-lg hover:bg-emerald-600 transition-colors text-center text-base",children:t("campaignCard.missionReport")})})]})]})},ja=({campaign:n,variant:t="default"})=>t==="suggested"?o.jsx(N2,{campaign:n}):o.jsx(S2,{campaign:n}),w2=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),T2=()=>{const n=new Date,l=(n.getDay()+1)%7,i=new Date(n);return i.setDate(n.getDate()-l),i.setHours(0,0,0,0),i},E2=(n,t)=>n.filter(l=>l.type==="earn"&&new Date(l.date)>=t).reduce((l,i)=>l+i.amount,0),_2=()=>{const{campaigns:n}=Wt(),{categories:t,isLeaguesEnabled:l}=It(),{contributionValue:i,transactions:u}=xt(),{leagues:c}=It(),{t:f,formatNumber:g}=Ve(),[x,p]=T.useState(""),v=bt(),C=n.filter(M=>M.status==="active"),b=C.length>1?C[1]:C.length>0?C[0]:null,N=C.slice(0,4),_=M=>{M.preventDefault(),x.trim()&&v(`/campaigns?search=${encodeURIComponent(x.trim())}`)},{currentUserLeague:E,currentUserWeeklyCoins:A,progressToNextLeague:j}=T.useMemo(()=>{if(!l)return{currentUserLeague:void 0,currentUserWeeklyCoins:0,progressToNextLeague:0};const M=T2(),D=E2(u,M);let B,P=0;for(let Q=0;Q<c.length;Q++)if(D>=c[Q].minCoins&&D<=c[Q].maxCoins){B=c[Q];const q=c[Q+1];if(q){const $=q.minCoins-B.minCoins,V=D-B.minCoins;P=$>0?V/$*100:100}else P=100;break}return{currentUserLeague:B,currentUserWeeklyCoins:D,progressToNextLeague:P}},[u,c,l]);return o.jsx("div",{className:"bg-gray-50",children:o.jsxs("main",{className:"container mx-auto px-4 py-8 space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-green-600 text-white p-6 rounded-2xl shadow-lg flex flex-col justify-center items-center text-center",children:[o.jsx("p",{className:"text-sm opacity-80 font-medium",children:f("dashboard.contributionValue")}),o.jsxs("p",{className:"text-3xl font-bold mt-2",children:[g(Math.round(i))," ",o.jsx("span",{className:"text-lg font-normal",children:f("dashboard.toman")})]})]}),o.jsxs(ct,{to:"/donation-balance",className:"bg-white p-6 rounded-2xl shadow-md flex flex-col justify-center items-center hover:bg-gray-100 transition-colors border border-gray-200/80 text-center",children:[o.jsx("p",{className:"text-sm text-gray-500",children:f("dashboard.viewTransactions")}),o.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:f("dashboard.history")})]})]}),o.jsx("form",{onSubmit:_,children:o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:f("dashboard.searchPlaceholder"),value:x,onChange:M=>p(M.target.value),className:"w-full bg-white rounded-full py-3 ps-12 pe-4 shadow-md border border-gray-200 focus:outline-none focus:ring-2 focus:ring-emerald-400"}),o.jsx("button",{type:"submit",className:"absolute right-3 top-1/2 -translate-y-1/2 p-1","aria-label":f("dashboard.searchLabel"),children:o.jsx(w2,{})})]})}),l&&E&&o.jsx(ct,{to:"/leagues",className:"block bg-white p-6 rounded-2xl shadow-md hover:shadow-lg transition-shadow border border-gray-200/80",children:o.jsxs("section",{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:f("dashboard.weeklyLeague")}),o.jsx("span",{className:"text-sm font-medium text-emerald-600 hover:text-emerald-700",children:f("dashboard.viewLeagues")})]}),o.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row justify-between items-center gap-4 bg-gray-50 p-4 rounded-xl",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:f("dashboard.currentLeague")}),o.jsxs("p",{className:`text-2xl font-extrabold flex items-center gap-2 ${E.textColor}`,children:[o.jsx("span",{className:`text-2xl ${E.iconColor}`,children:E.icon}),E.name]})]}),o.jsxs("div",{className:"flex items-center text-lg font-bold",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}),o.jsx("span",{className:"mr-1",children:f("dashboard.weeklyCoins",{count:A})})]})]}),E&&E.maxCoins!==1/0&&o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"flex justify-between text-xs font-medium text-gray-600 mb-1",children:[o.jsx("span",{children:f("dashboard.progressToNext")}),o.jsxs("span",{children:[Math.round(j),"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:o.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 h-2.5 rounded-full",style:{width:`${j}%`}})})]})]})}),b&&o.jsxs("section",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:f("dashboard.featuredMission")}),o.jsx(ja,{campaign:b})]}),o.jsxs("section",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:f("dashboard.categories")}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:t.slice(0,4).map(M=>o.jsxs(ct,{to:`/campaigns?category=${encodeURIComponent(M.name)}`,className:"bg-white p-4 rounded-xl shadow-md hover:shadow-lg transition-shadow border border-gray-200/80 text-center flex flex-col items-center justify-center space-y-2",children:[o.jsx("span",{className:"text-emerald-500",children:Rc(M.name,"h-8 w-8")}),o.jsx("span",{className:"font-semibold text-gray-700",children:f(`categories_list.${M.name}`)})]},M.name))})]}),N.length>0&&o.jsxs("section",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:f("dashboard.suggestedMissions")}),o.jsx(ct,{to:"/campaigns",className:"text-sm font-medium text-emerald-600 hover:text-emerald-700",children:f("dashboard.viewAll")})]}),o.jsx("div",{className:"flex overflow-x-auto space-x-4 pb-4",children:N.map(M=>o.jsx(ja,{campaign:M,variant:"suggested"},M.id))})]})]})})},A2=()=>{const{t:n}=Ve();return o.jsxs("div",{className:"relative bg-gray-50 flex flex-col items-center justify-center text-center py-20 px-4 min-h-[calc(100vh-70px)] overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-10",style:{backgroundImage:"url(https://images.unsplash.com/photo-1532629345422-7515f3d16bb6?q=80&w=1200&auto=format&fit=crop)"}}),o.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto",children:[o.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-gray-900 leading-tight animate-fadeInUp",style:{animationDelay:"100ms"},children:[n("home.welcome",{platformName:""}),o.jsx("span",{className:"text-emerald-500",children:n("home.karma")})]}),o.jsx("p",{className:"mt-6 text-lg md:text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed animate-fadeInUp",style:{animationDelay:"300ms"},children:n("home.subtitle")}),o.jsxs("div",{className:"mt-12 flex flex-col sm:flex-row items-center justify-center gap-6 animate-fadeInUp",style:{animationDelay:"500ms"},children:[o.jsx(ct,{to:"/create-options",className:"w-full sm:w-auto bg-amber-500 hover:bg-amber-600 text-white font-bold py-4 px-8 rounded-full text-lg transition-transform transform hover:scale-105 shadow-xl",children:n("home.createCampaign")}),o.jsx(ct,{to:"/campaigns",className:"w-full sm:w-auto bg-white hover:bg-gray-50 text-gray-700 font-bold py-4 px-8 rounded-full text-lg transition-transform transform hover:scale-105 shadow-lg border-2 border-gray-300",children:n("home.joinCampaign")})]})]})]})},M2=()=>{const{isAuthenticated:n}=xt();return n?o.jsx(_2,{}):o.jsx(A2,{})},Ic=()=>{const n=T.useContext(ug);if(n===void 0)throw new Error("useApiConfig must be used within an ApiConfigProvider");return n};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let R2,I2;function j2(){return{geminiUrl:R2,vertexUrl:I2}}function k2(n,t,l,i){var u,c;if(!(n!=null&&n.baseUrl)){const f=j2();return t?(u=f.vertexUrl)!==null&&u!==void 0?u:l:(c=f.geminiUrl)!==null&&c!==void 0?c:i}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ln{}function ae(n,t){const l=/\{([^}]+)\}/g;return n.replace(l,(i,u)=>{if(Object.prototype.hasOwnProperty.call(t,u)){const c=t[u];return c!=null?String(c):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function m(n,t,l){for(let c=0;c<t.length-1;c++){const f=t[c];if(f.endsWith("[]")){const g=f.slice(0,-2);if(!(g in n))if(Array.isArray(l))n[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(n[g])){const x=n[g];if(Array.isArray(l))for(let p=0;p<x.length;p++){const v=x[p];m(v,t.slice(c+1),l[p])}else for(const p of x)m(p,t.slice(c+1),l)}return}else if(f.endsWith("[0]")){const g=f.slice(0,-3);g in n||(n[g]=[{}]);const x=n[g];m(x[0],t.slice(c+1),l);return}(!n[f]||typeof n[f]!="object")&&(n[f]={}),n=n[f]}const i=t[t.length-1],u=n[i];if(u!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===u)return;if(typeof u=="object"&&typeof l=="object"&&u!==null&&l!==null)Object.assign(u,l);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(n,l):n[i]=l}function d(n,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return n;for(let i=0;i<t.length;i++){if(typeof n!="object"||n===null)return l;const u=t[i];if(u.endsWith("[]")){const c=u.slice(0,-2);if(c in n){const f=n[c];return Array.isArray(f)?f.map(g=>d(g,t.slice(i+1),l)):l}else return l}else n=n[u]}return n}catch(i){if(i instanceof TypeError)return l;throw i}}function D2(n,t){for(const[l,i]of Object.entries(t)){const u=l.split("."),c=i.split("."),f=new Set;let g=-1;for(let x=0;x<u.length;x++)if(u[x]==="*"){g=x;break}if(g!==-1&&c.length>g)for(let x=g;x<c.length;x++){const p=c[x];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&f.add(p)}uc(n,u,c,0,f)}}function uc(n,t,l,i,u){if(i>=t.length||typeof n!="object"||n===null)return;const c=t[i];if(c.endsWith("[]")){const f=c.slice(0,-2),g=n;if(f in g&&Array.isArray(g[f]))for(const x of g[f])uc(x,t,l,i+1,u)}else if(c==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const f=n,g=Object.keys(f).filter(p=>!p.startsWith("_")&&!u.has(p)),x={};for(const p of g)x[p]=f[p];for(const[p,v]of Object.entries(x)){const C=[];for(const b of l.slice(i))b==="*"?C.push(p):C.push(b);m(f,C,v)}for(const p of g)delete f[p]}}else{const f=n;c in f&&uc(f[c],t,l,i+1,u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jc(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function U2(n){const t={},l=d(n,["operationName"]);l!=null&&m(t,["operationName"],l);const i=d(n,["resourceName"]);return i!=null&&m(t,["_url","resourceName"],i),t}function L2(n){const t={},l=d(n,["name"]);l!=null&&m(t,["name"],l);const i=d(n,["metadata"]);i!=null&&m(t,["metadata"],i);const u=d(n,["done"]);u!=null&&m(t,["done"],u);const c=d(n,["error"]);c!=null&&m(t,["error"],c);const f=d(n,["response","generateVideoResponse"]);return f!=null&&m(t,["response"],q2(f)),t}function P2(n){const t={},l=d(n,["name"]);l!=null&&m(t,["name"],l);const i=d(n,["metadata"]);i!=null&&m(t,["metadata"],i);const u=d(n,["done"]);u!=null&&m(t,["done"],u);const c=d(n,["error"]);c!=null&&m(t,["error"],c);const f=d(n,["response"]);return f!=null&&m(t,["response"],B2(f)),t}function q2(n){const t={},l=d(n,["generatedSamples"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>H2(f))),m(t,["generatedVideos"],c)}const i=d(n,["raiMediaFilteredCount"]);i!=null&&m(t,["raiMediaFilteredCount"],i);const u=d(n,["raiMediaFilteredReasons"]);return u!=null&&m(t,["raiMediaFilteredReasons"],u),t}function B2(n){const t={},l=d(n,["videos"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>z2(f))),m(t,["generatedVideos"],c)}const i=d(n,["raiMediaFilteredCount"]);i!=null&&m(t,["raiMediaFilteredCount"],i);const u=d(n,["raiMediaFilteredReasons"]);return u!=null&&m(t,["raiMediaFilteredReasons"],u),t}function H2(n){const t={},l=d(n,["video"]);return l!=null&&m(t,["video"],Y2(l)),t}function z2(n){const t={},l=d(n,["_self"]);return l!=null&&m(t,["video"],$2(l)),t}function V2(n){const t={},l=d(n,["operationName"]);return l!=null&&m(t,["_url","operationName"],l),t}function G2(n){const t={},l=d(n,["operationName"]);return l!=null&&m(t,["_url","operationName"],l),t}function O2(n){const t={},l=d(n,["name"]);l!=null&&m(t,["name"],l);const i=d(n,["metadata"]);i!=null&&m(t,["metadata"],i);const u=d(n,["done"]);u!=null&&m(t,["done"],u);const c=d(n,["error"]);c!=null&&m(t,["error"],c);const f=d(n,["response"]);return f!=null&&m(t,["response"],F2(f)),t}function F2(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["parent"]);i!=null&&m(t,["parent"],i);const u=d(n,["documentName"]);return u!=null&&m(t,["documentName"],u),t}function mg(n){const t={},l=d(n,["name"]);l!=null&&m(t,["name"],l);const i=d(n,["metadata"]);i!=null&&m(t,["metadata"],i);const u=d(n,["done"]);u!=null&&m(t,["done"],u);const c=d(n,["error"]);c!=null&&m(t,["error"],c);const f=d(n,["response"]);return f!=null&&m(t,["response"],J2(f)),t}function J2(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["parent"]);i!=null&&m(t,["parent"],i);const u=d(n,["documentName"]);return u!=null&&m(t,["documentName"],u),t}function Y2(n){const t={},l=d(n,["uri"]);l!=null&&m(t,["uri"],l);const i=d(n,["encodedVideo"]);i!=null&&m(t,["videoBytes"],jc(i));const u=d(n,["encoding"]);return u!=null&&m(t,["mimeType"],u),t}function $2(n){const t={},l=d(n,["gcsUri"]);l!=null&&m(t,["uri"],l);const i=d(n,["bytesBase64Encoded"]);i!=null&&m(t,["videoBytes"],jc(i));const u=d(n,["mimeType"]);return u!=null&&m(t,["mimeType"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var tp;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(tp||(tp={}));var np;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(np||(np={}));var sp;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(sp||(sp={}));var mn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(mn||(mn={}));var lp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(lp||(lp={}));var ap;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ap||(ap={}));var ip;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(ip||(ip={}));var op;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(op||(op={}));var rp;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(rp||(rp={}));var up;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(up||(up={}));var cp;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(cp||(cp={}));var dp;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(dp||(dp={}));var fp;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(fp||(fp={}));var mp;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(mp||(mp={}));var hp;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(hp||(hp={}));var pp;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(pp||(pp={}));var gp;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(gp||(gp={}));var xp;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(xp||(xp={}));var po;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(po||(po={}));var yp;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(yp||(yp={}));var vp;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(vp||(vp={}));var Cp;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Cp||(Cp={}));var cc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(cc||(cc={}));var bp;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(bp||(bp={}));var Sp;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Sp||(Sp={}));var Np;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Np||(Np={}));var wp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(wp||(wp={}));var Tp;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Tp||(Tp={}));var Ep;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Ep||(Ep={}));var _p;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(_p||(_p={}));var Ap;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Ap||(Ap={}));var Mp;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Mp||(Mp={}));var Rp;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Rp||(Rp={}));var Ip;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ip||(Ip={}));var jp;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(jp||(jp={}));var kp;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(kp||(kp={}));var Dp;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Dp||(Dp={}));var Up;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Up||(Up={}));var Lp;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Lp||(Lp={}));var Pp;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Pp||(Pp={}));var qp;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(qp||(qp={}));var Bp;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(Bp||(Bp={}));var Hp;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Hp||(Hp={}));var zp;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(zp||(zp={}));var Vp;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Vp||(Vp={}));var Gp;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Gp||(Gp={}));var Op;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Op||(Op={}));var Fp;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Fp||(Fp={}));var Jp;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Jp||(Jp={}));var Yp;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Yp||(Yp={}));var $p;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})($p||($p={}));var Kp;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Kp||(Kp={}));var yl;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(yl||(yl={}));class dc{constructor(t){const l={};for(const i of t.headers.entries())l[i[0]]=i[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class _a{get text(){var t,l,i,u,c,f,g,x;if(((u=(i=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||i===void 0?void 0:i.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const C=[];for(const b of(x=(g=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)!==null&&x!==void 0?x:[]){for(const[N,_]of Object.entries(b))N!=="text"&&N!=="thought"&&N!=="thoughtSignature"&&(_!==null||_!==void 0)&&C.push(N);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;v=!0,p+=b.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var t,l,i,u,c,f,g,x;if(((u=(i=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||i===void 0?void 0:i.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const C of(x=(g=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)!==null&&x!==void 0?x:[]){for(const[b,N]of Object.entries(C))b!=="inlineData"&&(N!==null||N!==void 0)&&v.push(b);C.inlineData&&typeof C.inlineData.data=="string"&&(p+=atob(C.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var t,l,i,u,c,f,g,x;if(((u=(i=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||i===void 0?void 0:i.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(x=(g=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)===null||x===void 0?void 0:x.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var t,l,i,u,c,f,g,x,p;if(((u=(i=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||i===void 0?void 0:i.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(x=(g=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)===null||x===void 0?void 0:x.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var t,l,i,u,c,f,g,x,p;if(((u=(i=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||i===void 0?void 0:i.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(x=(g=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)===null||x===void 0?void 0:x.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class Qp{}class Xp{}class K2{}class Q2{}class X2{}class Z2{}class Zp{}class Wp{}class e0{}class W2{}class go{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const i=new go;let u;const c=t;return l?u=P2(c):u=L2(c),Object.assign(i,u),i}}class t0{}class n0{}class s0{}class eC{}class tC{}class nC{}class kc{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const i=new kc,c=O2(t);return Object.assign(i,c),i}}class sC{}class lC{}class aC{}class l0{}class iC{get text(){var t,l,i;let u="",c=!1;const f=[];for(const g of(i=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&i!==void 0?i:[]){for(const[x,p]of Object.entries(g))x!=="text"&&x!=="thought"&&p!==null&&f.push(x);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;c=!0,u+=g.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var t,l,i;let u="";const c=[];for(const f of(i=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&i!==void 0?i:[]){for(const[g,x]of Object.entries(f))g!=="inlineData"&&x!==null&&c.push(g);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class oC{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Dc{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const i=new Dc,c=mg(t);return Object.assign(i,c),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ue(n,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function hg(n,t){const l=Ue(n,t);return l?l.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}`:l.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${l}`:l:""}function pg(n){return Array.isArray(n)?n.map(t=>xo(t)):[xo(n)]}function xo(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function gg(n){const t=xo(n);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function xg(n){const t=xo(n);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function a0(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function yg(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(t=>a0(t)):[a0(n)]}function fc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function i0(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function o0(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Ct(n){if(n==null)throw new Error("ContentUnion is required");return fc(n)?n:{role:"user",parts:yg(n)}}function Uc(n,t){if(!t)return[];if(n.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const i=Ct(l);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){const l=Ct(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>Ct(l)):[Ct(t)]}function Xt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(i0(n)||o0(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ct(n)]}const t=[],l=[],i=fc(n[0]);for(const u of n){const c=fc(u);if(c!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)t.push(u);else{if(i0(u)||o0(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(u)}}return i||t.push({role:"user",parts:yg(l)}),t}function rC(n,t){n.includes("null")&&(t.nullable=!0);const l=n.filter(i=>i!=="null");if(l.length===1)t.type=Object.values(mn).includes(l[0].toUpperCase())?l[0].toUpperCase():mn.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const i of l)t.anyOf.push({type:Object.values(mn).includes(i.toUpperCase())?i.toUpperCase():mn.TYPE_UNSPECIFIED})}}function vl(n){const t={},l=["items"],i=["anyOf"],u=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=n.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(t.nullable=!0,n=c[1]):c[1].type==="null"&&(t.nullable=!0,n=c[0])),n.type instanceof Array&&rC(n.type,t);for(const[f,g]of Object.entries(n))if(g!=null)if(f=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(mn).includes(g.toUpperCase())?g.toUpperCase():mn.TYPE_UNSPECIFIED}else if(l.includes(f))t[f]=vl(g);else if(i.includes(f)){const x=[];for(const p of g){if(p.type=="null"){t.nullable=!0;continue}x.push(vl(p))}t[f]=x}else if(u.includes(f)){const x={};for(const[p,v]of Object.entries(g))x[p]=vl(v);t[f]=x}else{if(f==="additionalProperties")continue;t[f]=g}return t}function Lc(n){return vl(n)}function Pc(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function qc(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function wl(n){if(n.functionDeclarations)for(const t of n.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=vl(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=vl(t.response));return n}function Tl(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of n)t.push(l);return t}function uC(n,t,l,i=1){const u=!t.startsWith(`${l}/`)&&t.split("/").length===i;return n.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${n.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:u?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}/${t}`:t:u?`${l}/${t}`:t}function Pn(n,t){if(typeof t!="string")throw new Error("name must be a string");return uC(n,t,"cachedContents")}function vg(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function rs(n){return jc(n)}function cC(n){return n!=null&&typeof n=="object"&&"name"in n}function dC(n){return n!=null&&typeof n=="object"&&"video"in n}function fC(n){return n!=null&&typeof n=="object"&&"uri"in n}function Cg(n){var t;let l;if(cC(n)&&(l=n.name),!(fC(n)&&(l=n.uri,l===void 0))&&!(dC(n)&&(l=(t=n.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof n=="string"&&(l=n),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const u=l.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${l}`);l=u[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function bg(n,t){let l;return n.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function Sg(n){for(const t of["models","tunedModels","publisherModels"])if(mC(n,t))return n[t];return[]}function mC(n,t){return n!==null&&typeof n=="object"&&t in n}function hC(n,t={}){const l=n,i={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(i.responseJsonSchema=l.outputSchema),t.behavior&&(i.behavior=t.behavior),{functionDeclarations:[i]}}function pC(n,t={}){const l=[],i=new Set;for(const u of n){const c=u.name;if(i.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);i.add(c);const f=hC(u,t);f.functionDeclarations&&l.push(...f.functionDeclarations)}return{functionDeclarations:l}}function Ng(n,t){let l;if(typeof t=="string")if(n.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const i=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,u=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(n.isVertexAI()){if(u>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||u!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function gC(n){if(typeof n!="string")return n;const t=n;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function wg(n){if(typeof n!="object"||n===null)return{};const t=n,l=t.inlinedResponses;if(typeof l!="object"||l===null)return n;const u=l.inlinedResponses;if(!Array.isArray(u)||u.length===0)return n;let c=!1;for(const f of u){if(typeof f!="object"||f===null)continue;const x=f.response;if(typeof x!="object"||x===null)continue;if(x.embedding!==void 0){c=!0;break}}return c&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),n}function El(n,t){const l=t;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function Tg(n){const t=n;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xC(n){const t={},l=d(n,["responsesFile"]);l!=null&&m(t,["fileName"],l);const i=d(n,["inlinedResponses","inlinedResponses"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>$C(f))),m(t,["inlinedResponses"],c)}const u=d(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>f)),m(t,["inlinedEmbedContentResponses"],c)}return t}function yC(n){const t={},l=d(n,["predictionsFormat"]);l!=null&&m(t,["format"],l);const i=d(n,["gcsDestination","outputUriPrefix"]);i!=null&&m(t,["gcsUri"],i);const u=d(n,["bigqueryDestination","outputUri"]);return u!=null&&m(t,["bigqueryUri"],u),t}function vC(n){const t={},l=d(n,["format"]);l!=null&&m(t,["predictionsFormat"],l);const i=d(n,["gcsUri"]);i!=null&&m(t,["gcsDestination","outputUriPrefix"],i);const u=d(n,["bigqueryUri"]);if(u!=null&&m(t,["bigqueryDestination","outputUri"],u),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function fo(n){const t={},l=d(n,["name"]);l!=null&&m(t,["name"],l);const i=d(n,["metadata","displayName"]);i!=null&&m(t,["displayName"],i);const u=d(n,["metadata","state"]);u!=null&&m(t,["state"],Tg(u));const c=d(n,["metadata","createTime"]);c!=null&&m(t,["createTime"],c);const f=d(n,["metadata","endTime"]);f!=null&&m(t,["endTime"],f);const g=d(n,["metadata","updateTime"]);g!=null&&m(t,["updateTime"],g);const x=d(n,["metadata","model"]);x!=null&&m(t,["model"],x);const p=d(n,["metadata","output"]);return p!=null&&m(t,["dest"],xC(wg(p))),t}function mc(n){const t={},l=d(n,["name"]);l!=null&&m(t,["name"],l);const i=d(n,["displayName"]);i!=null&&m(t,["displayName"],i);const u=d(n,["state"]);u!=null&&m(t,["state"],Tg(u));const c=d(n,["error"]);c!=null&&m(t,["error"],c);const f=d(n,["createTime"]);f!=null&&m(t,["createTime"],f);const g=d(n,["startTime"]);g!=null&&m(t,["startTime"],g);const x=d(n,["endTime"]);x!=null&&m(t,["endTime"],x);const p=d(n,["updateTime"]);p!=null&&m(t,["updateTime"],p);const v=d(n,["model"]);v!=null&&m(t,["model"],v);const C=d(n,["inputConfig"]);C!=null&&m(t,["src"],CC(C));const b=d(n,["outputConfig"]);b!=null&&m(t,["dest"],yC(wg(b)));const N=d(n,["completionStats"]);return N!=null&&m(t,["completionStats"],N),t}function CC(n){const t={},l=d(n,["instancesFormat"]);l!=null&&m(t,["format"],l);const i=d(n,["gcsSource","uris"]);i!=null&&m(t,["gcsUri"],i);const u=d(n,["bigquerySource","inputUri"]);return u!=null&&m(t,["bigqueryUri"],u),t}function bC(n,t){const l={};if(d(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=d(t,["fileName"]);i!=null&&m(l,["fileName"],i);const u=d(t,["inlinedRequests"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>YC(n,f))),m(l,["requests","requests"],c)}return l}function SC(n){const t={},l=d(n,["format"]);l!=null&&m(t,["instancesFormat"],l);const i=d(n,["gcsUri"]);i!=null&&m(t,["gcsSource","uris"],i);const u=d(n,["bigqueryUri"]);if(u!=null&&m(t,["bigquerySource","inputUri"],u),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function NC(n){const t={},l=d(n,["data"]);if(l!=null&&m(t,["data"],l),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function wC(n,t){const l={},i=d(t,["name"]);return i!=null&&m(l,["_url","name"],El(n,i)),l}function TC(n,t){const l={},i=d(t,["name"]);return i!=null&&m(l,["_url","name"],El(n,i)),l}function EC(n){const t={},l=d(n,["content"]);l!=null&&m(t,["content"],l);const i=d(n,["citationMetadata"]);i!=null&&m(t,["citationMetadata"],_C(i));const u=d(n,["tokenCount"]);u!=null&&m(t,["tokenCount"],u);const c=d(n,["finishReason"]);c!=null&&m(t,["finishReason"],c);const f=d(n,["avgLogprobs"]);f!=null&&m(t,["avgLogprobs"],f);const g=d(n,["groundingMetadata"]);g!=null&&m(t,["groundingMetadata"],g);const x=d(n,["index"]);x!=null&&m(t,["index"],x);const p=d(n,["logprobsResult"]);p!=null&&m(t,["logprobsResult"],p);const v=d(n,["safetyRatings"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(N=>N)),m(t,["safetyRatings"],b)}const C=d(n,["urlContextMetadata"]);return C!=null&&m(t,["urlContextMetadata"],C),t}function _C(n){const t={},l=d(n,["citationSources"]);if(l!=null){let i=l;Array.isArray(i)&&(i=i.map(u=>u)),m(t,["citations"],i)}return t}function Eg(n){const t={},l=d(n,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>tb(c))),m(t,["parts"],u)}const i=d(n,["role"]);return i!=null&&m(t,["role"],i),t}function AC(n,t){const l={},i=d(n,["displayName"]);if(t!==void 0&&i!=null&&m(t,["batch","displayName"],i),d(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function MC(n,t){const l={},i=d(n,["displayName"]);t!==void 0&&i!=null&&m(t,["displayName"],i);const u=d(n,["dest"]);return t!==void 0&&u!=null&&m(t,["outputConfig"],vC(gC(u))),l}function r0(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["_url","model"],Ue(n,i));const u=d(t,["src"]);u!=null&&m(l,["batch","inputConfig"],bC(n,Ng(n,u)));const c=d(t,["config"]);return c!=null&&AC(c,l),l}function RC(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["model"],Ue(n,i));const u=d(t,["src"]);u!=null&&m(l,["inputConfig"],SC(Ng(n,u)));const c=d(t,["config"]);return c!=null&&MC(c,l),l}function IC(n,t){const l={},i=d(n,["displayName"]);return t!==void 0&&i!=null&&m(t,["batch","displayName"],i),l}function jC(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["_url","model"],Ue(n,i));const u=d(t,["src"]);u!=null&&m(l,["batch","inputConfig"],BC(n,u));const c=d(t,["config"]);return c!=null&&IC(c,l),l}function kC(n,t){const l={},i=d(t,["name"]);return i!=null&&m(l,["_url","name"],El(n,i)),l}function DC(n,t){const l={},i=d(t,["name"]);return i!=null&&m(l,["_url","name"],El(n,i)),l}function UC(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["name"]);i!=null&&m(t,["name"],i);const u=d(n,["done"]);u!=null&&m(t,["done"],u);const c=d(n,["error"]);return c!=null&&m(t,["error"],c),t}function LC(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["name"]);i!=null&&m(t,["name"],i);const u=d(n,["done"]);u!=null&&m(t,["done"],u);const c=d(n,["error"]);return c!=null&&m(t,["error"],c),t}function PC(n,t){const l={},i=d(t,["contents"]);if(i!=null){let c=Uc(n,i);Array.isArray(c)&&(c=c.map(f=>f)),m(l,["requests[]","request","content"],c)}const u=d(t,["config"]);return u!=null&&(m(l,["_self"],qC(u,l)),D2(l,{"requests[].*":"requests[].request.*"})),l}function qC(n,t){const l={},i=d(n,["taskType"]);t!==void 0&&i!=null&&m(t,["requests[]","taskType"],i);const u=d(n,["title"]);t!==void 0&&u!=null&&m(t,["requests[]","title"],u);const c=d(n,["outputDimensionality"]);if(t!==void 0&&c!=null&&m(t,["requests[]","outputDimensionality"],c),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function BC(n,t){const l={},i=d(t,["fileName"]);i!=null&&m(l,["file_name"],i);const u=d(t,["inlinedRequests"]);return u!=null&&m(l,["requests"],PC(n,u)),l}function HC(n){const t={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(n,["fileUri"]);l!=null&&m(t,["fileUri"],l);const i=d(n,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function zC(n,t,l){const i={},u=d(t,["systemInstruction"]);l!==void 0&&u!=null&&m(l,["systemInstruction"],Eg(Ct(u)));const c=d(t,["temperature"]);c!=null&&m(i,["temperature"],c);const f=d(t,["topP"]);f!=null&&m(i,["topP"],f);const g=d(t,["topK"]);g!=null&&m(i,["topK"],g);const x=d(t,["candidateCount"]);x!=null&&m(i,["candidateCount"],x);const p=d(t,["maxOutputTokens"]);p!=null&&m(i,["maxOutputTokens"],p);const v=d(t,["stopSequences"]);v!=null&&m(i,["stopSequences"],v);const C=d(t,["responseLogprobs"]);C!=null&&m(i,["responseLogprobs"],C);const b=d(t,["logprobs"]);b!=null&&m(i,["logprobs"],b);const N=d(t,["presencePenalty"]);N!=null&&m(i,["presencePenalty"],N);const _=d(t,["frequencyPenalty"]);_!=null&&m(i,["frequencyPenalty"],_);const E=d(t,["seed"]);E!=null&&m(i,["seed"],E);const A=d(t,["responseMimeType"]);A!=null&&m(i,["responseMimeType"],A);const j=d(t,["responseSchema"]);j!=null&&m(i,["responseSchema"],Lc(j));const M=d(t,["responseJsonSchema"]);if(M!=null&&m(i,["responseJsonSchema"],M),d(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=d(t,["safetySettings"]);if(l!==void 0&&D!=null){let F=D;Array.isArray(F)&&(F=F.map(re=>nb(re))),m(l,["safetySettings"],F)}const B=d(t,["tools"]);if(l!==void 0&&B!=null){let F=Tl(B);Array.isArray(F)&&(F=F.map(re=>sb(wl(re)))),m(l,["tools"],F)}const P=d(t,["toolConfig"]);if(l!==void 0&&P!=null&&m(l,["toolConfig"],P),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=d(t,["cachedContent"]);l!==void 0&&Q!=null&&m(l,["cachedContent"],Pn(n,Q));const q=d(t,["responseModalities"]);q!=null&&m(i,["responseModalities"],q);const $=d(t,["mediaResolution"]);$!=null&&m(i,["mediaResolution"],$);const V=d(t,["speechConfig"]);if(V!=null&&m(i,["speechConfig"],Pc(V)),d(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=d(t,["thinkingConfig"]);K!=null&&m(i,["thinkingConfig"],K);const ne=d(t,["imageConfig"]);return ne!=null&&m(i,["imageConfig"],ne),i}function VC(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["candidates"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(p=>EC(p))),m(t,["candidates"],x)}const u=d(n,["modelVersion"]);u!=null&&m(t,["modelVersion"],u);const c=d(n,["promptFeedback"]);c!=null&&m(t,["promptFeedback"],c);const f=d(n,["responseId"]);f!=null&&m(t,["responseId"],f);const g=d(n,["usageMetadata"]);return g!=null&&m(t,["usageMetadata"],g),t}function GC(n,t){const l={},i=d(t,["name"]);return i!=null&&m(l,["_url","name"],El(n,i)),l}function OC(n,t){const l={},i=d(t,["name"]);return i!=null&&m(l,["_url","name"],El(n,i)),l}function FC(n){const t={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=d(n,["enableWidget"]);return l!=null&&m(t,["enableWidget"],l),t}function JC(n){const t={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=d(n,["timeRangeFilter"]);return l!=null&&m(t,["timeRangeFilter"],l),t}function YC(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["request","model"],Ue(n,i));const u=d(t,["contents"]);if(u!=null){let g=Xt(u);Array.isArray(g)&&(g=g.map(x=>Eg(x))),m(l,["request","contents"],g)}const c=d(t,["metadata"]);c!=null&&m(l,["metadata"],c);const f=d(t,["config"]);return f!=null&&m(l,["request","generationConfig"],zC(n,f,d(l,["request"],{}))),l}function $C(n){const t={},l=d(n,["response"]);l!=null&&m(t,["response"],VC(l));const i=d(n,["error"]);return i!=null&&m(t,["error"],i),t}function KC(n,t){const l={},i=d(n,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const u=d(n,["pageToken"]);if(t!==void 0&&u!=null&&m(t,["_query","pageToken"],u),d(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function QC(n,t){const l={},i=d(n,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const u=d(n,["pageToken"]);t!==void 0&&u!=null&&m(t,["_query","pageToken"],u);const c=d(n,["filter"]);return t!==void 0&&c!=null&&m(t,["_query","filter"],c),l}function XC(n){const t={},l=d(n,["config"]);return l!=null&&KC(l,t),t}function ZC(n){const t={},l=d(n,["config"]);return l!=null&&QC(l,t),t}function WC(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const u=d(n,["operations"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>fo(f))),m(t,["batchJobs"],c)}return t}function eb(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const u=d(n,["batchPredictionJobs"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>mc(f))),m(t,["batchJobs"],c)}return t}function tb(n){const t={},l=d(n,["functionCall"]);l!=null&&m(t,["functionCall"],l);const i=d(n,["codeExecutionResult"]);i!=null&&m(t,["codeExecutionResult"],i);const u=d(n,["executableCode"]);u!=null&&m(t,["executableCode"],u);const c=d(n,["fileData"]);c!=null&&m(t,["fileData"],HC(c));const f=d(n,["functionResponse"]);f!=null&&m(t,["functionResponse"],f);const g=d(n,["inlineData"]);g!=null&&m(t,["inlineData"],NC(g));const x=d(n,["text"]);x!=null&&m(t,["text"],x);const p=d(n,["thought"]);p!=null&&m(t,["thought"],p);const v=d(n,["thoughtSignature"]);v!=null&&m(t,["thoughtSignature"],v);const C=d(n,["videoMetadata"]);return C!=null&&m(t,["videoMetadata"],C),t}function nb(n){const t={},l=d(n,["category"]);if(l!=null&&m(t,["category"],l),d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=d(n,["threshold"]);return i!=null&&m(t,["threshold"],i),t}function sb(n){const t={},l=d(n,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(C=>C)),m(t,["functionDeclarations"],v)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(n,["googleSearchRetrieval"]);i!=null&&m(t,["googleSearchRetrieval"],i);const u=d(n,["computerUse"]);u!=null&&m(t,["computerUse"],u);const c=d(n,["fileSearch"]);c!=null&&m(t,["fileSearch"],c);const f=d(n,["codeExecution"]);if(f!=null&&m(t,["codeExecution"],f),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=d(n,["googleMaps"]);g!=null&&m(t,["googleMaps"],FC(g));const x=d(n,["googleSearch"]);x!=null&&m(t,["googleSearch"],JC(x));const p=d(n,["urlContext"]);return p!=null&&m(t,["urlContext"],p),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Un;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Un||(Un={}));class Is{constructor(t,l,i,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,i,u)}init(t,l,i){var u,c;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!i||Object.keys(i).length===0?f={config:{}}:typeof i=="object"?f=Object.assign({},i):f=i,f.config&&(f.config.pageToken=l.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(c=(u=f.config)===null||u===void 0?void 0:u.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lb extends Ln{constructor(t){super(),this.apiClient=t,this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)},this.list=async(l={})=>new Is(Un.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(l),l)}createInlinedGenerateContentRequest(t){const l=r0(this.apiClient,t),i=l._url,u=ae("{model}:batchGenerateContent",i),g=l.batch.inputConfig.requests,x=g.requests,p=[];for(const v of x){const C=Object.assign({},v);if(C.systemInstruction){const b=C.systemInstruction;delete C.systemInstruction;const N=C.request;N.systemInstruction=b,C.request=N}p.push(C)}return g.requests=p,delete l.config,delete l._url,delete l._query,{path:u,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const i=l?Object.assign({},l):{},u=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${u}`),i.dest===void 0){const c=this.getGcsUri(t),f=this.getBigqueryUri(t);if(c)c.endsWith(".jsonl")?i.dest=`${c.slice(0,-6)}/dest`:i.dest=`${c}_dest_${u}`;else if(f)i.dest=`${f}_dest_${u}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(t){var l,i,u,c;let f,g="",x={};if(this.apiClient.isVertexAI()){const p=RC(this.apiClient,t);return g=ae("batchPredictionJobs",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>mc(v))}else{const p=r0(this.apiClient,t);return g=ae("{model}:batchGenerateContent",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>fo(v))}}async createEmbeddingsInternal(t){var l,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=jC(this.apiClient,t);return c=ae("{model}:asyncBatchEmbedContent",g._url),f=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),u.then(x=>fo(x))}}async get(t){var l,i,u,c;let f,g="",x={};if(this.apiClient.isVertexAI()){const p=OC(this.apiClient,t);return g=ae("batchPredictionJobs/{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>mc(v))}else{const p=GC(this.apiClient,t);return g=ae("batches/{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>fo(v))}}async cancel(t){var l,i,u,c;let f="",g={};if(this.apiClient.isVertexAI()){const x=TC(this.apiClient,t);f=ae("batchPredictionJobs/{name}:cancel",x._url),g=x._query,delete x._url,delete x._query,await this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}else{const x=wC(this.apiClient,t);f=ae("batches/{name}:cancel",x._url),g=x._query,delete x._url,delete x._query,await this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(t){var l,i,u,c;let f,g="",x={};if(this.apiClient.isVertexAI()){const p=ZC(t);return g=ae("batchPredictionJobs",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:v.headers},b})),f.then(v=>{const C=eb(v),b=new l0;return Object.assign(b,C),b})}else{const p=XC(t);return g=ae("batches",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:v.headers},b})),f.then(v=>{const C=WC(v),b=new l0;return Object.assign(b,C),b})}}async delete(t){var l,i,u,c;let f,g="",x={};if(this.apiClient.isVertexAI()){const p=DC(this.apiClient,t);return g=ae("batchPredictionJobs/{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:v.headers},b})),f.then(v=>LC(v))}else{const p=kC(this.apiClient,t);return g=ae("batches/{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:v.headers},b})),f.then(v=>UC(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ab(n){const t={},l=d(n,["data"]);if(l!=null&&m(t,["data"],l),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function u0(n){const t={},l=d(n,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Eb(c))),m(t,["parts"],u)}const i=d(n,["role"]);return i!=null&&m(t,["role"],i),t}function ib(n,t){const l={},i=d(n,["ttl"]);t!==void 0&&i!=null&&m(t,["ttl"],i);const u=d(n,["expireTime"]);t!==void 0&&u!=null&&m(t,["expireTime"],u);const c=d(n,["displayName"]);t!==void 0&&c!=null&&m(t,["displayName"],c);const f=d(n,["contents"]);if(t!==void 0&&f!=null){let v=Xt(f);Array.isArray(v)&&(v=v.map(C=>u0(C))),m(t,["contents"],v)}const g=d(n,["systemInstruction"]);t!==void 0&&g!=null&&m(t,["systemInstruction"],u0(Ct(g)));const x=d(n,["tools"]);if(t!==void 0&&x!=null){let v=x;Array.isArray(v)&&(v=v.map(C=>_b(C))),m(t,["tools"],v)}const p=d(n,["toolConfig"]);if(t!==void 0&&p!=null&&m(t,["toolConfig"],p),d(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function ob(n,t){const l={},i=d(n,["ttl"]);t!==void 0&&i!=null&&m(t,["ttl"],i);const u=d(n,["expireTime"]);t!==void 0&&u!=null&&m(t,["expireTime"],u);const c=d(n,["displayName"]);t!==void 0&&c!=null&&m(t,["displayName"],c);const f=d(n,["contents"]);if(t!==void 0&&f!=null){let C=Xt(f);Array.isArray(C)&&(C=C.map(b=>b)),m(t,["contents"],C)}const g=d(n,["systemInstruction"]);t!==void 0&&g!=null&&m(t,["systemInstruction"],Ct(g));const x=d(n,["tools"]);if(t!==void 0&&x!=null){let C=x;Array.isArray(C)&&(C=C.map(b=>Ab(b))),m(t,["tools"],C)}const p=d(n,["toolConfig"]);t!==void 0&&p!=null&&m(t,["toolConfig"],p);const v=d(n,["kmsKeyName"]);return t!==void 0&&v!=null&&m(t,["encryption_spec","kmsKeyName"],v),l}function rb(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["model"],hg(n,i));const u=d(t,["config"]);return u!=null&&ib(u,l),l}function ub(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["model"],hg(n,i));const u=d(t,["config"]);return u!=null&&ob(u,l),l}function cb(n,t){const l={},i=d(t,["name"]);return i!=null&&m(l,["_url","name"],Pn(n,i)),l}function db(n,t){const l={},i=d(t,["name"]);return i!=null&&m(l,["_url","name"],Pn(n,i)),l}function fb(n){const t={},l=d(n,["sdkHttpResponse"]);return l!=null&&m(t,["sdkHttpResponse"],l),t}function mb(n){const t={},l=d(n,["sdkHttpResponse"]);return l!=null&&m(t,["sdkHttpResponse"],l),t}function hb(n){const t={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(n,["fileUri"]);l!=null&&m(t,["fileUri"],l);const i=d(n,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function pb(n){const t={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=d(n,["description"]);l!=null&&m(t,["description"],l);const i=d(n,["name"]);i!=null&&m(t,["name"],i);const u=d(n,["parameters"]);u!=null&&m(t,["parameters"],u);const c=d(n,["parametersJsonSchema"]);c!=null&&m(t,["parametersJsonSchema"],c);const f=d(n,["response"]);f!=null&&m(t,["response"],f);const g=d(n,["responseJsonSchema"]);return g!=null&&m(t,["responseJsonSchema"],g),t}function gb(n,t){const l={},i=d(t,["name"]);return i!=null&&m(l,["_url","name"],Pn(n,i)),l}function xb(n,t){const l={},i=d(t,["name"]);return i!=null&&m(l,["_url","name"],Pn(n,i)),l}function yb(n){const t={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=d(n,["enableWidget"]);return l!=null&&m(t,["enableWidget"],l),t}function vb(n){const t={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=d(n,["timeRangeFilter"]);return l!=null&&m(t,["timeRangeFilter"],l),t}function Cb(n,t){const l={},i=d(n,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const u=d(n,["pageToken"]);return t!==void 0&&u!=null&&m(t,["_query","pageToken"],u),l}function bb(n,t){const l={},i=d(n,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const u=d(n,["pageToken"]);return t!==void 0&&u!=null&&m(t,["_query","pageToken"],u),l}function Sb(n){const t={},l=d(n,["config"]);return l!=null&&Cb(l,t),t}function Nb(n){const t={},l=d(n,["config"]);return l!=null&&bb(l,t),t}function wb(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const u=d(n,["cachedContents"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>f)),m(t,["cachedContents"],c)}return t}function Tb(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const u=d(n,["cachedContents"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>f)),m(t,["cachedContents"],c)}return t}function Eb(n){const t={},l=d(n,["functionCall"]);l!=null&&m(t,["functionCall"],l);const i=d(n,["codeExecutionResult"]);i!=null&&m(t,["codeExecutionResult"],i);const u=d(n,["executableCode"]);u!=null&&m(t,["executableCode"],u);const c=d(n,["fileData"]);c!=null&&m(t,["fileData"],hb(c));const f=d(n,["functionResponse"]);f!=null&&m(t,["functionResponse"],f);const g=d(n,["inlineData"]);g!=null&&m(t,["inlineData"],ab(g));const x=d(n,["text"]);x!=null&&m(t,["text"],x);const p=d(n,["thought"]);p!=null&&m(t,["thought"],p);const v=d(n,["thoughtSignature"]);v!=null&&m(t,["thoughtSignature"],v);const C=d(n,["videoMetadata"]);return C!=null&&m(t,["videoMetadata"],C),t}function _b(n){const t={},l=d(n,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(C=>C)),m(t,["functionDeclarations"],v)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(n,["googleSearchRetrieval"]);i!=null&&m(t,["googleSearchRetrieval"],i);const u=d(n,["computerUse"]);u!=null&&m(t,["computerUse"],u);const c=d(n,["fileSearch"]);c!=null&&m(t,["fileSearch"],c);const f=d(n,["codeExecution"]);if(f!=null&&m(t,["codeExecution"],f),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=d(n,["googleMaps"]);g!=null&&m(t,["googleMaps"],yb(g));const x=d(n,["googleSearch"]);x!=null&&m(t,["googleSearch"],vb(x));const p=d(n,["urlContext"]);return p!=null&&m(t,["urlContext"],p),t}function Ab(n){const t={},l=d(n,["functionDeclarations"]);if(l!=null){let C=l;Array.isArray(C)&&(C=C.map(b=>pb(b))),m(t,["functionDeclarations"],C)}const i=d(n,["retrieval"]);i!=null&&m(t,["retrieval"],i);const u=d(n,["googleSearchRetrieval"]);u!=null&&m(t,["googleSearchRetrieval"],u);const c=d(n,["computerUse"]);if(c!=null&&m(t,["computerUse"],c),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=d(n,["codeExecution"]);f!=null&&m(t,["codeExecution"],f);const g=d(n,["enterpriseWebSearch"]);g!=null&&m(t,["enterpriseWebSearch"],g);const x=d(n,["googleMaps"]);x!=null&&m(t,["googleMaps"],x);const p=d(n,["googleSearch"]);p!=null&&m(t,["googleSearch"],p);const v=d(n,["urlContext"]);return v!=null&&m(t,["urlContext"],v),t}function Mb(n,t){const l={},i=d(n,["ttl"]);t!==void 0&&i!=null&&m(t,["ttl"],i);const u=d(n,["expireTime"]);return t!==void 0&&u!=null&&m(t,["expireTime"],u),l}function Rb(n,t){const l={},i=d(n,["ttl"]);t!==void 0&&i!=null&&m(t,["ttl"],i);const u=d(n,["expireTime"]);return t!==void 0&&u!=null&&m(t,["expireTime"],u),l}function Ib(n,t){const l={},i=d(t,["name"]);i!=null&&m(l,["_url","name"],Pn(n,i));const u=d(t,["config"]);return u!=null&&Mb(u,l),l}function jb(n,t){const l={},i=d(t,["name"]);i!=null&&m(l,["_url","name"],Pn(n,i));const u=d(t,["config"]);return u!=null&&Rb(u,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kb extends Ln{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Is(Un.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(l),l)}async create(t){var l,i,u,c;let f,g="",x={};if(this.apiClient.isVertexAI()){const p=ub(this.apiClient,t);return g=ae("cachedContents",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const p=rb(this.apiClient,t);return g=ae("cachedContents",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async get(t){var l,i,u,c;let f,g="",x={};if(this.apiClient.isVertexAI()){const p=xb(this.apiClient,t);return g=ae("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const p=gb(this.apiClient,t);return g=ae("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async delete(t){var l,i,u,c;let f,g="",x={};if(this.apiClient.isVertexAI()){const p=db(this.apiClient,t);return g=ae("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:v.headers},b})),f.then(v=>{const C=mb(v),b=new n0;return Object.assign(b,C),b})}else{const p=cb(this.apiClient,t);return g=ae("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:v.headers},b})),f.then(v=>{const C=fb(v),b=new n0;return Object.assign(b,C),b})}}async update(t){var l,i,u,c;let f,g="",x={};if(this.apiClient.isVertexAI()){const p=jb(this.apiClient,t);return g=ae("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const p=Ib(this.apiClient,t);return g=ae("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async listInternal(t){var l,i,u,c;let f,g="",x={};if(this.apiClient.isVertexAI()){const p=Nb(t);return g=ae("cachedContents",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:v.headers},b})),f.then(v=>{const C=Tb(v),b=new s0;return Object.assign(b,C),b})}else{const p=Sb(t);return g=ae("cachedContents",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:v.headers},b})),f.then(v=>{const C=wb(v),b=new s0;return Object.assign(b,C),b})}}}function c0(n){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&n[t],i=0;if(l)return l.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Je(n){return this instanceof Je?(this.v=n,this):new Je(n)}function Cl(n,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=l.apply(n,t||[]),u,c=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",f),u[Symbol.asyncIterator]=function(){return this},u;function f(N){return function(_){return Promise.resolve(_).then(N,C)}}function g(N,_){i[N]&&(u[N]=function(E){return new Promise(function(A,j){c.push([N,E,A,j])>1||x(N,E)})},_&&(u[N]=_(u[N])))}function x(N,_){try{p(i[N](_))}catch(E){b(c[0][3],E)}}function p(N){N.value instanceof Je?Promise.resolve(N.value.v).then(v,C):b(c[0][2],N)}function v(N){x("next",N)}function C(N){x("throw",N)}function b(N,_){N(_),c.shift(),c.length&&x(c[0][0],c[0][1])}}function Ma(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],l;return t?t.call(n):(n=typeof c0=="function"?c0(n):n[Symbol.iterator](),l={},i("next"),i("throw"),i("return"),l[Symbol.asyncIterator]=function(){return this},l);function i(c){l[c]=n[c]&&function(f){return new Promise(function(g,x){f=n[c](f),u(g,x,f.done,f.value)})}}function u(c,f,g,x){Promise.resolve(x).then(function(p){c({value:p,done:g})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Db(n){var t;if(n.candidates==null||n.candidates.length===0)return!1;const l=(t=n.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:_g(l)}function _g(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const t of n.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function Ub(n){if(n.length!==0){for(const t of n)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function d0(n){if(n===void 0||n.length===0)return[];const t=[],l=n.length;let i=0;for(;i<l;)if(n[i].role==="user")t.push(n[i]),i++;else{const u=[];let c=!0;for(;i<l&&n[i].role==="model";)u.push(n[i]),c&&!_g(n[i])&&(c=!1),i++;c?t.push(...u):t.pop()}return t}class Lb{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new Pb(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Pb{constructor(t,l,i,u={},c=[]){this.apiClient=t,this.modelsModule=l,this.model=i,this.config=u,this.history=c,this.sendPromise=Promise.resolve(),Ub(c)}async sendMessage(t){var l;await this.sendPromise;const i=Ct(t.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var c,f,g;const x=await u,p=(f=(c=x.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content,v=x.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let b=[];v!=null&&(b=(g=v.slice(C))!==null&&g!==void 0?g:[]);const N=p?[p]:[];this.recordHistory(i,N,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(t){var l;await this.sendPromise;const i=Ct(t.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const c=await u;return this.processStreamResponse(c,i)}getHistory(t=!1){const l=t?d0(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){var i,u;return Cl(this,arguments,function*(){var f,g,x,p;const v=[];try{for(var C=!0,b=Ma(t),N;N=yield Je(b.next()),f=N.done,!f;C=!0){p=N.value,C=!1;const _=p;if(Db(_)){const E=(u=(i=_.candidates)===null||i===void 0?void 0:i[0])===null||u===void 0?void 0:u.content;E!==void 0&&v.push(E)}yield yield Je(_)}}catch(_){g={error:_}}finally{try{!C&&!f&&(x=b.return)&&(yield Je(x.call(b)))}finally{if(g)throw g.error}}this.recordHistory(l,v)})}recordHistory(t,l,i){let u=[];l.length>0&&l.every(c=>c.role!==void 0)?u=l:u.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...d0(i)):this.history.push(t),this.history.push(...u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class So extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,So.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qb(n){const t={},l=d(n,["file"]);return l!=null&&m(t,["file"],l),t}function Bb(n){const t={},l=d(n,["sdkHttpResponse"]);return l!=null&&m(t,["sdkHttpResponse"],l),t}function Hb(n){const t={},l=d(n,["name"]);return l!=null&&m(t,["_url","file"],Cg(l)),t}function zb(n){const t={},l=d(n,["sdkHttpResponse"]);return l!=null&&m(t,["sdkHttpResponse"],l),t}function Vb(n){const t={},l=d(n,["name"]);return l!=null&&m(t,["_url","file"],Cg(l)),t}function Gb(n,t){const l={},i=d(n,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const u=d(n,["pageToken"]);return t!==void 0&&u!=null&&m(t,["_query","pageToken"],u),l}function Ob(n){const t={},l=d(n,["config"]);return l!=null&&Gb(l,t),t}function Fb(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const u=d(n,["files"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>f)),m(t,["files"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jb extends Ln{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Is(Un.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Ob(t);return c=ae("files",g._url),f=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:x.headers},v})),u.then(x=>{const p=Fb(x),v=new sC;return Object.assign(v,p),v})}}async createInternal(t){var l,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=qb(t);return c=ae("upload/v1beta/files",g._url),f=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),u.then(x=>{const p=Bb(x),v=new lC;return Object.assign(v,p),v})}}async get(t){var l,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Vb(t);return c=ae("files/{file}",g._url),f=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),u.then(x=>x)}}async delete(t){var l,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Hb(t);return c=ae("files/{file}",g._url),f=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:x.headers},v})),u.then(x=>{const p=zb(x),v=new aC;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mo(n){const t={},l=d(n,["data"]);if(l!=null&&m(t,["data"],l),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function Yb(n){const t={},l=d(n,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>rS(c))),m(t,["parts"],u)}const i=d(n,["role"]);return i!=null&&m(t,["role"],i),t}function $b(n){const t={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(n,["fileUri"]);l!=null&&m(t,["fileUri"],l);const i=d(n,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function Kb(n){const t={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=d(n,["description"]);l!=null&&m(t,["description"],l);const i=d(n,["name"]);i!=null&&m(t,["name"],i);const u=d(n,["parameters"]);u!=null&&m(t,["parameters"],u);const c=d(n,["parametersJsonSchema"]);c!=null&&m(t,["parametersJsonSchema"],c);const f=d(n,["response"]);f!=null&&m(t,["response"],f);const g=d(n,["responseJsonSchema"]);return g!=null&&m(t,["responseJsonSchema"],g),t}function Qb(n){const t={},l=d(n,["modelSelectionConfig"]);l!=null&&m(t,["modelConfig"],l);const i=d(n,["responseJsonSchema"]);i!=null&&m(t,["responseJsonSchema"],i);const u=d(n,["audioTimestamp"]);u!=null&&m(t,["audioTimestamp"],u);const c=d(n,["candidateCount"]);c!=null&&m(t,["candidateCount"],c);const f=d(n,["enableAffectiveDialog"]);f!=null&&m(t,["enableAffectiveDialog"],f);const g=d(n,["frequencyPenalty"]);g!=null&&m(t,["frequencyPenalty"],g);const x=d(n,["logprobs"]);x!=null&&m(t,["logprobs"],x);const p=d(n,["maxOutputTokens"]);p!=null&&m(t,["maxOutputTokens"],p);const v=d(n,["mediaResolution"]);v!=null&&m(t,["mediaResolution"],v);const C=d(n,["presencePenalty"]);C!=null&&m(t,["presencePenalty"],C);const b=d(n,["responseLogprobs"]);b!=null&&m(t,["responseLogprobs"],b);const N=d(n,["responseMimeType"]);N!=null&&m(t,["responseMimeType"],N);const _=d(n,["responseModalities"]);_!=null&&m(t,["responseModalities"],_);const E=d(n,["responseSchema"]);E!=null&&m(t,["responseSchema"],E);const A=d(n,["routingConfig"]);A!=null&&m(t,["routingConfig"],A);const j=d(n,["seed"]);j!=null&&m(t,["seed"],j);const M=d(n,["speechConfig"]);M!=null&&m(t,["speechConfig"],Ag(M));const D=d(n,["stopSequences"]);D!=null&&m(t,["stopSequences"],D);const B=d(n,["temperature"]);B!=null&&m(t,["temperature"],B);const P=d(n,["thinkingConfig"]);P!=null&&m(t,["thinkingConfig"],P);const Q=d(n,["topK"]);Q!=null&&m(t,["topK"],Q);const q=d(n,["topP"]);if(q!=null&&m(t,["topP"],q),d(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Xb(n){const t={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=d(n,["enableWidget"]);return l!=null&&m(t,["enableWidget"],l),t}function Zb(n){const t={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=d(n,["timeRangeFilter"]);return l!=null&&m(t,["timeRangeFilter"],l),t}function Wb(n,t){const l={},i=d(n,["generationConfig"]);t!==void 0&&i!=null&&m(t,["setup","generationConfig"],i);const u=d(n,["responseModalities"]);t!==void 0&&u!=null&&m(t,["setup","generationConfig","responseModalities"],u);const c=d(n,["temperature"]);t!==void 0&&c!=null&&m(t,["setup","generationConfig","temperature"],c);const f=d(n,["topP"]);t!==void 0&&f!=null&&m(t,["setup","generationConfig","topP"],f);const g=d(n,["topK"]);t!==void 0&&g!=null&&m(t,["setup","generationConfig","topK"],g);const x=d(n,["maxOutputTokens"]);t!==void 0&&x!=null&&m(t,["setup","generationConfig","maxOutputTokens"],x);const p=d(n,["mediaResolution"]);t!==void 0&&p!=null&&m(t,["setup","generationConfig","mediaResolution"],p);const v=d(n,["seed"]);t!==void 0&&v!=null&&m(t,["setup","generationConfig","seed"],v);const C=d(n,["speechConfig"]);t!==void 0&&C!=null&&m(t,["setup","generationConfig","speechConfig"],qc(C));const b=d(n,["thinkingConfig"]);t!==void 0&&b!=null&&m(t,["setup","generationConfig","thinkingConfig"],b);const N=d(n,["enableAffectiveDialog"]);t!==void 0&&N!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],N);const _=d(n,["systemInstruction"]);t!==void 0&&_!=null&&m(t,["setup","systemInstruction"],Yb(Ct(_)));const E=d(n,["tools"]);if(t!==void 0&&E!=null){let Q=Tl(E);Array.isArray(Q)&&(Q=Q.map(q=>cS(wl(q)))),m(t,["setup","tools"],Q)}const A=d(n,["sessionResumption"]);t!==void 0&&A!=null&&m(t,["setup","sessionResumption"],uS(A));const j=d(n,["inputAudioTranscription"]);t!==void 0&&j!=null&&m(t,["setup","inputAudioTranscription"],j);const M=d(n,["outputAudioTranscription"]);t!==void 0&&M!=null&&m(t,["setup","outputAudioTranscription"],M);const D=d(n,["realtimeInputConfig"]);t!==void 0&&D!=null&&m(t,["setup","realtimeInputConfig"],D);const B=d(n,["contextWindowCompression"]);t!==void 0&&B!=null&&m(t,["setup","contextWindowCompression"],B);const P=d(n,["proactivity"]);return t!==void 0&&P!=null&&m(t,["setup","proactivity"],P),l}function eS(n,t){const l={},i=d(n,["generationConfig"]);t!==void 0&&i!=null&&m(t,["setup","generationConfig"],Qb(i));const u=d(n,["responseModalities"]);t!==void 0&&u!=null&&m(t,["setup","generationConfig","responseModalities"],u);const c=d(n,["temperature"]);t!==void 0&&c!=null&&m(t,["setup","generationConfig","temperature"],c);const f=d(n,["topP"]);t!==void 0&&f!=null&&m(t,["setup","generationConfig","topP"],f);const g=d(n,["topK"]);t!==void 0&&g!=null&&m(t,["setup","generationConfig","topK"],g);const x=d(n,["maxOutputTokens"]);t!==void 0&&x!=null&&m(t,["setup","generationConfig","maxOutputTokens"],x);const p=d(n,["mediaResolution"]);t!==void 0&&p!=null&&m(t,["setup","generationConfig","mediaResolution"],p);const v=d(n,["seed"]);t!==void 0&&v!=null&&m(t,["setup","generationConfig","seed"],v);const C=d(n,["speechConfig"]);t!==void 0&&C!=null&&m(t,["setup","generationConfig","speechConfig"],Ag(qc(C)));const b=d(n,["thinkingConfig"]);t!==void 0&&b!=null&&m(t,["setup","generationConfig","thinkingConfig"],b);const N=d(n,["enableAffectiveDialog"]);t!==void 0&&N!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],N);const _=d(n,["systemInstruction"]);t!==void 0&&_!=null&&m(t,["setup","systemInstruction"],Ct(_));const E=d(n,["tools"]);if(t!==void 0&&E!=null){let Q=Tl(E);Array.isArray(Q)&&(Q=Q.map(q=>dS(wl(q)))),m(t,["setup","tools"],Q)}const A=d(n,["sessionResumption"]);t!==void 0&&A!=null&&m(t,["setup","sessionResumption"],A);const j=d(n,["inputAudioTranscription"]);t!==void 0&&j!=null&&m(t,["setup","inputAudioTranscription"],j);const M=d(n,["outputAudioTranscription"]);t!==void 0&&M!=null&&m(t,["setup","outputAudioTranscription"],M);const D=d(n,["realtimeInputConfig"]);t!==void 0&&D!=null&&m(t,["setup","realtimeInputConfig"],D);const B=d(n,["contextWindowCompression"]);t!==void 0&&B!=null&&m(t,["setup","contextWindowCompression"],B);const P=d(n,["proactivity"]);return t!==void 0&&P!=null&&m(t,["setup","proactivity"],P),l}function tS(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["setup","model"],Ue(n,i));const u=d(t,["config"]);return u!=null&&m(l,["config"],Wb(u,l)),l}function nS(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["setup","model"],Ue(n,i));const u=d(t,["config"]);return u!=null&&m(l,["config"],eS(u,l)),l}function sS(n){const t={},l=d(n,["musicGenerationConfig"]);return l!=null&&m(t,["musicGenerationConfig"],l),t}function lS(n){const t={},l=d(n,["weightedPrompts"]);if(l!=null){let i=l;Array.isArray(i)&&(i=i.map(u=>u)),m(t,["weightedPrompts"],i)}return t}function aS(n){const t={},l=d(n,["media"]);if(l!=null){let p=pg(l);Array.isArray(p)&&(p=p.map(v=>mo(v))),m(t,["mediaChunks"],p)}const i=d(n,["audio"]);i!=null&&m(t,["audio"],mo(xg(i)));const u=d(n,["audioStreamEnd"]);u!=null&&m(t,["audioStreamEnd"],u);const c=d(n,["video"]);c!=null&&m(t,["video"],mo(gg(c)));const f=d(n,["text"]);f!=null&&m(t,["text"],f);const g=d(n,["activityStart"]);g!=null&&m(t,["activityStart"],g);const x=d(n,["activityEnd"]);return x!=null&&m(t,["activityEnd"],x),t}function iS(n){const t={},l=d(n,["media"]);if(l!=null){let p=pg(l);Array.isArray(p)&&(p=p.map(v=>v)),m(t,["mediaChunks"],p)}const i=d(n,["audio"]);i!=null&&m(t,["audio"],xg(i));const u=d(n,["audioStreamEnd"]);u!=null&&m(t,["audioStreamEnd"],u);const c=d(n,["video"]);c!=null&&m(t,["video"],gg(c));const f=d(n,["text"]);f!=null&&m(t,["text"],f);const g=d(n,["activityStart"]);g!=null&&m(t,["activityStart"],g);const x=d(n,["activityEnd"]);return x!=null&&m(t,["activityEnd"],x),t}function oS(n){const t={},l=d(n,["setupComplete"]);l!=null&&m(t,["setupComplete"],l);const i=d(n,["serverContent"]);i!=null&&m(t,["serverContent"],i);const u=d(n,["toolCall"]);u!=null&&m(t,["toolCall"],u);const c=d(n,["toolCallCancellation"]);c!=null&&m(t,["toolCallCancellation"],c);const f=d(n,["usageMetadata"]);f!=null&&m(t,["usageMetadata"],fS(f));const g=d(n,["goAway"]);g!=null&&m(t,["goAway"],g);const x=d(n,["sessionResumptionUpdate"]);return x!=null&&m(t,["sessionResumptionUpdate"],x),t}function rS(n){const t={},l=d(n,["functionCall"]);l!=null&&m(t,["functionCall"],l);const i=d(n,["codeExecutionResult"]);i!=null&&m(t,["codeExecutionResult"],i);const u=d(n,["executableCode"]);u!=null&&m(t,["executableCode"],u);const c=d(n,["fileData"]);c!=null&&m(t,["fileData"],$b(c));const f=d(n,["functionResponse"]);f!=null&&m(t,["functionResponse"],f);const g=d(n,["inlineData"]);g!=null&&m(t,["inlineData"],mo(g));const x=d(n,["text"]);x!=null&&m(t,["text"],x);const p=d(n,["thought"]);p!=null&&m(t,["thought"],p);const v=d(n,["thoughtSignature"]);v!=null&&m(t,["thoughtSignature"],v);const C=d(n,["videoMetadata"]);return C!=null&&m(t,["videoMetadata"],C),t}function uS(n){const t={},l=d(n,["handle"]);if(l!=null&&m(t,["handle"],l),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Ag(n){const t={},l=d(n,["languageCode"]);l!=null&&m(t,["languageCode"],l);const i=d(n,["voiceConfig"]);if(i!=null&&m(t,["voiceConfig"],i),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function cS(n){const t={},l=d(n,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(C=>C)),m(t,["functionDeclarations"],v)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(n,["googleSearchRetrieval"]);i!=null&&m(t,["googleSearchRetrieval"],i);const u=d(n,["computerUse"]);u!=null&&m(t,["computerUse"],u);const c=d(n,["fileSearch"]);c!=null&&m(t,["fileSearch"],c);const f=d(n,["codeExecution"]);if(f!=null&&m(t,["codeExecution"],f),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=d(n,["googleMaps"]);g!=null&&m(t,["googleMaps"],Xb(g));const x=d(n,["googleSearch"]);x!=null&&m(t,["googleSearch"],Zb(x));const p=d(n,["urlContext"]);return p!=null&&m(t,["urlContext"],p),t}function dS(n){const t={},l=d(n,["functionDeclarations"]);if(l!=null){let C=l;Array.isArray(C)&&(C=C.map(b=>Kb(b))),m(t,["functionDeclarations"],C)}const i=d(n,["retrieval"]);i!=null&&m(t,["retrieval"],i);const u=d(n,["googleSearchRetrieval"]);u!=null&&m(t,["googleSearchRetrieval"],u);const c=d(n,["computerUse"]);if(c!=null&&m(t,["computerUse"],c),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=d(n,["codeExecution"]);f!=null&&m(t,["codeExecution"],f);const g=d(n,["enterpriseWebSearch"]);g!=null&&m(t,["enterpriseWebSearch"],g);const x=d(n,["googleMaps"]);x!=null&&m(t,["googleMaps"],x);const p=d(n,["googleSearch"]);p!=null&&m(t,["googleSearch"],p);const v=d(n,["urlContext"]);return v!=null&&m(t,["urlContext"],v),t}function fS(n){const t={},l=d(n,["promptTokenCount"]);l!=null&&m(t,["promptTokenCount"],l);const i=d(n,["cachedContentTokenCount"]);i!=null&&m(t,["cachedContentTokenCount"],i);const u=d(n,["candidatesTokenCount"]);u!=null&&m(t,["responseTokenCount"],u);const c=d(n,["toolUsePromptTokenCount"]);c!=null&&m(t,["toolUsePromptTokenCount"],c);const f=d(n,["thoughtsTokenCount"]);f!=null&&m(t,["thoughtsTokenCount"],f);const g=d(n,["totalTokenCount"]);g!=null&&m(t,["totalTokenCount"],g);const x=d(n,["promptTokensDetails"]);if(x!=null){let N=x;Array.isArray(N)&&(N=N.map(_=>_)),m(t,["promptTokensDetails"],N)}const p=d(n,["cacheTokensDetails"]);if(p!=null){let N=p;Array.isArray(N)&&(N=N.map(_=>_)),m(t,["cacheTokensDetails"],N)}const v=d(n,["candidatesTokensDetails"]);if(v!=null){let N=v;Array.isArray(N)&&(N=N.map(_=>_)),m(t,["responseTokensDetails"],N)}const C=d(n,["toolUsePromptTokensDetails"]);if(C!=null){let N=C;Array.isArray(N)&&(N=N.map(_=>_)),m(t,["toolUsePromptTokensDetails"],N)}const b=d(n,["trafficType"]);return b!=null&&m(t,["trafficType"],b),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mS(n){const t={},l=d(n,["data"]);if(l!=null&&m(t,["data"],l),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function hS(n){const t={},l=d(n,["content"]);l!=null&&m(t,["content"],l);const i=d(n,["citationMetadata"]);i!=null&&m(t,["citationMetadata"],pS(i));const u=d(n,["tokenCount"]);u!=null&&m(t,["tokenCount"],u);const c=d(n,["finishReason"]);c!=null&&m(t,["finishReason"],c);const f=d(n,["avgLogprobs"]);f!=null&&m(t,["avgLogprobs"],f);const g=d(n,["groundingMetadata"]);g!=null&&m(t,["groundingMetadata"],g);const x=d(n,["index"]);x!=null&&m(t,["index"],x);const p=d(n,["logprobsResult"]);p!=null&&m(t,["logprobsResult"],p);const v=d(n,["safetyRatings"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(N=>N)),m(t,["safetyRatings"],b)}const C=d(n,["urlContextMetadata"]);return C!=null&&m(t,["urlContextMetadata"],C),t}function pS(n){const t={},l=d(n,["citationSources"]);if(l!=null){let i=l;Array.isArray(i)&&(i=i.map(u=>u)),m(t,["citations"],i)}return t}function gS(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["_url","model"],Ue(n,i));const u=d(t,["contents"]);if(u!=null){let c=Xt(u);Array.isArray(c)&&(c=c.map(f=>f)),m(l,["contents"],c)}return l}function xS(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["tokensInfo"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>c)),m(t,["tokensInfo"],u)}return t}function yS(n){const t={},l=d(n,["values"]);l!=null&&m(t,["values"],l);const i=d(n,["statistics"]);return i!=null&&m(t,["statistics"],vS(i)),t}function vS(n){const t={},l=d(n,["truncated"]);l!=null&&m(t,["truncated"],l);const i=d(n,["token_count"]);return i!=null&&m(t,["tokenCount"],i),t}function No(n){const t={},l=d(n,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>wN(c))),m(t,["parts"],u)}const i=d(n,["role"]);return i!=null&&m(t,["role"],i),t}function CS(n){const t={},l=d(n,["controlType"]);l!=null&&m(t,["controlType"],l);const i=d(n,["enableControlImageComputation"]);return i!=null&&m(t,["computeControl"],i),t}function bS(n){const t={};if(d(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function SS(n,t){const l={},i=d(n,["systemInstruction"]);t!==void 0&&i!=null&&m(t,["systemInstruction"],Ct(i));const u=d(n,["tools"]);if(t!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(g=>kg(g))),m(t,["tools"],f)}const c=d(n,["generationConfig"]);return t!==void 0&&c!=null&&m(t,["generationConfig"],dN(c)),l}function NS(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["_url","model"],Ue(n,i));const u=d(t,["contents"]);if(u!=null){let f=Xt(u);Array.isArray(f)&&(f=f.map(g=>No(g))),m(l,["contents"],f)}const c=d(t,["config"]);return c!=null&&bS(c),l}function wS(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["_url","model"],Ue(n,i));const u=d(t,["contents"]);if(u!=null){let f=Xt(u);Array.isArray(f)&&(f=f.map(g=>g)),m(l,["contents"],f)}const c=d(t,["config"]);return c!=null&&SS(c,l),l}function TS(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["totalTokens"]);i!=null&&m(t,["totalTokens"],i);const u=d(n,["cachedContentTokenCount"]);return u!=null&&m(t,["cachedContentTokenCount"],u),t}function ES(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["totalTokens"]);return i!=null&&m(t,["totalTokens"],i),t}function _S(n,t){const l={},i=d(t,["model"]);return i!=null&&m(l,["_url","name"],Ue(n,i)),l}function AS(n,t){const l={},i=d(t,["model"]);return i!=null&&m(l,["_url","name"],Ue(n,i)),l}function MS(n){const t={},l=d(n,["sdkHttpResponse"]);return l!=null&&m(t,["sdkHttpResponse"],l),t}function RS(n){const t={},l=d(n,["sdkHttpResponse"]);return l!=null&&m(t,["sdkHttpResponse"],l),t}function IS(n,t){const l={},i=d(n,["outputGcsUri"]);t!==void 0&&i!=null&&m(t,["parameters","storageUri"],i);const u=d(n,["negativePrompt"]);t!==void 0&&u!=null&&m(t,["parameters","negativePrompt"],u);const c=d(n,["numberOfImages"]);t!==void 0&&c!=null&&m(t,["parameters","sampleCount"],c);const f=d(n,["aspectRatio"]);t!==void 0&&f!=null&&m(t,["parameters","aspectRatio"],f);const g=d(n,["guidanceScale"]);t!==void 0&&g!=null&&m(t,["parameters","guidanceScale"],g);const x=d(n,["seed"]);t!==void 0&&x!=null&&m(t,["parameters","seed"],x);const p=d(n,["safetyFilterLevel"]);t!==void 0&&p!=null&&m(t,["parameters","safetySetting"],p);const v=d(n,["personGeneration"]);t!==void 0&&v!=null&&m(t,["parameters","personGeneration"],v);const C=d(n,["includeSafetyAttributes"]);t!==void 0&&C!=null&&m(t,["parameters","includeSafetyAttributes"],C);const b=d(n,["includeRaiReason"]);t!==void 0&&b!=null&&m(t,["parameters","includeRaiReason"],b);const N=d(n,["language"]);t!==void 0&&N!=null&&m(t,["parameters","language"],N);const _=d(n,["outputMimeType"]);t!==void 0&&_!=null&&m(t,["parameters","outputOptions","mimeType"],_);const E=d(n,["outputCompressionQuality"]);t!==void 0&&E!=null&&m(t,["parameters","outputOptions","compressionQuality"],E);const A=d(n,["addWatermark"]);t!==void 0&&A!=null&&m(t,["parameters","addWatermark"],A);const j=d(n,["labels"]);t!==void 0&&j!=null&&m(t,["labels"],j);const M=d(n,["editMode"]);t!==void 0&&M!=null&&m(t,["parameters","editMode"],M);const D=d(n,["baseSteps"]);return t!==void 0&&D!=null&&m(t,["parameters","editConfig","baseSteps"],D),l}function jS(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["_url","model"],Ue(n,i));const u=d(t,["prompt"]);u!=null&&m(l,["instances[0]","prompt"],u);const c=d(t,["referenceImages"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(x=>RN(x))),m(l,["instances[0]","referenceImages"],g)}const f=d(t,["config"]);return f!=null&&IS(f,l),l}function kS(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["predictions"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>wo(c))),m(t,["generatedImages"],u)}return t}function DS(n,t){const l={},i=d(n,["taskType"]);t!==void 0&&i!=null&&m(t,["requests[]","taskType"],i);const u=d(n,["title"]);t!==void 0&&u!=null&&m(t,["requests[]","title"],u);const c=d(n,["outputDimensionality"]);if(t!==void 0&&c!=null&&m(t,["requests[]","outputDimensionality"],c),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function US(n,t){const l={},i=d(n,["taskType"]);t!==void 0&&i!=null&&m(t,["instances[]","task_type"],i);const u=d(n,["title"]);t!==void 0&&u!=null&&m(t,["instances[]","title"],u);const c=d(n,["outputDimensionality"]);t!==void 0&&c!=null&&m(t,["parameters","outputDimensionality"],c);const f=d(n,["mimeType"]);t!==void 0&&f!=null&&m(t,["instances[]","mimeType"],f);const g=d(n,["autoTruncate"]);return t!==void 0&&g!=null&&m(t,["parameters","autoTruncate"],g),l}function LS(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["_url","model"],Ue(n,i));const u=d(t,["contents"]);if(u!=null){let g=Uc(n,u);Array.isArray(g)&&(g=g.map(x=>x)),m(l,["requests[]","content"],g)}const c=d(t,["config"]);c!=null&&DS(c,l);const f=d(t,["model"]);return f!==void 0&&m(l,["requests[]","model"],Ue(n,f)),l}function PS(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["_url","model"],Ue(n,i));const u=d(t,["contents"]);if(u!=null){let f=Uc(n,u);Array.isArray(f)&&(f=f.map(g=>g)),m(l,["instances[]","content"],f)}const c=d(t,["config"]);return c!=null&&US(c,l),l}function qS(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["embeddings"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>f)),m(t,["embeddings"],c)}const u=d(n,["metadata"]);return u!=null&&m(t,["metadata"],u),t}function BS(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["predictions[]","embeddings"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>yS(f))),m(t,["embeddings"],c)}const u=d(n,["metadata"]);return u!=null&&m(t,["metadata"],u),t}function HS(n){const t={},l=d(n,["endpoint"]);l!=null&&m(t,["name"],l);const i=d(n,["deployedModelId"]);return i!=null&&m(t,["deployedModelId"],i),t}function zS(n){const t={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(n,["fileUri"]);l!=null&&m(t,["fileUri"],l);const i=d(n,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function VS(n){const t={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=d(n,["description"]);l!=null&&m(t,["description"],l);const i=d(n,["name"]);i!=null&&m(t,["name"],i);const u=d(n,["parameters"]);u!=null&&m(t,["parameters"],u);const c=d(n,["parametersJsonSchema"]);c!=null&&m(t,["parametersJsonSchema"],c);const f=d(n,["response"]);f!=null&&m(t,["response"],f);const g=d(n,["responseJsonSchema"]);return g!=null&&m(t,["responseJsonSchema"],g),t}function GS(n,t,l){const i={},u=d(t,["systemInstruction"]);l!==void 0&&u!=null&&m(l,["systemInstruction"],No(Ct(u)));const c=d(t,["temperature"]);c!=null&&m(i,["temperature"],c);const f=d(t,["topP"]);f!=null&&m(i,["topP"],f);const g=d(t,["topK"]);g!=null&&m(i,["topK"],g);const x=d(t,["candidateCount"]);x!=null&&m(i,["candidateCount"],x);const p=d(t,["maxOutputTokens"]);p!=null&&m(i,["maxOutputTokens"],p);const v=d(t,["stopSequences"]);v!=null&&m(i,["stopSequences"],v);const C=d(t,["responseLogprobs"]);C!=null&&m(i,["responseLogprobs"],C);const b=d(t,["logprobs"]);b!=null&&m(i,["logprobs"],b);const N=d(t,["presencePenalty"]);N!=null&&m(i,["presencePenalty"],N);const _=d(t,["frequencyPenalty"]);_!=null&&m(i,["frequencyPenalty"],_);const E=d(t,["seed"]);E!=null&&m(i,["seed"],E);const A=d(t,["responseMimeType"]);A!=null&&m(i,["responseMimeType"],A);const j=d(t,["responseSchema"]);j!=null&&m(i,["responseSchema"],Lc(j));const M=d(t,["responseJsonSchema"]);if(M!=null&&m(i,["responseJsonSchema"],M),d(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=d(t,["safetySettings"]);if(l!==void 0&&D!=null){let F=D;Array.isArray(F)&&(F=F.map(re=>IN(re))),m(l,["safetySettings"],F)}const B=d(t,["tools"]);if(l!==void 0&&B!=null){let F=Tl(B);Array.isArray(F)&&(F=F.map(re=>PN(wl(re)))),m(l,["tools"],F)}const P=d(t,["toolConfig"]);if(l!==void 0&&P!=null&&m(l,["toolConfig"],P),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=d(t,["cachedContent"]);l!==void 0&&Q!=null&&m(l,["cachedContent"],Pn(n,Q));const q=d(t,["responseModalities"]);q!=null&&m(i,["responseModalities"],q);const $=d(t,["mediaResolution"]);$!=null&&m(i,["mediaResolution"],$);const V=d(t,["speechConfig"]);if(V!=null&&m(i,["speechConfig"],Pc(V)),d(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=d(t,["thinkingConfig"]);K!=null&&m(i,["thinkingConfig"],K);const ne=d(t,["imageConfig"]);return ne!=null&&m(i,["imageConfig"],ne),i}function OS(n,t,l){const i={},u=d(t,["systemInstruction"]);l!==void 0&&u!=null&&m(l,["systemInstruction"],Ct(u));const c=d(t,["temperature"]);c!=null&&m(i,["temperature"],c);const f=d(t,["topP"]);f!=null&&m(i,["topP"],f);const g=d(t,["topK"]);g!=null&&m(i,["topK"],g);const x=d(t,["candidateCount"]);x!=null&&m(i,["candidateCount"],x);const p=d(t,["maxOutputTokens"]);p!=null&&m(i,["maxOutputTokens"],p);const v=d(t,["stopSequences"]);v!=null&&m(i,["stopSequences"],v);const C=d(t,["responseLogprobs"]);C!=null&&m(i,["responseLogprobs"],C);const b=d(t,["logprobs"]);b!=null&&m(i,["logprobs"],b);const N=d(t,["presencePenalty"]);N!=null&&m(i,["presencePenalty"],N);const _=d(t,["frequencyPenalty"]);_!=null&&m(i,["frequencyPenalty"],_);const E=d(t,["seed"]);E!=null&&m(i,["seed"],E);const A=d(t,["responseMimeType"]);A!=null&&m(i,["responseMimeType"],A);const j=d(t,["responseSchema"]);j!=null&&m(i,["responseSchema"],Lc(j));const M=d(t,["responseJsonSchema"]);M!=null&&m(i,["responseJsonSchema"],M);const D=d(t,["routingConfig"]);D!=null&&m(i,["routingConfig"],D);const B=d(t,["modelSelectionConfig"]);B!=null&&m(i,["modelConfig"],B);const P=d(t,["safetySettings"]);if(l!==void 0&&P!=null){let I=P;Array.isArray(I)&&(I=I.map(Z=>Z)),m(l,["safetySettings"],I)}const Q=d(t,["tools"]);if(l!==void 0&&Q!=null){let I=Tl(Q);Array.isArray(I)&&(I=I.map(Z=>kg(wl(Z)))),m(l,["tools"],I)}const q=d(t,["toolConfig"]);l!==void 0&&q!=null&&m(l,["toolConfig"],q);const $=d(t,["labels"]);l!==void 0&&$!=null&&m(l,["labels"],$);const V=d(t,["cachedContent"]);l!==void 0&&V!=null&&m(l,["cachedContent"],Pn(n,V));const K=d(t,["responseModalities"]);K!=null&&m(i,["responseModalities"],K);const ne=d(t,["mediaResolution"]);ne!=null&&m(i,["mediaResolution"],ne);const F=d(t,["speechConfig"]);F!=null&&m(i,["speechConfig"],jg(Pc(F)));const re=d(t,["audioTimestamp"]);re!=null&&m(i,["audioTimestamp"],re);const oe=d(t,["thinkingConfig"]);oe!=null&&m(i,["thinkingConfig"],oe);const Te=d(t,["imageConfig"]);return Te!=null&&m(i,["imageConfig"],Te),i}function f0(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["_url","model"],Ue(n,i));const u=d(t,["contents"]);if(u!=null){let f=Xt(u);Array.isArray(f)&&(f=f.map(g=>No(g))),m(l,["contents"],f)}const c=d(t,["config"]);return c!=null&&m(l,["generationConfig"],GS(n,c,l)),l}function m0(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["_url","model"],Ue(n,i));const u=d(t,["contents"]);if(u!=null){let f=Xt(u);Array.isArray(f)&&(f=f.map(g=>g)),m(l,["contents"],f)}const c=d(t,["config"]);return c!=null&&m(l,["generationConfig"],OS(n,c,l)),l}function h0(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["candidates"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(p=>hS(p))),m(t,["candidates"],x)}const u=d(n,["modelVersion"]);u!=null&&m(t,["modelVersion"],u);const c=d(n,["promptFeedback"]);c!=null&&m(t,["promptFeedback"],c);const f=d(n,["responseId"]);f!=null&&m(t,["responseId"],f);const g=d(n,["usageMetadata"]);return g!=null&&m(t,["usageMetadata"],g),t}function p0(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(v=>v)),m(t,["candidates"],p)}const u=d(n,["createTime"]);u!=null&&m(t,["createTime"],u);const c=d(n,["modelVersion"]);c!=null&&m(t,["modelVersion"],c);const f=d(n,["promptFeedback"]);f!=null&&m(t,["promptFeedback"],f);const g=d(n,["responseId"]);g!=null&&m(t,["responseId"],g);const x=d(n,["usageMetadata"]);return x!=null&&m(t,["usageMetadata"],x),t}function FS(n,t){const l={};if(d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=d(n,["numberOfImages"]);t!==void 0&&i!=null&&m(t,["parameters","sampleCount"],i);const u=d(n,["aspectRatio"]);t!==void 0&&u!=null&&m(t,["parameters","aspectRatio"],u);const c=d(n,["guidanceScale"]);if(t!==void 0&&c!=null&&m(t,["parameters","guidanceScale"],c),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=d(n,["safetyFilterLevel"]);t!==void 0&&f!=null&&m(t,["parameters","safetySetting"],f);const g=d(n,["personGeneration"]);t!==void 0&&g!=null&&m(t,["parameters","personGeneration"],g);const x=d(n,["includeSafetyAttributes"]);t!==void 0&&x!=null&&m(t,["parameters","includeSafetyAttributes"],x);const p=d(n,["includeRaiReason"]);t!==void 0&&p!=null&&m(t,["parameters","includeRaiReason"],p);const v=d(n,["language"]);t!==void 0&&v!=null&&m(t,["parameters","language"],v);const C=d(n,["outputMimeType"]);t!==void 0&&C!=null&&m(t,["parameters","outputOptions","mimeType"],C);const b=d(n,["outputCompressionQuality"]);if(t!==void 0&&b!=null&&m(t,["parameters","outputOptions","compressionQuality"],b),d(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=d(n,["imageSize"]);if(t!==void 0&&N!=null&&m(t,["parameters","sampleImageSize"],N),d(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function JS(n,t){const l={},i=d(n,["outputGcsUri"]);t!==void 0&&i!=null&&m(t,["parameters","storageUri"],i);const u=d(n,["negativePrompt"]);t!==void 0&&u!=null&&m(t,["parameters","negativePrompt"],u);const c=d(n,["numberOfImages"]);t!==void 0&&c!=null&&m(t,["parameters","sampleCount"],c);const f=d(n,["aspectRatio"]);t!==void 0&&f!=null&&m(t,["parameters","aspectRatio"],f);const g=d(n,["guidanceScale"]);t!==void 0&&g!=null&&m(t,["parameters","guidanceScale"],g);const x=d(n,["seed"]);t!==void 0&&x!=null&&m(t,["parameters","seed"],x);const p=d(n,["safetyFilterLevel"]);t!==void 0&&p!=null&&m(t,["parameters","safetySetting"],p);const v=d(n,["personGeneration"]);t!==void 0&&v!=null&&m(t,["parameters","personGeneration"],v);const C=d(n,["includeSafetyAttributes"]);t!==void 0&&C!=null&&m(t,["parameters","includeSafetyAttributes"],C);const b=d(n,["includeRaiReason"]);t!==void 0&&b!=null&&m(t,["parameters","includeRaiReason"],b);const N=d(n,["language"]);t!==void 0&&N!=null&&m(t,["parameters","language"],N);const _=d(n,["outputMimeType"]);t!==void 0&&_!=null&&m(t,["parameters","outputOptions","mimeType"],_);const E=d(n,["outputCompressionQuality"]);t!==void 0&&E!=null&&m(t,["parameters","outputOptions","compressionQuality"],E);const A=d(n,["addWatermark"]);t!==void 0&&A!=null&&m(t,["parameters","addWatermark"],A);const j=d(n,["labels"]);t!==void 0&&j!=null&&m(t,["labels"],j);const M=d(n,["imageSize"]);t!==void 0&&M!=null&&m(t,["parameters","sampleImageSize"],M);const D=d(n,["enhancePrompt"]);return t!==void 0&&D!=null&&m(t,["parameters","enhancePrompt"],D),l}function YS(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["_url","model"],Ue(n,i));const u=d(t,["prompt"]);u!=null&&m(l,["instances[0]","prompt"],u);const c=d(t,["config"]);return c!=null&&FS(c,l),l}function $S(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["_url","model"],Ue(n,i));const u=d(t,["prompt"]);u!=null&&m(l,["instances[0]","prompt"],u);const c=d(t,["config"]);return c!=null&&JS(c,l),l}function KS(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["predictions"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>oN(f))),m(t,["generatedImages"],c)}const u=d(n,["positivePromptSafetyAttributes"]);return u!=null&&m(t,["positivePromptSafetyAttributes"],Rg(u)),t}function QS(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["predictions"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>wo(f))),m(t,["generatedImages"],c)}const u=d(n,["positivePromptSafetyAttributes"]);return u!=null&&m(t,["positivePromptSafetyAttributes"],Ig(u)),t}function XS(n,t){const l={},i=d(n,["numberOfVideos"]);if(t!==void 0&&i!=null&&m(t,["parameters","sampleCount"],i),d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=d(n,["durationSeconds"]);if(t!==void 0&&u!=null&&m(t,["parameters","durationSeconds"],u),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(n,["aspectRatio"]);t!==void 0&&c!=null&&m(t,["parameters","aspectRatio"],c);const f=d(n,["resolution"]);t!==void 0&&f!=null&&m(t,["parameters","resolution"],f);const g=d(n,["personGeneration"]);if(t!==void 0&&g!=null&&m(t,["parameters","personGeneration"],g),d(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const x=d(n,["negativePrompt"]);t!==void 0&&x!=null&&m(t,["parameters","negativePrompt"],x);const p=d(n,["enhancePrompt"]);if(t!==void 0&&p!=null&&m(t,["parameters","enhancePrompt"],p),d(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=d(n,["lastFrame"]);t!==void 0&&v!=null&&m(t,["instances[0]","lastFrame"],To(v));const C=d(n,["referenceImages"]);if(t!==void 0&&C!=null){let b=C;Array.isArray(b)&&(b=b.map(N=>QN(N))),m(t,["instances[0]","referenceImages"],b)}if(d(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function ZS(n,t){const l={},i=d(n,["numberOfVideos"]);t!==void 0&&i!=null&&m(t,["parameters","sampleCount"],i);const u=d(n,["outputGcsUri"]);t!==void 0&&u!=null&&m(t,["parameters","storageUri"],u);const c=d(n,["fps"]);t!==void 0&&c!=null&&m(t,["parameters","fps"],c);const f=d(n,["durationSeconds"]);t!==void 0&&f!=null&&m(t,["parameters","durationSeconds"],f);const g=d(n,["seed"]);t!==void 0&&g!=null&&m(t,["parameters","seed"],g);const x=d(n,["aspectRatio"]);t!==void 0&&x!=null&&m(t,["parameters","aspectRatio"],x);const p=d(n,["resolution"]);t!==void 0&&p!=null&&m(t,["parameters","resolution"],p);const v=d(n,["personGeneration"]);t!==void 0&&v!=null&&m(t,["parameters","personGeneration"],v);const C=d(n,["pubsubTopic"]);t!==void 0&&C!=null&&m(t,["parameters","pubsubTopic"],C);const b=d(n,["negativePrompt"]);t!==void 0&&b!=null&&m(t,["parameters","negativePrompt"],b);const N=d(n,["enhancePrompt"]);t!==void 0&&N!=null&&m(t,["parameters","enhancePrompt"],N);const _=d(n,["generateAudio"]);t!==void 0&&_!=null&&m(t,["parameters","generateAudio"],_);const E=d(n,["lastFrame"]);t!==void 0&&E!=null&&m(t,["instances[0]","lastFrame"],on(E));const A=d(n,["referenceImages"]);if(t!==void 0&&A!=null){let D=A;Array.isArray(D)&&(D=D.map(B=>XN(B))),m(t,["instances[0]","referenceImages"],D)}const j=d(n,["mask"]);t!==void 0&&j!=null&&m(t,["instances[0]","mask"],KN(j));const M=d(n,["compressionQuality"]);return t!==void 0&&M!=null&&m(t,["parameters","compressionQuality"],M),l}function WS(n){const t={},l=d(n,["name"]);l!=null&&m(t,["name"],l);const i=d(n,["metadata"]);i!=null&&m(t,["metadata"],i);const u=d(n,["done"]);u!=null&&m(t,["done"],u);const c=d(n,["error"]);c!=null&&m(t,["error"],c);const f=d(n,["response","generateVideoResponse"]);return f!=null&&m(t,["response"],sN(f)),t}function eN(n){const t={},l=d(n,["name"]);l!=null&&m(t,["name"],l);const i=d(n,["metadata"]);i!=null&&m(t,["metadata"],i);const u=d(n,["done"]);u!=null&&m(t,["done"],u);const c=d(n,["error"]);c!=null&&m(t,["error"],c);const f=d(n,["response"]);return f!=null&&m(t,["response"],lN(f)),t}function tN(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["_url","model"],Ue(n,i));const u=d(t,["prompt"]);u!=null&&m(l,["instances[0]","prompt"],u);const c=d(t,["image"]);c!=null&&m(l,["instances[0]","image"],To(c));const f=d(t,["video"]);f!=null&&m(l,["instances[0]","video"],Dg(f));const g=d(t,["source"]);g!=null&&aN(g,l);const x=d(t,["config"]);return x!=null&&XS(x,l),l}function nN(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["_url","model"],Ue(n,i));const u=d(t,["prompt"]);u!=null&&m(l,["instances[0]","prompt"],u);const c=d(t,["image"]);c!=null&&m(l,["instances[0]","image"],on(c));const f=d(t,["video"]);f!=null&&m(l,["instances[0]","video"],Ug(f));const g=d(t,["source"]);g!=null&&iN(g,l);const x=d(t,["config"]);return x!=null&&ZS(x,l),l}function sN(n){const t={},l=d(n,["generatedSamples"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>uN(f))),m(t,["generatedVideos"],c)}const i=d(n,["raiMediaFilteredCount"]);i!=null&&m(t,["raiMediaFilteredCount"],i);const u=d(n,["raiMediaFilteredReasons"]);return u!=null&&m(t,["raiMediaFilteredReasons"],u),t}function lN(n){const t={},l=d(n,["videos"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>cN(f))),m(t,["generatedVideos"],c)}const i=d(n,["raiMediaFilteredCount"]);i!=null&&m(t,["raiMediaFilteredCount"],i);const u=d(n,["raiMediaFilteredReasons"]);return u!=null&&m(t,["raiMediaFilteredReasons"],u),t}function aN(n,t){const l={},i=d(n,["prompt"]);t!==void 0&&i!=null&&m(t,["instances[0]","prompt"],i);const u=d(n,["image"]);t!==void 0&&u!=null&&m(t,["instances[0]","image"],To(u));const c=d(n,["video"]);return t!==void 0&&c!=null&&m(t,["instances[0]","video"],Dg(c)),l}function iN(n,t){const l={},i=d(n,["prompt"]);t!==void 0&&i!=null&&m(t,["instances[0]","prompt"],i);const u=d(n,["image"]);t!==void 0&&u!=null&&m(t,["instances[0]","image"],on(u));const c=d(n,["video"]);return t!==void 0&&c!=null&&m(t,["instances[0]","video"],Ug(c)),l}function oN(n){const t={},l=d(n,["_self"]);l!=null&&m(t,["image"],gN(l));const i=d(n,["raiFilteredReason"]);i!=null&&m(t,["raiFilteredReason"],i);const u=d(n,["_self"]);return u!=null&&m(t,["safetyAttributes"],Rg(u)),t}function wo(n){const t={},l=d(n,["_self"]);l!=null&&m(t,["image"],Mg(l));const i=d(n,["raiFilteredReason"]);i!=null&&m(t,["raiFilteredReason"],i);const u=d(n,["_self"]);u!=null&&m(t,["safetyAttributes"],Ig(u));const c=d(n,["prompt"]);return c!=null&&m(t,["enhancedPrompt"],c),t}function rN(n){const t={},l=d(n,["_self"]);l!=null&&m(t,["mask"],Mg(l));const i=d(n,["labels"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>c)),m(t,["labels"],u)}return t}function uN(n){const t={},l=d(n,["video"]);return l!=null&&m(t,["video"],YN(l)),t}function cN(n){const t={},l=d(n,["_self"]);return l!=null&&m(t,["video"],$N(l)),t}function dN(n){const t={},l=d(n,["modelSelectionConfig"]);l!=null&&m(t,["modelConfig"],l);const i=d(n,["responseJsonSchema"]);i!=null&&m(t,["responseJsonSchema"],i);const u=d(n,["audioTimestamp"]);u!=null&&m(t,["audioTimestamp"],u);const c=d(n,["candidateCount"]);c!=null&&m(t,["candidateCount"],c);const f=d(n,["enableAffectiveDialog"]);f!=null&&m(t,["enableAffectiveDialog"],f);const g=d(n,["frequencyPenalty"]);g!=null&&m(t,["frequencyPenalty"],g);const x=d(n,["logprobs"]);x!=null&&m(t,["logprobs"],x);const p=d(n,["maxOutputTokens"]);p!=null&&m(t,["maxOutputTokens"],p);const v=d(n,["mediaResolution"]);v!=null&&m(t,["mediaResolution"],v);const C=d(n,["presencePenalty"]);C!=null&&m(t,["presencePenalty"],C);const b=d(n,["responseLogprobs"]);b!=null&&m(t,["responseLogprobs"],b);const N=d(n,["responseMimeType"]);N!=null&&m(t,["responseMimeType"],N);const _=d(n,["responseModalities"]);_!=null&&m(t,["responseModalities"],_);const E=d(n,["responseSchema"]);E!=null&&m(t,["responseSchema"],E);const A=d(n,["routingConfig"]);A!=null&&m(t,["routingConfig"],A);const j=d(n,["seed"]);j!=null&&m(t,["seed"],j);const M=d(n,["speechConfig"]);M!=null&&m(t,["speechConfig"],jg(M));const D=d(n,["stopSequences"]);D!=null&&m(t,["stopSequences"],D);const B=d(n,["temperature"]);B!=null&&m(t,["temperature"],B);const P=d(n,["thinkingConfig"]);P!=null&&m(t,["thinkingConfig"],P);const Q=d(n,["topK"]);Q!=null&&m(t,["topK"],Q);const q=d(n,["topP"]);if(q!=null&&m(t,["topP"],q),d(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function fN(n,t){const l={},i=d(t,["model"]);return i!=null&&m(l,["_url","name"],Ue(n,i)),l}function mN(n,t){const l={},i=d(t,["model"]);return i!=null&&m(l,["_url","name"],Ue(n,i)),l}function hN(n){const t={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=d(n,["enableWidget"]);return l!=null&&m(t,["enableWidget"],l),t}function pN(n){const t={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=d(n,["timeRangeFilter"]);return l!=null&&m(t,["timeRangeFilter"],l),t}function gN(n){const t={},l=d(n,["bytesBase64Encoded"]);l!=null&&m(t,["imageBytes"],rs(l));const i=d(n,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function Mg(n){const t={},l=d(n,["gcsUri"]);l!=null&&m(t,["gcsUri"],l);const i=d(n,["bytesBase64Encoded"]);i!=null&&m(t,["imageBytes"],rs(i));const u=d(n,["mimeType"]);return u!=null&&m(t,["mimeType"],u),t}function To(n){const t={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=d(n,["imageBytes"]);l!=null&&m(t,["bytesBase64Encoded"],rs(l));const i=d(n,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function on(n){const t={},l=d(n,["gcsUri"]);l!=null&&m(t,["gcsUri"],l);const i=d(n,["imageBytes"]);i!=null&&m(t,["bytesBase64Encoded"],rs(i));const u=d(n,["mimeType"]);return u!=null&&m(t,["mimeType"],u),t}function xN(n,t,l){const i={},u=d(t,["pageSize"]);l!==void 0&&u!=null&&m(l,["_query","pageSize"],u);const c=d(t,["pageToken"]);l!==void 0&&c!=null&&m(l,["_query","pageToken"],c);const f=d(t,["filter"]);l!==void 0&&f!=null&&m(l,["_query","filter"],f);const g=d(t,["queryBase"]);return l!==void 0&&g!=null&&m(l,["_url","models_url"],bg(n,g)),i}function yN(n,t,l){const i={},u=d(t,["pageSize"]);l!==void 0&&u!=null&&m(l,["_query","pageSize"],u);const c=d(t,["pageToken"]);l!==void 0&&c!=null&&m(l,["_query","pageToken"],c);const f=d(t,["filter"]);l!==void 0&&f!=null&&m(l,["_query","filter"],f);const g=d(t,["queryBase"]);return l!==void 0&&g!=null&&m(l,["_url","models_url"],bg(n,g)),i}function vN(n,t){const l={},i=d(t,["config"]);return i!=null&&xN(n,i,l),l}function CN(n,t){const l={},i=d(t,["config"]);return i!=null&&yN(n,i,l),l}function bN(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const u=d(n,["_self"]);if(u!=null){let c=Sg(u);Array.isArray(c)&&(c=c.map(f=>hc(f))),m(t,["models"],c)}return t}function SN(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const u=d(n,["_self"]);if(u!=null){let c=Sg(u);Array.isArray(c)&&(c=c.map(f=>pc(f))),m(t,["models"],c)}return t}function NN(n){const t={},l=d(n,["maskMode"]);l!=null&&m(t,["maskMode"],l);const i=d(n,["segmentationClasses"]);i!=null&&m(t,["maskClasses"],i);const u=d(n,["maskDilation"]);return u!=null&&m(t,["dilation"],u),t}function hc(n){const t={},l=d(n,["name"]);l!=null&&m(t,["name"],l);const i=d(n,["displayName"]);i!=null&&m(t,["displayName"],i);const u=d(n,["description"]);u!=null&&m(t,["description"],u);const c=d(n,["version"]);c!=null&&m(t,["version"],c);const f=d(n,["_self"]);f!=null&&m(t,["tunedModelInfo"],qN(f));const g=d(n,["inputTokenLimit"]);g!=null&&m(t,["inputTokenLimit"],g);const x=d(n,["outputTokenLimit"]);x!=null&&m(t,["outputTokenLimit"],x);const p=d(n,["supportedGenerationMethods"]);p!=null&&m(t,["supportedActions"],p);const v=d(n,["temperature"]);v!=null&&m(t,["temperature"],v);const C=d(n,["maxTemperature"]);C!=null&&m(t,["maxTemperature"],C);const b=d(n,["topP"]);b!=null&&m(t,["topP"],b);const N=d(n,["topK"]);N!=null&&m(t,["topK"],N);const _=d(n,["thinking"]);return _!=null&&m(t,["thinking"],_),t}function pc(n){const t={},l=d(n,["name"]);l!=null&&m(t,["name"],l);const i=d(n,["displayName"]);i!=null&&m(t,["displayName"],i);const u=d(n,["description"]);u!=null&&m(t,["description"],u);const c=d(n,["versionId"]);c!=null&&m(t,["version"],c);const f=d(n,["deployedModels"]);if(f!=null){let C=f;Array.isArray(C)&&(C=C.map(b=>HS(b))),m(t,["endpoints"],C)}const g=d(n,["labels"]);g!=null&&m(t,["labels"],g);const x=d(n,["_self"]);x!=null&&m(t,["tunedModelInfo"],BN(x));const p=d(n,["defaultCheckpointId"]);p!=null&&m(t,["defaultCheckpointId"],p);const v=d(n,["checkpoints"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(b=>b)),m(t,["checkpoints"],C)}return t}function wN(n){const t={},l=d(n,["functionCall"]);l!=null&&m(t,["functionCall"],l);const i=d(n,["codeExecutionResult"]);i!=null&&m(t,["codeExecutionResult"],i);const u=d(n,["executableCode"]);u!=null&&m(t,["executableCode"],u);const c=d(n,["fileData"]);c!=null&&m(t,["fileData"],zS(c));const f=d(n,["functionResponse"]);f!=null&&m(t,["functionResponse"],f);const g=d(n,["inlineData"]);g!=null&&m(t,["inlineData"],mS(g));const x=d(n,["text"]);x!=null&&m(t,["text"],x);const p=d(n,["thought"]);p!=null&&m(t,["thought"],p);const v=d(n,["thoughtSignature"]);v!=null&&m(t,["thoughtSignature"],v);const C=d(n,["videoMetadata"]);return C!=null&&m(t,["videoMetadata"],C),t}function TN(n){const t={},l=d(n,["productImage"]);return l!=null&&m(t,["image"],on(l)),t}function EN(n,t){const l={},i=d(n,["numberOfImages"]);t!==void 0&&i!=null&&m(t,["parameters","sampleCount"],i);const u=d(n,["baseSteps"]);t!==void 0&&u!=null&&m(t,["parameters","baseSteps"],u);const c=d(n,["outputGcsUri"]);t!==void 0&&c!=null&&m(t,["parameters","storageUri"],c);const f=d(n,["seed"]);t!==void 0&&f!=null&&m(t,["parameters","seed"],f);const g=d(n,["safetyFilterLevel"]);t!==void 0&&g!=null&&m(t,["parameters","safetySetting"],g);const x=d(n,["personGeneration"]);t!==void 0&&x!=null&&m(t,["parameters","personGeneration"],x);const p=d(n,["addWatermark"]);t!==void 0&&p!=null&&m(t,["parameters","addWatermark"],p);const v=d(n,["outputMimeType"]);t!==void 0&&v!=null&&m(t,["parameters","outputOptions","mimeType"],v);const C=d(n,["outputCompressionQuality"]);t!==void 0&&C!=null&&m(t,["parameters","outputOptions","compressionQuality"],C);const b=d(n,["enhancePrompt"]);t!==void 0&&b!=null&&m(t,["parameters","enhancePrompt"],b);const N=d(n,["labels"]);return t!==void 0&&N!=null&&m(t,["labels"],N),l}function _N(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["_url","model"],Ue(n,i));const u=d(t,["source"]);u!=null&&MN(u,l);const c=d(t,["config"]);return c!=null&&EN(c,l),l}function AN(n){const t={},l=d(n,["predictions"]);if(l!=null){let i=l;Array.isArray(i)&&(i=i.map(u=>wo(u))),m(t,["generatedImages"],i)}return t}function MN(n,t){const l={},i=d(n,["prompt"]);t!==void 0&&i!=null&&m(t,["instances[0]","prompt"],i);const u=d(n,["personImage"]);t!==void 0&&u!=null&&m(t,["instances[0]","personImage","image"],on(u));const c=d(n,["productImages"]);if(t!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(g=>TN(g))),m(t,["instances[0]","productImages"],f)}return l}function RN(n){const t={},l=d(n,["referenceImage"]);l!=null&&m(t,["referenceImage"],on(l));const i=d(n,["referenceId"]);i!=null&&m(t,["referenceId"],i);const u=d(n,["referenceType"]);u!=null&&m(t,["referenceType"],u);const c=d(n,["maskImageConfig"]);c!=null&&m(t,["maskImageConfig"],NN(c));const f=d(n,["controlImageConfig"]);f!=null&&m(t,["controlImageConfig"],CS(f));const g=d(n,["styleImageConfig"]);g!=null&&m(t,["styleImageConfig"],g);const x=d(n,["subjectImageConfig"]);return x!=null&&m(t,["subjectImageConfig"],x),t}function Rg(n){const t={},l=d(n,["safetyAttributes","categories"]);l!=null&&m(t,["categories"],l);const i=d(n,["safetyAttributes","scores"]);i!=null&&m(t,["scores"],i);const u=d(n,["contentType"]);return u!=null&&m(t,["contentType"],u),t}function Ig(n){const t={},l=d(n,["safetyAttributes","categories"]);l!=null&&m(t,["categories"],l);const i=d(n,["safetyAttributes","scores"]);i!=null&&m(t,["scores"],i);const u=d(n,["contentType"]);return u!=null&&m(t,["contentType"],u),t}function IN(n){const t={},l=d(n,["category"]);if(l!=null&&m(t,["category"],l),d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=d(n,["threshold"]);return i!=null&&m(t,["threshold"],i),t}function jN(n){const t={},l=d(n,["image"]);return l!=null&&m(t,["image"],on(l)),t}function kN(n,t){const l={},i=d(n,["mode"]);t!==void 0&&i!=null&&m(t,["parameters","mode"],i);const u=d(n,["maxPredictions"]);t!==void 0&&u!=null&&m(t,["parameters","maxPredictions"],u);const c=d(n,["confidenceThreshold"]);t!==void 0&&c!=null&&m(t,["parameters","confidenceThreshold"],c);const f=d(n,["maskDilation"]);t!==void 0&&f!=null&&m(t,["parameters","maskDilation"],f);const g=d(n,["binaryColorThreshold"]);t!==void 0&&g!=null&&m(t,["parameters","binaryColorThreshold"],g);const x=d(n,["labels"]);return t!==void 0&&x!=null&&m(t,["labels"],x),l}function DN(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["_url","model"],Ue(n,i));const u=d(t,["source"]);u!=null&&LN(u,l);const c=d(t,["config"]);return c!=null&&kN(c,l),l}function UN(n){const t={},l=d(n,["predictions"]);if(l!=null){let i=l;Array.isArray(i)&&(i=i.map(u=>rN(u))),m(t,["generatedMasks"],i)}return t}function LN(n,t){const l={},i=d(n,["prompt"]);t!==void 0&&i!=null&&m(t,["instances[0]","prompt"],i);const u=d(n,["image"]);t!==void 0&&u!=null&&m(t,["instances[0]","image"],on(u));const c=d(n,["scribbleImage"]);return t!==void 0&&c!=null&&m(t,["instances[0]","scribble"],jN(c)),l}function jg(n){const t={},l=d(n,["languageCode"]);l!=null&&m(t,["languageCode"],l);const i=d(n,["voiceConfig"]);if(i!=null&&m(t,["voiceConfig"],i),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function PN(n){const t={},l=d(n,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(C=>C)),m(t,["functionDeclarations"],v)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(n,["googleSearchRetrieval"]);i!=null&&m(t,["googleSearchRetrieval"],i);const u=d(n,["computerUse"]);u!=null&&m(t,["computerUse"],u);const c=d(n,["fileSearch"]);c!=null&&m(t,["fileSearch"],c);const f=d(n,["codeExecution"]);if(f!=null&&m(t,["codeExecution"],f),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=d(n,["googleMaps"]);g!=null&&m(t,["googleMaps"],hN(g));const x=d(n,["googleSearch"]);x!=null&&m(t,["googleSearch"],pN(x));const p=d(n,["urlContext"]);return p!=null&&m(t,["urlContext"],p),t}function kg(n){const t={},l=d(n,["functionDeclarations"]);if(l!=null){let C=l;Array.isArray(C)&&(C=C.map(b=>VS(b))),m(t,["functionDeclarations"],C)}const i=d(n,["retrieval"]);i!=null&&m(t,["retrieval"],i);const u=d(n,["googleSearchRetrieval"]);u!=null&&m(t,["googleSearchRetrieval"],u);const c=d(n,["computerUse"]);if(c!=null&&m(t,["computerUse"],c),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=d(n,["codeExecution"]);f!=null&&m(t,["codeExecution"],f);const g=d(n,["enterpriseWebSearch"]);g!=null&&m(t,["enterpriseWebSearch"],g);const x=d(n,["googleMaps"]);x!=null&&m(t,["googleMaps"],x);const p=d(n,["googleSearch"]);p!=null&&m(t,["googleSearch"],p);const v=d(n,["urlContext"]);return v!=null&&m(t,["urlContext"],v),t}function qN(n){const t={},l=d(n,["baseModel"]);l!=null&&m(t,["baseModel"],l);const i=d(n,["createTime"]);i!=null&&m(t,["createTime"],i);const u=d(n,["updateTime"]);return u!=null&&m(t,["updateTime"],u),t}function BN(n){const t={},l=d(n,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&m(t,["baseModel"],l);const i=d(n,["createTime"]);i!=null&&m(t,["createTime"],i);const u=d(n,["updateTime"]);return u!=null&&m(t,["updateTime"],u),t}function HN(n,t){const l={},i=d(n,["displayName"]);t!==void 0&&i!=null&&m(t,["displayName"],i);const u=d(n,["description"]);t!==void 0&&u!=null&&m(t,["description"],u);const c=d(n,["defaultCheckpointId"]);return t!==void 0&&c!=null&&m(t,["defaultCheckpointId"],c),l}function zN(n,t){const l={},i=d(n,["displayName"]);t!==void 0&&i!=null&&m(t,["displayName"],i);const u=d(n,["description"]);t!==void 0&&u!=null&&m(t,["description"],u);const c=d(n,["defaultCheckpointId"]);return t!==void 0&&c!=null&&m(t,["defaultCheckpointId"],c),l}function VN(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["_url","name"],Ue(n,i));const u=d(t,["config"]);return u!=null&&HN(u,l),l}function GN(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["_url","model"],Ue(n,i));const u=d(t,["config"]);return u!=null&&zN(u,l),l}function ON(n,t){const l={},i=d(n,["outputGcsUri"]);t!==void 0&&i!=null&&m(t,["parameters","storageUri"],i);const u=d(n,["safetyFilterLevel"]);t!==void 0&&u!=null&&m(t,["parameters","safetySetting"],u);const c=d(n,["personGeneration"]);t!==void 0&&c!=null&&m(t,["parameters","personGeneration"],c);const f=d(n,["includeRaiReason"]);t!==void 0&&f!=null&&m(t,["parameters","includeRaiReason"],f);const g=d(n,["outputMimeType"]);t!==void 0&&g!=null&&m(t,["parameters","outputOptions","mimeType"],g);const x=d(n,["outputCompressionQuality"]);t!==void 0&&x!=null&&m(t,["parameters","outputOptions","compressionQuality"],x);const p=d(n,["enhanceInputImage"]);t!==void 0&&p!=null&&m(t,["parameters","upscaleConfig","enhanceInputImage"],p);const v=d(n,["imagePreservationFactor"]);t!==void 0&&v!=null&&m(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const C=d(n,["labels"]);t!==void 0&&C!=null&&m(t,["labels"],C);const b=d(n,["numberOfImages"]);t!==void 0&&b!=null&&m(t,["parameters","sampleCount"],b);const N=d(n,["mode"]);return t!==void 0&&N!=null&&m(t,["parameters","mode"],N),l}function FN(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["_url","model"],Ue(n,i));const u=d(t,["image"]);u!=null&&m(l,["instances[0]","image"],on(u));const c=d(t,["upscaleFactor"]);c!=null&&m(l,["parameters","upscaleConfig","upscaleFactor"],c);const f=d(t,["config"]);return f!=null&&ON(f,l),l}function JN(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["predictions"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>wo(c))),m(t,["generatedImages"],u)}return t}function YN(n){const t={},l=d(n,["uri"]);l!=null&&m(t,["uri"],l);const i=d(n,["encodedVideo"]);i!=null&&m(t,["videoBytes"],rs(i));const u=d(n,["encoding"]);return u!=null&&m(t,["mimeType"],u),t}function $N(n){const t={},l=d(n,["gcsUri"]);l!=null&&m(t,["uri"],l);const i=d(n,["bytesBase64Encoded"]);i!=null&&m(t,["videoBytes"],rs(i));const u=d(n,["mimeType"]);return u!=null&&m(t,["mimeType"],u),t}function KN(n){const t={},l=d(n,["image"]);l!=null&&m(t,["_self"],on(l));const i=d(n,["maskMode"]);return i!=null&&m(t,["maskMode"],i),t}function QN(n){const t={},l=d(n,["image"]);l!=null&&m(t,["image"],To(l));const i=d(n,["referenceType"]);return i!=null&&m(t,["referenceType"],i),t}function XN(n){const t={},l=d(n,["image"]);l!=null&&m(t,["image"],on(l));const i=d(n,["referenceType"]);return i!=null&&m(t,["referenceType"],i),t}function Dg(n){const t={},l=d(n,["uri"]);l!=null&&m(t,["uri"],l);const i=d(n,["videoBytes"]);i!=null&&m(t,["encodedVideo"],rs(i));const u=d(n,["mimeType"]);return u!=null&&m(t,["encoding"],u),t}function Ug(n){const t={},l=d(n,["uri"]);l!=null&&m(t,["gcsUri"],l);const i=d(n,["videoBytes"]);i!=null&&m(t,["bytesBase64Encoded"],rs(i));const u=d(n,["mimeType"]);return u!=null&&m(t,["mimeType"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZN="Content-Type",WN="X-Server-Timeout",ew="User-Agent",gc="x-goog-api-client",tw="1.29.1",nw=`google-genai-sdk/${tw}`,sw="v1beta1",lw="v1beta",g0=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class aw{constructor(t){var l,i;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:sw,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:lw,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&i.push(t.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,i){const u=[this.getRequestUrlInternal(l)];return i&&u.push(this.getBaseResourcePath()),t!==""&&u.push(t),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),u=this.constructUrl(t.path,l,i);if(t.queryParams)for(const[f,g]of Object.entries(t.queryParams))u.searchParams.append(f,String(g));let c={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=t.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,l,u.toString(),t.abortSignal),this.unaryApiCall(u,c,t.httpMethod)}patchHttpOptions(t,l){const i=JSON.parse(JSON.stringify(t));for(const[u,c]of Object.entries(l))typeof c=="object"?i[u]=Object.assign(Object.assign({},i[u]),c):c!==void 0&&(i[u]=c);return i}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),u=this.constructUrl(t.path,l,i);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let c={};return c.body=t.body,c=await this.includeExtraHttpOptionsToRequestInit(c,l,u.toString(),t.abortSignal),this.streamApiCall(u,c,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,i,u){if(l&&l.timeout||u){const c=new AbortController,f=c.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>c.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}u&&u.addEventListener("abort",()=>{c.abort()}),t.signal=f}return l&&l.extraBody!==null&&iw(t,l.extraBody),t.headers=await this.getHeadersInternal(l,i),t}async unaryApiCall(t,l,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:i})).then(async u=>(await x0(u),new dc(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(t,l,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:i})).then(async u=>(await x0(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(t){var l;return Cl(this,arguments,function*(){const u=(l=t==null?void 0:t.body)===null||l===void 0?void 0:l.getReader(),c=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let f="";for(;;){const{done:g,value:x}=yield Je(u.read());if(g){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=c.decode(x,{stream:!0});try{const C=JSON.parse(p);if("error"in C){const b=JSON.parse(JSON.stringify(C.error)),N=b.status,_=b.code,E=`got status: ${N}. ${JSON.stringify(C)}`;if(_>=400&&_<600)throw new So({message:E,status:_})}}catch(C){if(C.name==="ApiError")throw C}f+=p;let v=f.match(g0);for(;v;){const C=v[1];try{const b=new Response(C,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Je(new dc(b)),f=f.slice(v[0].length),v=f.match(g0)}catch(b){throw new Error(`exception parsing stream chunk ${C}. ${b}`)}}}}finally{u.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const t={},l=nw+" "+this.clientOptions.userAgentExtra;return t[ew]=l,t[gc]=l,t[ZN]="application/json",t}async getHeadersInternal(t,l){const i=new Headers;if(t&&t.headers){for(const[u,c]of Object.entries(t.headers))i.append(u,c);t.timeout&&t.timeout>0&&i.append(WN,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,l),i}getFileName(t){var l;let i="";return typeof t=="string"&&(i=t.replace(/[/\\]+$/,""),i=(l=i.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),i}async uploadFile(t,l){var i;const u={};l!=null&&(u.mimeType=l.mimeType,u.name=l.name,u.displayName=l.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const c=this.clientOptions.uploader,f=await c.stat(t);u.sizeBytes=String(f.size);const g=(i=l==null?void 0:l.mimeType)!==null&&i!==void 0?i:f.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=g;const x={file:u},p=this.getFileName(t),v=ae("upload/v1beta/files",x._url),C=await this.fetchUploadUrl(v,u.sizeBytes,u.mimeType,p,x,l==null?void 0:l.httpOptions);return c.upload(t,C,this)}async uploadFileToFileSearchStore(t,l,i){var u;const c=this.clientOptions.uploader,f=await c.stat(l),g=String(f.size),x=(u=i==null?void 0:i.mimeType)!==null&&u!==void 0?u:f.type;if(x===void 0||x==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(l),C={};i!=null&&i.customMetadata&&(C.customMetadata=i.customMetadata),i!=null&&i.chunkingConfig&&(C.chunkingConfig=i.chunkingConfig);const b=await this.fetchUploadUrl(p,g,x,v,C,i==null?void 0:i.httpOptions);return c.uploadToFileSearchStore(l,b,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,i,u,c,f){var g;let x={};f?x=f:x={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${i}`},u?{"X-Goog-Upload-File-Name":u}:{})};const p=await this.request({path:t,body:JSON.stringify(c),httpMethod:"POST",httpOptions:x});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=p==null?void 0:p.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function x0(n){var t;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const l=n.status;let i;!((t=n.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?i=await n.json():i={error:{message:await n.text(),code:n.status,status:n.statusText}};const u=JSON.stringify(i);throw l>=400&&l<600?new So({message:u,status:l}):new Error(u)}}function iw(n,t){if(!t||Object.keys(t).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof n.body=="string"&&n.body.length>0)try{const c=JSON.parse(n.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))l=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(c,f){const g=Object.assign({},c);for(const x in f)if(Object.prototype.hasOwnProperty.call(f,x)){const p=f[x],v=g[x];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?g[x]=i(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${x}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),g[x]=p)}return g}const u=i(l,t);n.body=JSON.stringify(u)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ow="mcp_used/unknown";let rw=!1;function Lg(n){for(const t of n)if(uw(t)||typeof t=="object"&&"inputSchema"in t)return!0;return rw}function Pg(n){var t;const l=(t=n[gc])!==null&&t!==void 0?t:"";n[gc]=(l+` ${ow}`).trimStart()}function uw(n){return n!==null&&typeof n=="object"&&n instanceof Bc}function cw(n,t=100){return Cl(this,arguments,function*(){let i,u=0;for(;u<t;){const c=yield Je(n.listTools({cursor:i}));for(const f of c.tools)yield yield Je(f),u++;if(!c.nextCursor)break;i=c.nextCursor}})}class Bc{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new Bc(t,l)}async initialize(){var t,l,i,u;if(this.mcpTools.length>0)return;const c={},f=[];for(const v of this.mcpClients)try{for(var g=!0,x=(l=void 0,Ma(cw(v))),p;p=await x.next(),t=p.done,!t;g=!0){u=p.value,g=!1;const C=u;f.push(C);const b=C.name;if(c[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);c[b]=v}}catch(C){l={error:C}}finally{try{!g&&!t&&(i=x.return)&&await i.call(x)}finally{if(l)throw l.error}}this.mcpTools=f,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),pC(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const i of t)if(i.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[i.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const f=await u.callTool({name:i.name,arguments:i.args},void 0,c);l.push({functionResponse:{name:i.name,response:f.isError?{error:f}:f}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function dw(n,t,l){const i=new oC;let u;l.data instanceof Blob?u=JSON.parse(await l.data.text()):u=JSON.parse(l.data),Object.assign(i,u),t(i)}class fw{constructor(t,l,i){this.apiClient=t,this.auth=l,this.webSocketFactory=i}async connect(t){var l,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),f=pw(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),x=`${u}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${g}`;let p=()=>{};const v=new Promise(D=>{p=D}),C=t.callbacks,b=function(){p({})},N=this.apiClient,_={onopen:b,onmessage:D=>{dw(N,C.onmessage,D)},onerror:(l=C==null?void 0:C.onerror)!==null&&l!==void 0?l:function(D){},onclose:(i=C==null?void 0:C.onclose)!==null&&i!==void 0?i:function(D){}},E=this.webSocketFactory.create(x,hw(f),_);E.connect(),await v;const M={setup:{model:Ue(this.apiClient,t.model)}};return E.send(JSON.stringify(M)),new mw(E,this.apiClient)}}class mw{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=lS(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=sS(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(yl.PLAY)}pause(){this.sendPlaybackControl(yl.PAUSE)}stop(){this.sendPlaybackControl(yl.STOP)}resetContext(){this.sendPlaybackControl(yl.RESET_CONTEXT)}close(){this.conn.close()}}function hw(n){const t={};return n.forEach((l,i)=>{t[i]=l}),t}function pw(n){const t=new Headers;for(const[l,i]of Object.entries(n))t.append(l,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gw="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function xw(n,t,l){const i=new iC;let u;l.data instanceof Blob?u=await l.data.text():l.data instanceof ArrayBuffer?u=new TextDecoder().decode(l.data):u=l.data;const c=JSON.parse(u);if(n.isVertexAI()){const f=oS(c);Object.assign(i,f)}else Object.assign(i,c);t(i)}class yw{constructor(t,l,i){this.apiClient=t,this.auth=l,this.webSocketFactory=i,this.music=new fw(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,i,u,c,f,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const x=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const C=this.apiClient.getHeaders();t.config&&t.config.tools&&Lg(t.config.tools)&&Pg(C);const b=Sw(C);if(this.apiClient.isVertexAI())v=`${x}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b,v);else{const V=this.apiClient.getApiKey();let K="BidiGenerateContent",ne="key";V!=null&&V.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),K="BidiGenerateContentConstrained",ne="access_token"),v=`${x}/ws/google.ai.generativelanguage.${p}.GenerativeService.${K}?${ne}=${V}`}let N=()=>{};const _=new Promise(V=>{N=V}),E=t.callbacks,A=function(){var V;(V=E==null?void 0:E.onopen)===null||V===void 0||V.call(E),N({})},j=this.apiClient,M={onopen:A,onmessage:V=>{xw(j,E.onmessage,V)},onerror:(l=E==null?void 0:E.onerror)!==null&&l!==void 0?l:function(V){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(V){}},D=this.webSocketFactory.create(v,bw(b),M);D.connect(),await _;let B=Ue(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const V=this.apiClient.getProject(),K=this.apiClient.getLocation();B=`projects/${V}/locations/${K}/`+B}let P={};this.apiClient.isVertexAI()&&((u=t.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[po.AUDIO]}:t.config.responseModalities=[po.AUDIO]),!((c=t.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Q=(g=(f=t.config)===null||f===void 0?void 0:f.tools)!==null&&g!==void 0?g:[],q=[];for(const V of Q)if(this.isCallableTool(V)){const K=V;q.push(await K.tool())}else q.push(V);q.length>0&&(t.config.tools=q);const $={model:B,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?P=nS(this.apiClient,$):P=tS(this.apiClient,$),delete P.config,D.send(JSON.stringify(P)),new Cw(D,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const vw={turnComplete:!0};class Cw{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let i=[];try{i=Xt(l.turns),t.isVertexAI()||(i=i.map(u=>No(u)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:i,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let i=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?i=l.functionResponses:i=[l.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const c of i){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!t.isVertexAI()&&!("id"in c))throw new Error(gw)}return{toolResponse:{functionResponses:i}}}sendClientContent(t){t=Object.assign(Object.assign({},vw),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:iS(t)}:l={realtimeInput:aS(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function bw(n){const t={};return n.forEach((l,i)=>{t[i]=l}),t}function Sw(n){const t=new Headers;for(const[l,i]of Object.entries(n))t.append(l,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const y0=10;function v0(n){var t,l,i;if(!((t=n==null?void 0:n.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let u=!1;for(const f of(l=n==null?void 0:n.tools)!==null&&l!==void 0?l:[])if(bl(f)){u=!0;break}if(!u)return!0;const c=(i=n==null?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function bl(n){return"callTool"in n&&typeof n.callTool=="function"}function Nw(n){var t,l,i;return(i=(l=(t=n.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(u=>bl(u)))!==null&&i!==void 0?i:!1}function C0(n){var t;const l=[];return!((t=n==null?void 0:n.config)===null||t===void 0)&&t.tools&&n.config.tools.forEach((i,u)=>{if(bl(i))return;const c=i;c.functionDeclarations&&c.functionDeclarations.length>0&&l.push(u)}),l}function b0(n){var t;return!(!((t=n==null?void 0:n.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ww extends Ln{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var i,u,c,f,g;const x=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!Nw(l)||v0(l.config))return await this.generateContentInternal(x);const p=C0(l);if(p.length>0){const E=p.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let v,C;const b=Xt(x.contents),N=(c=(u=(i=x.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&c!==void 0?c:y0;let _=0;for(;_<N&&(v=await this.generateContentInternal(x),!(!v.functionCalls||v.functionCalls.length===0));){const E=v.candidates[0].content,A=[];for(const j of(g=(f=l.config)===null||f===void 0?void 0:f.tools)!==null&&g!==void 0?g:[])if(bl(j)){const D=await j.callTool(v.functionCalls);A.push(...D)}_++,C={role:"user",parts:A},x.contents=Xt(x.contents),x.contents.push(E),x.contents.push(C),b0(x.config)&&(b.push(E),b.push(C))}return b0(x.config)&&(v.automaticFunctionCallingHistory=b),v},this.generateContentStream=async l=>{if(this.maybeMoveToResponseJsonSchem(l),v0(l.config)){const u=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(u)}const i=C0(l);if(i.length>0){const u=i.map(c=>`tools[${c}]`).join(", ");throw new Error(`Incompatible tools found at ${u}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(i=>{var u;let c;const f=[];if(i!=null&&i.generatedImages)for(const x of i.generatedImages)x&&(x!=null&&x.safetyAttributes)&&((u=x==null?void 0:x.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?c=x==null?void 0:x.safetyAttributes:f.push(x);let g;return c?g={generatedImages:f,positivePromptSafetyAttributes:c,sdkHttpResponse:i.sdkHttpResponse}:g={generatedImages:f,sdkHttpResponse:i.sdkHttpResponse},g}),this.list=async l=>{var i;const f={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((i=f.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new Is(Un.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(f),f)},this.editImage=async l=>{const i={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(i.referenceImages=l.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async l=>{let i={numberOfImages:1,mode:"upscale"};l.config&&(i=Object.assign(Object.assign({},i),l.config));const u={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:i};return await this.upscaleImageInternal(u)},this.generateVideos=async l=>{var i,u,c,f,g,x;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=l.video)===null||i===void 0)&&i.uri&&(!((u=l.video)===null||u===void 0)&&u.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((f=(c=l.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.uri&&(!((x=(g=l.source)===null||g===void 0?void 0:g.video)===null||x===void 0)&&x.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,i,u;const c=(l=t.config)===null||l===void 0?void 0:l.tools;if(!c)return t;const f=await Promise.all(c.map(async x=>bl(x)?await x.tool():x)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:f})};if(g.config.tools=f,t.config&&t.config.tools&&Lg(t.config.tools)){const x=(u=(i=t.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&u!==void 0?u:{};let p=Object.assign({},x);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),Pg(p),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:p})}return g}async initAfcToolsMap(t){var l,i,u;const c=new Map;for(const f of(i=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&i!==void 0?i:[])if(bl(f)){const g=f,x=await g.tool();for(const p of(u=x.functionDeclarations)!==null&&u!==void 0?u:[]){if(!p.name)throw new Error("Function declaration name is required.");if(c.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);c.set(p.name,g)}}return c}async processAfcStream(t){var l,i,u;const c=(u=(i=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&u!==void 0?u:y0;let f=!1,g=0;const x=await this.initAfcToolsMap(t);return(function(p,v,C){var b,N;return Cl(this,arguments,function*(){for(var _,E,A,j;g<c;){f&&(g++,f=!1);const P=yield Je(p.processParamsMaybeAddMcpUsage(C)),Q=yield Je(p.generateContentStreamInternal(P)),q=[],$=[];try{for(var M=!0,D=(E=void 0,Ma(Q)),B;B=yield Je(D.next()),_=B.done,!_;M=!0){j=B.value,M=!1;const V=j;if(yield yield Je(V),V.candidates&&(!((b=V.candidates[0])===null||b===void 0)&&b.content)){$.push(V.candidates[0].content);for(const K of(N=V.candidates[0].content.parts)!==null&&N!==void 0?N:[])if(g<c&&K.functionCall){if(!K.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(K.functionCall.name)){const ne=yield Je(v.get(K.functionCall.name).callTool([K.functionCall]));q.push(...ne)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${K.functionCall.name}`)}}}}catch(V){E={error:V}}finally{try{!M&&!_&&(A=D.return)&&(yield Je(A.call(D)))}finally{if(E)throw E.error}}if(q.length>0){f=!0;const V=new _a;V.candidates=[{content:{role:"user",parts:q}}],yield yield Je(V);const K=[];K.push(...$),K.push({role:"user",parts:q});const ne=Xt(C.contents).concat(K);C.contents=ne}else break}})})(this,x,t)}async generateContentInternal(t){var l,i,u,c;let f,g="",x={};if(this.apiClient.isVertexAI()){const p=m0(this.apiClient,t);return g=ae("{model}:generateContent",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:v.headers},b})),f.then(v=>{const C=p0(v),b=new _a;return Object.assign(b,C),b})}else{const p=f0(this.apiClient,t);return g=ae("{model}:generateContent",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:v.headers},b})),f.then(v=>{const C=h0(v),b=new _a;return Object.assign(b,C),b})}}async generateContentStreamInternal(t){var l,i,u,c;let f,g="",x={};if(this.apiClient.isVertexAI()){const p=m0(this.apiClient,t);return g=ae("{model}:streamGenerateContent?alt=sse",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.requestStream({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),f.then(function(C){return Cl(this,arguments,function*(){var b,N,_,E;try{for(var A=!0,j=Ma(C),M;M=yield Je(j.next()),b=M.done,!b;A=!0){E=M.value,A=!1;const D=E,B=p0(yield Je(D.json()));B.sdkHttpResponse={headers:D.headers};const P=new _a;Object.assign(P,B),yield yield Je(P)}}catch(D){N={error:D}}finally{try{!A&&!b&&(_=j.return)&&(yield Je(_.call(j)))}finally{if(N)throw N.error}}})})}else{const p=f0(this.apiClient,t);return g=ae("{model}:streamGenerateContent?alt=sse",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.requestStream({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}),f.then(function(C){return Cl(this,arguments,function*(){var b,N,_,E;try{for(var A=!0,j=Ma(C),M;M=yield Je(j.next()),b=M.done,!b;A=!0){E=M.value,A=!1;const D=E,B=h0(yield Je(D.json()));B.sdkHttpResponse={headers:D.headers};const P=new _a;Object.assign(P,B),yield yield Je(P)}}catch(D){N={error:D}}finally{try{!A&&!b&&(_=j.return)&&(yield Je(_.call(j)))}finally{if(N)throw N.error}}})})}}async embedContent(t){var l,i,u,c;let f,g="",x={};if(this.apiClient.isVertexAI()){const p=PS(this.apiClient,t);return g=ae("{model}:predict",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:v.headers},b})),f.then(v=>{const C=BS(v),b=new Qp;return Object.assign(b,C),b})}else{const p=LS(this.apiClient,t);return g=ae("{model}:batchEmbedContents",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:v.headers},b})),f.then(v=>{const C=qS(v),b=new Qp;return Object.assign(b,C),b})}}async generateImagesInternal(t){var l,i,u,c;let f,g="",x={};if(this.apiClient.isVertexAI()){const p=$S(this.apiClient,t);return g=ae("{model}:predict",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:v.headers},b})),f.then(v=>{const C=QS(v),b=new Xp;return Object.assign(b,C),b})}else{const p=YS(this.apiClient,t);return g=ae("{model}:predict",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:v.headers},b})),f.then(v=>{const C=KS(v),b=new Xp;return Object.assign(b,C),b})}}async editImageInternal(t){var l,i;let u,c="",f={};if(this.apiClient.isVertexAI()){const g=jS(this.apiClient,t);return c=ae("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:x.headers},v})),u.then(x=>{const p=kS(x),v=new K2;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,i;let u,c="",f={};if(this.apiClient.isVertexAI()){const g=FN(this.apiClient,t);return c=ae("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:x.headers},v})),u.then(x=>{const p=JN(x),v=new Q2;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,i;let u,c="",f={};if(this.apiClient.isVertexAI()){const g=_N(this.apiClient,t);return c=ae("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),u.then(x=>{const p=AN(x),v=new X2;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,i;let u,c="",f={};if(this.apiClient.isVertexAI()){const g=DN(this.apiClient,t);return c=ae("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),u.then(x=>{const p=UN(x),v=new Z2;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,i,u,c;let f,g="",x={};if(this.apiClient.isVertexAI()){const p=mN(this.apiClient,t);return g=ae("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>pc(v))}else{const p=fN(this.apiClient,t);return g=ae("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>hc(v))}}async listInternal(t){var l,i,u,c;let f,g="",x={};if(this.apiClient.isVertexAI()){const p=CN(this.apiClient,t);return g=ae("{models_url}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:v.headers},b})),f.then(v=>{const C=SN(v),b=new Zp;return Object.assign(b,C),b})}else{const p=vN(this.apiClient,t);return g=ae("{models_url}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:v.headers},b})),f.then(v=>{const C=bN(v),b=new Zp;return Object.assign(b,C),b})}}async update(t){var l,i,u,c;let f,g="",x={};if(this.apiClient.isVertexAI()){const p=GN(this.apiClient,t);return g=ae("{model}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>pc(v))}else{const p=VN(this.apiClient,t);return g=ae("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>hc(v))}}async delete(t){var l,i,u,c;let f,g="",x={};if(this.apiClient.isVertexAI()){const p=AS(this.apiClient,t);return g=ae("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:v.headers},b})),f.then(v=>{const C=RS(v),b=new Wp;return Object.assign(b,C),b})}else{const p=_S(this.apiClient,t);return g=ae("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:v.headers},b})),f.then(v=>{const C=MS(v),b=new Wp;return Object.assign(b,C),b})}}async countTokens(t){var l,i,u,c;let f,g="",x={};if(this.apiClient.isVertexAI()){const p=wS(this.apiClient,t);return g=ae("{model}:countTokens",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:v.headers},b})),f.then(v=>{const C=ES(v),b=new e0;return Object.assign(b,C),b})}else{const p=NS(this.apiClient,t);return g=ae("{model}:countTokens",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:v.headers},b})),f.then(v=>{const C=TS(v),b=new e0;return Object.assign(b,C),b})}}async computeTokens(t){var l,i;let u,c="",f={};if(this.apiClient.isVertexAI()){const g=gS(this.apiClient,t);return c=ae("{model}:computeTokens",g._url),f=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:x.headers},v})),u.then(x=>{const p=xS(x),v=new W2;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,i,u,c;let f,g="",x={};if(this.apiClient.isVertexAI()){const p=nN(this.apiClient,t);return g=ae("{model}:predictLongRunning",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f.then(v=>{const C=eN(v),b=new go;return Object.assign(b,C),b})}else{const p=tN(this.apiClient,t);return g=ae("{model}:predictLongRunning",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f.then(v=>{const C=WS(v),b=new go;return Object.assign(b,C),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tw extends Ln{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,i=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=l.name.split("/operations/")[0];let c;i&&"httpOptions"in i&&(c=i.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:u,config:{httpOptions:c}});return l._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:l.name,config:i});return l._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async get(t){const l=t.operation,i=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=l.name.split("/operations/")[0];let c;i&&"httpOptions"in i&&(c=i.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:u,config:{httpOptions:c}});return l._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:l.name,config:i});return l._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,i,u,c;let f,g="",x={};if(this.apiClient.isVertexAI()){const p=G2(t);return g=ae("{operationName}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),f}else{const p=V2(t);return g=ae("{operationName}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),f}}async fetchPredictVideosOperationInternal(t){var l,i;let u,c="",f={};if(this.apiClient.isVertexAI()){const g=U2(t);return c=ae("{resourceName}:fetchPredictOperation",g._url),f=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ew(n){const t={},l=d(n,["data"]);if(l!=null&&m(t,["data"],l),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(n,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function _w(n){const t={},l=d(n,["parts"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Uw(c))),m(t,["parts"],u)}const i=d(n,["role"]);return i!=null&&m(t,["role"],i),t}function Aw(n,t,l){const i={},u=d(t,["expireTime"]);l!==void 0&&u!=null&&m(l,["expireTime"],u);const c=d(t,["newSessionExpireTime"]);l!==void 0&&c!=null&&m(l,["newSessionExpireTime"],c);const f=d(t,["uses"]);l!==void 0&&f!=null&&m(l,["uses"],f);const g=d(t,["liveConnectConstraints"]);l!==void 0&&g!=null&&m(l,["bidiGenerateContentSetup"],Dw(n,g));const x=d(t,["lockAdditionalFields"]);return l!==void 0&&x!=null&&m(l,["fieldMask"],x),i}function Mw(n,t){const l={},i=d(t,["config"]);return i!=null&&m(l,["config"],Aw(n,i,l)),l}function Rw(n){const t={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=d(n,["fileUri"]);l!=null&&m(t,["fileUri"],l);const i=d(n,["mimeType"]);return i!=null&&m(t,["mimeType"],i),t}function Iw(n){const t={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=d(n,["enableWidget"]);return l!=null&&m(t,["enableWidget"],l),t}function jw(n){const t={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=d(n,["timeRangeFilter"]);return l!=null&&m(t,["timeRangeFilter"],l),t}function kw(n,t){const l={},i=d(n,["generationConfig"]);t!==void 0&&i!=null&&m(t,["setup","generationConfig"],i);const u=d(n,["responseModalities"]);t!==void 0&&u!=null&&m(t,["setup","generationConfig","responseModalities"],u);const c=d(n,["temperature"]);t!==void 0&&c!=null&&m(t,["setup","generationConfig","temperature"],c);const f=d(n,["topP"]);t!==void 0&&f!=null&&m(t,["setup","generationConfig","topP"],f);const g=d(n,["topK"]);t!==void 0&&g!=null&&m(t,["setup","generationConfig","topK"],g);const x=d(n,["maxOutputTokens"]);t!==void 0&&x!=null&&m(t,["setup","generationConfig","maxOutputTokens"],x);const p=d(n,["mediaResolution"]);t!==void 0&&p!=null&&m(t,["setup","generationConfig","mediaResolution"],p);const v=d(n,["seed"]);t!==void 0&&v!=null&&m(t,["setup","generationConfig","seed"],v);const C=d(n,["speechConfig"]);t!==void 0&&C!=null&&m(t,["setup","generationConfig","speechConfig"],qc(C));const b=d(n,["thinkingConfig"]);t!==void 0&&b!=null&&m(t,["setup","generationConfig","thinkingConfig"],b);const N=d(n,["enableAffectiveDialog"]);t!==void 0&&N!=null&&m(t,["setup","generationConfig","enableAffectiveDialog"],N);const _=d(n,["systemInstruction"]);t!==void 0&&_!=null&&m(t,["setup","systemInstruction"],_w(Ct(_)));const E=d(n,["tools"]);if(t!==void 0&&E!=null){let Q=Tl(E);Array.isArray(Q)&&(Q=Q.map(q=>Pw(wl(q)))),m(t,["setup","tools"],Q)}const A=d(n,["sessionResumption"]);t!==void 0&&A!=null&&m(t,["setup","sessionResumption"],Lw(A));const j=d(n,["inputAudioTranscription"]);t!==void 0&&j!=null&&m(t,["setup","inputAudioTranscription"],j);const M=d(n,["outputAudioTranscription"]);t!==void 0&&M!=null&&m(t,["setup","outputAudioTranscription"],M);const D=d(n,["realtimeInputConfig"]);t!==void 0&&D!=null&&m(t,["setup","realtimeInputConfig"],D);const B=d(n,["contextWindowCompression"]);t!==void 0&&B!=null&&m(t,["setup","contextWindowCompression"],B);const P=d(n,["proactivity"]);return t!==void 0&&P!=null&&m(t,["setup","proactivity"],P),l}function Dw(n,t){const l={},i=d(t,["model"]);i!=null&&m(l,["setup","model"],Ue(n,i));const u=d(t,["config"]);return u!=null&&m(l,["config"],kw(u,l)),l}function Uw(n){const t={},l=d(n,["functionCall"]);l!=null&&m(t,["functionCall"],l);const i=d(n,["codeExecutionResult"]);i!=null&&m(t,["codeExecutionResult"],i);const u=d(n,["executableCode"]);u!=null&&m(t,["executableCode"],u);const c=d(n,["fileData"]);c!=null&&m(t,["fileData"],Rw(c));const f=d(n,["functionResponse"]);f!=null&&m(t,["functionResponse"],f);const g=d(n,["inlineData"]);g!=null&&m(t,["inlineData"],Ew(g));const x=d(n,["text"]);x!=null&&m(t,["text"],x);const p=d(n,["thought"]);p!=null&&m(t,["thought"],p);const v=d(n,["thoughtSignature"]);v!=null&&m(t,["thoughtSignature"],v);const C=d(n,["videoMetadata"]);return C!=null&&m(t,["videoMetadata"],C),t}function Lw(n){const t={},l=d(n,["handle"]);if(l!=null&&m(t,["handle"],l),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Pw(n){const t={},l=d(n,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(C=>C)),m(t,["functionDeclarations"],v)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(n,["googleSearchRetrieval"]);i!=null&&m(t,["googleSearchRetrieval"],i);const u=d(n,["computerUse"]);u!=null&&m(t,["computerUse"],u);const c=d(n,["fileSearch"]);c!=null&&m(t,["fileSearch"],c);const f=d(n,["codeExecution"]);if(f!=null&&m(t,["codeExecution"],f),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=d(n,["googleMaps"]);g!=null&&m(t,["googleMaps"],Iw(g));const x=d(n,["googleSearch"]);x!=null&&m(t,["googleSearch"],jw(x));const p=d(n,["urlContext"]);return p!=null&&m(t,["urlContext"],p),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qw(n){const t=[];for(const l in n)if(Object.prototype.hasOwnProperty.call(n,l)){const i=n[l];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const u=Object.keys(i).map(c=>`${l}.${c}`);t.push(...u)}else t.push(l)}return t.join(",")}function Bw(n,t){let l=null;const i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const c=i.setup;typeof c=="object"&&c!==null?(n.bidiGenerateContentSetup=c,l=c):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;const u=n.fieldMask;if(l){const c=qw(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)c?n.fieldMask=c:delete n.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];u.length>0&&(g=u.map(p=>f.includes(p)?`generationConfig.${p}`:p));const x=[];c&&x.push(c),g.length>0&&x.push(...g),x.length>0?n.fieldMask=x.join(","):delete n.fieldMask}else delete n.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?n.fieldMask=u.join(","):delete n.fieldMask;return n}class Hw extends Ln{constructor(t){super(),this.apiClient=t}async create(t){var l,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=Mw(this.apiClient,t);c=ae("auth_tokens",g._url),f=g._query,delete g.config,delete g._url,delete g._query;const x=Bw(g,t.config);return u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),u.then(p=>p)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zw(n,t){const l={},i=d(n,["displayName"]);return t!==void 0&&i!=null&&m(t,["displayName"],i),l}function Vw(n){const t={},l=d(n,["config"]);return l!=null&&zw(l,t),t}function Gw(n,t){const l={},i=d(n,["force"]);return t!==void 0&&i!=null&&m(t,["_query","force"],i),l}function Ow(n){const t={},l=d(n,["name"]);l!=null&&m(t,["_url","name"],l);const i=d(n,["config"]);return i!=null&&Gw(i,t),t}function Fw(n){const t={},l=d(n,["name"]);return l!=null&&m(t,["_url","name"],l),t}function Jw(n,t){const l={},i=d(n,["customMetadata"]);if(t!==void 0&&i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>f)),m(t,["customMetadata"],c)}const u=d(n,["chunkingConfig"]);return t!==void 0&&u!=null&&m(t,["chunkingConfig"],u),l}function Yw(n){const t={},l=d(n,["name"]);l!=null&&m(t,["name"],l);const i=d(n,["metadata"]);i!=null&&m(t,["metadata"],i);const u=d(n,["done"]);u!=null&&m(t,["done"],u);const c=d(n,["error"]);c!=null&&m(t,["error"],c);const f=d(n,["response"]);return f!=null&&m(t,["response"],Kw(f)),t}function $w(n){const t={},l=d(n,["fileSearchStoreName"]);l!=null&&m(t,["_url","file_search_store_name"],l);const i=d(n,["fileName"]);i!=null&&m(t,["fileName"],i);const u=d(n,["config"]);return u!=null&&Jw(u,t),t}function Kw(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["parent"]);i!=null&&m(t,["parent"],i);const u=d(n,["documentName"]);return u!=null&&m(t,["documentName"],u),t}function Qw(n,t){const l={},i=d(n,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const u=d(n,["pageToken"]);return t!==void 0&&u!=null&&m(t,["_query","pageToken"],u),l}function Xw(n){const t={},l=d(n,["config"]);return l!=null&&Qw(l,t),t}function Zw(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const u=d(n,["fileSearchStores"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>f)),m(t,["fileSearchStores"],c)}return t}function Ww(n,t){const l={},i=d(n,["mimeType"]);t!==void 0&&i!=null&&m(t,["mimeType"],i);const u=d(n,["displayName"]);t!==void 0&&u!=null&&m(t,["displayName"],u);const c=d(n,["customMetadata"]);if(t!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(x=>x)),m(t,["customMetadata"],g)}const f=d(n,["chunkingConfig"]);return t!==void 0&&f!=null&&m(t,["chunkingConfig"],f),l}function eT(n){const t={},l=d(n,["fileSearchStoreName"]);l!=null&&m(t,["_url","file_search_store_name"],l);const i=d(n,["config"]);return i!=null&&Ww(i,t),t}function tT(n){const t={},l=d(n,["sdkHttpResponse"]);return l!=null&&m(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nT(n,t){const l={},i=d(n,["force"]);return t!==void 0&&i!=null&&m(t,["_query","force"],i),l}function sT(n){const t={},l=d(n,["name"]);l!=null&&m(t,["_url","name"],l);const i=d(n,["config"]);return i!=null&&nT(i,t),t}function lT(n){const t={},l=d(n,["name"]);return l!=null&&m(t,["_url","name"],l),t}function aT(n,t){const l={},i=d(n,["pageSize"]);t!==void 0&&i!=null&&m(t,["_query","pageSize"],i);const u=d(n,["pageToken"]);return t!==void 0&&u!=null&&m(t,["_query","pageToken"],u),l}function iT(n){const t={},l=d(n,["parent"]);l!=null&&m(t,["_url","parent"],l);const i=d(n,["config"]);return i!=null&&aT(i,t),t}function oT(n){const t={},l=d(n,["sdkHttpResponse"]);l!=null&&m(t,["sdkHttpResponse"],l);const i=d(n,["nextPageToken"]);i!=null&&m(t,["nextPageToken"],i);const u=d(n,["documents"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(f=>f)),m(t,["documents"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rT extends Ln{constructor(t){super(),this.apiClient=t,this.list=async l=>new Is(Un.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:l.parent,config:i.config}),await this.listInternal(l),l)}async get(t){var l,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=lT(t);return c=ae("{name}",g._url),f=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),u.then(x=>x)}}async delete(t){var l,i;let u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=sT(t);u=ae("{name}",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var l,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=iT(t);return c=ae("{parent}/documents",g._url),f=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),u.then(x=>{const p=oT(x),v=new eC;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uT extends Ln{constructor(t,l=new rT(t)){super(),this.apiClient=t,this.documents=l,this.list=async(i={})=>new Is(Un.PAGED_ITEM_FILE_SEARCH_STORES,u=>this.listInternal(u),await this.listInternal(i),i)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Vw(t);return c=ae("fileSearchStores",g._url),f=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),u.then(x=>x)}}async get(t){var l,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Fw(t);return c=ae("{name}",g._url),f=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),u.then(x=>x)}}async delete(t){var l,i;let u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Ow(t);u=ae("{name}",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var l,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Xw(t);return c=ae("fileSearchStores",g._url),f=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),u.then(x=>{const p=Zw(x),v=new tC;return Object.assign(v,p),v})}}async uploadToFileSearchStoreInternal(t){var l,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=eT(t);return c=ae("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),f=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),u.then(x=>{const p=tT(x),v=new nC;return Object.assign(v,p),v})}}async importFile(t){var l,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=$w(t);return c=ae("{file_search_store_name}:importFile",g._url),f=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json()),u.then(x=>{const p=Yw(x),v=new kc;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cT(n,t){const l={},i=d(n,["name"]);return i!=null&&m(l,["_url","name"],i),l}function dT(n,t){const l={},i=d(n,["name"]);return i!=null&&m(l,["_url","name"],i),l}function fT(n,t,l){const i={};if(d(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const u=d(n,["tunedModelDisplayName"]);if(t!==void 0&&u!=null&&m(t,["displayName"],u),d(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=d(n,["epochCount"]);t!==void 0&&c!=null&&m(t,["tuningTask","hyperparameters","epochCount"],c);const f=d(n,["learningRateMultiplier"]);if(f!=null&&m(i,["tuningTask","hyperparameters","learningRateMultiplier"],f),d(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=d(n,["batchSize"]);t!==void 0&&g!=null&&m(t,["tuningTask","hyperparameters","batchSize"],g);const x=d(n,["learningRate"]);if(t!==void 0&&x!=null&&m(t,["tuningTask","hyperparameters","learningRate"],x),d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function mT(n,t,l){const i={};let u=d(l,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const N=d(n,["validationDataset"]);t!==void 0&&N!=null&&m(t,["supervisedTuningSpec"],S0(N))}else if(u==="PREFERENCE_TUNING"){const N=d(n,["validationDataset"]);t!==void 0&&N!=null&&m(t,["preferenceOptimizationSpec"],S0(N))}const c=d(n,["tunedModelDisplayName"]);t!==void 0&&c!=null&&m(t,["tunedModelDisplayName"],c);const f=d(n,["description"]);t!==void 0&&f!=null&&m(t,["description"],f);let g=d(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const N=d(n,["epochCount"]);t!==void 0&&N!=null&&m(t,["supervisedTuningSpec","hyperParameters","epochCount"],N)}else if(g==="PREFERENCE_TUNING"){const N=d(n,["epochCount"]);t!==void 0&&N!=null&&m(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],N)}let x=d(l,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const N=d(n,["learningRateMultiplier"]);t!==void 0&&N!=null&&m(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],N)}else if(x==="PREFERENCE_TUNING"){const N=d(n,["learningRateMultiplier"]);t!==void 0&&N!=null&&m(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],N)}let p=d(l,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const N=d(n,["exportLastCheckpointOnly"]);t!==void 0&&N!=null&&m(t,["supervisedTuningSpec","exportLastCheckpointOnly"],N)}else if(p==="PREFERENCE_TUNING"){const N=d(n,["exportLastCheckpointOnly"]);t!==void 0&&N!=null&&m(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],N)}let v=d(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const N=d(n,["adapterSize"]);t!==void 0&&N!=null&&m(t,["supervisedTuningSpec","hyperParameters","adapterSize"],N)}else if(v==="PREFERENCE_TUNING"){const N=d(n,["adapterSize"]);t!==void 0&&N!=null&&m(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],N)}if(d(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const C=d(n,["labels"]);t!==void 0&&C!=null&&m(t,["labels"],C);const b=d(n,["beta"]);return t!==void 0&&b!=null&&m(t,["preferenceOptimizationSpec","hyperParameters","beta"],b),i}function hT(n,t){const l={},i=d(n,["baseModel"]);i!=null&&m(l,["baseModel"],i);const u=d(n,["preTunedModel"]);u!=null&&m(l,["preTunedModel"],u);const c=d(n,["trainingDataset"]);c!=null&&TT(c);const f=d(n,["config"]);return f!=null&&fT(f,l),l}function pT(n,t){const l={},i=d(n,["baseModel"]);i!=null&&m(l,["baseModel"],i);const u=d(n,["preTunedModel"]);u!=null&&m(l,["preTunedModel"],u);const c=d(n,["trainingDataset"]);c!=null&&ET(c,l,t);const f=d(n,["config"]);return f!=null&&mT(f,l,t),l}function gT(n,t){const l={},i=d(n,["name"]);return i!=null&&m(l,["_url","name"],i),l}function xT(n,t){const l={},i=d(n,["name"]);return i!=null&&m(l,["_url","name"],i),l}function yT(n,t,l){const i={},u=d(n,["pageSize"]);t!==void 0&&u!=null&&m(t,["_query","pageSize"],u);const c=d(n,["pageToken"]);t!==void 0&&c!=null&&m(t,["_query","pageToken"],c);const f=d(n,["filter"]);return t!==void 0&&f!=null&&m(t,["_query","filter"],f),i}function vT(n,t,l){const i={},u=d(n,["pageSize"]);t!==void 0&&u!=null&&m(t,["_query","pageSize"],u);const c=d(n,["pageToken"]);t!==void 0&&c!=null&&m(t,["_query","pageToken"],c);const f=d(n,["filter"]);return t!==void 0&&f!=null&&m(t,["_query","filter"],f),i}function CT(n,t){const l={},i=d(n,["config"]);return i!=null&&yT(i,l),l}function bT(n,t){const l={},i=d(n,["config"]);return i!=null&&vT(i,l),l}function ST(n,t){const l={},i=d(n,["sdkHttpResponse"]);i!=null&&m(l,["sdkHttpResponse"],i);const u=d(n,["nextPageToken"]);u!=null&&m(l,["nextPageToken"],u);const c=d(n,["tunedModels"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(g=>qg(g))),m(l,["tuningJobs"],f)}return l}function NT(n,t){const l={},i=d(n,["sdkHttpResponse"]);i!=null&&m(l,["sdkHttpResponse"],i);const u=d(n,["nextPageToken"]);u!=null&&m(l,["nextPageToken"],u);const c=d(n,["tuningJobs"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(g=>xc(g))),m(l,["tuningJobs"],f)}return l}function wT(n,t){const l={},i=d(n,["name"]);i!=null&&m(l,["model"],i);const u=d(n,["name"]);return u!=null&&m(l,["endpoint"],u),l}function TT(n,t){const l={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=d(n,["examples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>c)),m(l,["examples","examples"],u)}return l}function ET(n,t,l){const i={};let u=d(l,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const f=d(n,["gcsUri"]);t!==void 0&&f!=null&&m(t,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(u==="PREFERENCE_TUNING"){const f=d(n,["gcsUri"]);t!==void 0&&f!=null&&m(t,["preferenceOptimizationSpec","trainingDatasetUri"],f)}let c=d(l,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const f=d(n,["vertexDatasetResource"]);t!==void 0&&f!=null&&m(t,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(c==="PREFERENCE_TUNING"){const f=d(n,["vertexDatasetResource"]);t!==void 0&&f!=null&&m(t,["preferenceOptimizationSpec","trainingDatasetUri"],f)}if(d(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function qg(n,t){const l={},i=d(n,["sdkHttpResponse"]);i!=null&&m(l,["sdkHttpResponse"],i);const u=d(n,["name"]);u!=null&&m(l,["name"],u);const c=d(n,["state"]);c!=null&&m(l,["state"],vg(c));const f=d(n,["createTime"]);f!=null&&m(l,["createTime"],f);const g=d(n,["tuningTask","startTime"]);g!=null&&m(l,["startTime"],g);const x=d(n,["tuningTask","completeTime"]);x!=null&&m(l,["endTime"],x);const p=d(n,["updateTime"]);p!=null&&m(l,["updateTime"],p);const v=d(n,["description"]);v!=null&&m(l,["description"],v);const C=d(n,["baseModel"]);C!=null&&m(l,["baseModel"],C);const b=d(n,["_self"]);return b!=null&&m(l,["tunedModel"],wT(b)),l}function xc(n,t){const l={},i=d(n,["sdkHttpResponse"]);i!=null&&m(l,["sdkHttpResponse"],i);const u=d(n,["name"]);u!=null&&m(l,["name"],u);const c=d(n,["state"]);c!=null&&m(l,["state"],vg(c));const f=d(n,["createTime"]);f!=null&&m(l,["createTime"],f);const g=d(n,["startTime"]);g!=null&&m(l,["startTime"],g);const x=d(n,["endTime"]);x!=null&&m(l,["endTime"],x);const p=d(n,["updateTime"]);p!=null&&m(l,["updateTime"],p);const v=d(n,["error"]);v!=null&&m(l,["error"],v);const C=d(n,["description"]);C!=null&&m(l,["description"],C);const b=d(n,["baseModel"]);b!=null&&m(l,["baseModel"],b);const N=d(n,["tunedModel"]);N!=null&&m(l,["tunedModel"],N);const _=d(n,["preTunedModel"]);_!=null&&m(l,["preTunedModel"],_);const E=d(n,["supervisedTuningSpec"]);E!=null&&m(l,["supervisedTuningSpec"],E);const A=d(n,["preferenceOptimizationSpec"]);A!=null&&m(l,["preferenceOptimizationSpec"],A);const j=d(n,["tuningDataStats"]);j!=null&&m(l,["tuningDataStats"],j);const M=d(n,["encryptionSpec"]);M!=null&&m(l,["encryptionSpec"],M);const D=d(n,["partnerModelTuningSpec"]);D!=null&&m(l,["partnerModelTuningSpec"],D);const B=d(n,["customBaseModel"]);B!=null&&m(l,["customBaseModel"],B);const P=d(n,["experiment"]);P!=null&&m(l,["experiment"],P);const Q=d(n,["labels"]);Q!=null&&m(l,["labels"],Q);const q=d(n,["outputUri"]);q!=null&&m(l,["outputUri"],q);const $=d(n,["pipelineJob"]);$!=null&&m(l,["pipelineJob"],$);const V=d(n,["serviceAccount"]);V!=null&&m(l,["serviceAccount"],V);const K=d(n,["tunedModelDisplayName"]);K!=null&&m(l,["tunedModelDisplayName"],K);const ne=d(n,["veoTuningSpec"]);return ne!=null&&m(l,["veoTuningSpec"],ne),l}function _T(n,t){const l={},i=d(n,["sdkHttpResponse"]);i!=null&&m(l,["sdkHttpResponse"],i);const u=d(n,["name"]);u!=null&&m(l,["name"],u);const c=d(n,["metadata"]);c!=null&&m(l,["metadata"],c);const f=d(n,["done"]);f!=null&&m(l,["done"],f);const g=d(n,["error"]);return g!=null&&m(l,["error"],g),l}function S0(n,t){const l={},i=d(n,["gcsUri"]);i!=null&&m(l,["validationDatasetUri"],i);const u=d(n,["vertexDatasetResource"]);return u!=null&&m(l,["validationDatasetUri"],u),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AT extends Ln{constructor(t){super(),this.apiClient=t,this.get=async l=>await this.getInternal(l),this.list=async(l={})=>new Is(Un.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(l),l),this.tune=async l=>{var i;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const u={tunedModelName:l.baseModel};!((i=l.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(u.checkpointId=l.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},l),{preTunedModel:u});return c.baseModel=void 0,await this.tuneInternal(c)}else{const u=Object.assign({},l);return await this.tuneInternal(u)}else{const u=Object.assign({},l),c=await this.tuneMldevInternal(u);let f="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?f=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(f=c.name.split("/operations/")[0]),{name:f,state:cc.JOB_STATE_QUEUED}}}}async getInternal(t){var l,i,u,c;let f,g="",x={};if(this.apiClient.isVertexAI()){const p=xT(t);return g=ae("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:v.headers},b})),f.then(v=>xc(v))}else{const p=gT(t);return g=ae("{name}",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:v.headers},b})),f.then(v=>qg(v))}}async listInternal(t){var l,i,u,c;let f,g="",x={};if(this.apiClient.isVertexAI()){const p=bT(t);return g=ae("tuningJobs",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:v.headers},b})),f.then(v=>{const C=NT(v),b=new t0;return Object.assign(b,C),b})}else{const p=CT(t);return g=ae("tunedModels",p._url),x=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(C=>{const b=C;return b.sdkHttpResponse={headers:v.headers},b})),f.then(v=>{const C=ST(v),b=new t0;return Object.assign(b,C),b})}}async cancel(t){var l,i,u,c;let f="",g={};if(this.apiClient.isVertexAI()){const x=dT(t);f=ae("{name}:cancel",x._url),g=x._query,delete x._url,delete x._query,await this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}else{const x=cT(t);f=ae("{name}:cancel",x._url),g=x._query,delete x._url,delete x._query,await this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async tuneInternal(t){var l,i;let u,c="",f={};if(this.apiClient.isVertexAI()){const g=pT(t,t);return c=ae("tuningJobs",g._url),f=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:x.headers},v})),u.then(x=>xc(x))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,i;let u,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=hT(t);return c=ae("tunedModels",g._url),f=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(x=>x.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:x.headers},v})),u.then(x=>_T(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MT{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const RT=1024*1024*8,IT=3,jT=1e3,kT=2,yo="x-goog-upload-status";async function DT(n,t,l){var i;const u=await Bg(n,t,l),c=await(u==null?void 0:u.json());if(((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[yo])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function UT(n,t,l){var i;const u=await Bg(n,t,l),c=await(u==null?void 0:u.json());if(((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[yo])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=mg(c),g=new Dc;return Object.assign(g,f),g}async function Bg(n,t,l){var i,u;let c=0,f=0,g=new dc(new Response),x="upload";for(c=n.size;f<c;){const p=Math.min(RT,c-f),v=n.slice(f,f+p);f+p>=c&&(x+=", finalize");let C=0,b=jT;for(;C<IT&&(g=await l.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":String(f),"Content-Length":String(p)}}}),!(!((i=g==null?void 0:g.headers)===null||i===void 0)&&i[yo]));)C++,await PT(b),b=b*kT;if(f+=p,((u=g==null?void 0:g.headers)===null||u===void 0?void 0:u[yo])!=="active")break;if(c<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function LT(n){return{size:n.size,type:n.type}}function PT(n){return new Promise(t=>setTimeout(t,n))}class qT{async upload(t,l,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await DT(t,l,i)}async uploadToFileSearchStore(t,l,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await UT(t,l,i)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await LT(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BT{create(t,l,i){return new HT(t,l,i)}}class HT{constructor(t,l,i){this.url=t,this.headers=l,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const N0="x-goog-api-key";class zT{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(N0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(N0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VT="gl-node/";class ka{constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const i=k2(t.httpOptions,t.vertexai,void 0,void 0);i&&(t.httpOptions?t.httpOptions.baseUrl=i:t.httpOptions={baseUrl:i}),this.apiVersion=t.apiVersion;const u=new zT(this.apiKey);this.apiClient=new aw({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:VT+"web",uploader:new qT,downloader:new MT}),this.models=new ww(this.apiClient),this.live=new yw(this.apiClient,u,new BT),this.batches=new lb(this.apiClient),this.chats=new Lb(this.models,this.apiClient),this.caches=new kb(this.apiClient),this.files=new Jb(this.apiClient),this.operations=new Tw(this.apiClient),this.authTokens=new Hw(this.apiClient),this.tunings=new AT(this.apiClient),this.fileSearchStores=new uT(this.apiClient)}}const GT=({steps:n,currentStep:t})=>o.jsx("div",{className:"flex items-center justify-center space-x-4 mb-12",children:n.map((l,i)=>{const u=i+1,c=u===t,f=u<t;return o.jsxs(z0.Fragment,{children:[o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold transition-colors
                  ${c?"bg-emerald-500 text-white scale-110 ring-4 ring-emerald-200":""}
                  ${f?"bg-emerald-600 text-white":""}
                  ${!c&&!f?"bg-gray-200 text-gray-600":""}
                `,children:f?o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):u}),o.jsx("p",{className:`mt-2 font-medium text-sm transition-colors ${c?"text-emerald-600":"text-gray-500"}`,children:l})]}),i<n.length-1&&o.jsx("div",{className:`flex-1 h-1 rounded-full ${f?"bg-emerald-500":"bg-gray-200"}`})]},l)})}),Ce=({label:n,id:t,hasError:l,className:i,...u})=>o.jsxs("div",{children:[o.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700 mb-2",children:n}),o.jsx("input",{id:t,...u,className:`w-full px-4 py-2 border rounded-lg shadow-sm transition-colors ${l?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-emerald-500 focus:border-emerald-500"} ${i||""}`})]}),Ms=({label:n,id:t,options:l,optionValues:i,hasError:u,className:c,...f})=>{const{t:g}=Ve();return o.jsxs("div",{children:[o.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700 mb-2",children:n}),o.jsxs("select",{id:t,...f,className:`w-full px-4 py-2 border rounded-lg shadow-sm transition-colors bg-white text-gray-900 ${u?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-emerald-500 focus:border-emerald-500"} ${c||""}`,children:[o.jsx("option",{value:"",children:g("general.select")}),l.map((v,C)=>o.jsx("option",{value:i?i[C]:v,children:v},i?i[C]:v))]})]})},xe=({children:n,variant:t="primary",className:l="",...i})=>{const u="font-bold py-3 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50",c={primary:"bg-emerald-500 hover:bg-emerald-600 text-white focus:ring-emerald-500",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-800 focus:ring-gray-400"};return o.jsx("button",{className:`${u} ${c[t]} ${l}`,...i,children:n})},Eo=({isOpen:n,onClose:t,onConfirm:l,title:i,message:u,confirmText:c="",cancelText:f=""})=>{if(!n)return null;const g=x=>{x.target===x.currentTarget&&t()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:g,"aria-modal":"true",role:"dialog",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full relative transform transition-all scale-100",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:i}),o.jsx("div",{className:"text-gray-600 mb-8",children:u}),o.jsxs("div",{className:"flex justify-end items-center gap-4",children:[o.jsx(xe,{variant:"secondary",onClick:t,children:f}),o.jsx(xe,{onClick:l,children:c})]})]})})},OT=({isOpen:n,onClose:t,onSave:l,task:i})=>{const[u,c]=T.useState(""),[f,g]=T.useState(5),[x,p]=T.useState("");if(T.useEffect(()=>{i&&(c(i.description),g(i.impactPoints),p(i.targetUrl||""))},[i]),!n||!i)return null;const v=()=>{l({...i,description:u,impactPoints:f>0?f:1,targetUrl:x.trim()||void 0})},C=b=>{b.target===b.currentTarget&&t()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:C,role:"dialog","aria-modal":"true","aria-labelledby":"edit-task-title",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full relative",children:[o.jsx("h2",{id:"edit-task-title",className:"text-2xl font-bold text-gray-800 mb-6",children:" "}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"task-description-edit",className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),o.jsx("textarea",{id:"task-description-edit",value:u,onChange:b=>c(b.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-emerald-500 focus:border-emerald-500 transition-colors"})]}),o.jsx(Ce,{label:" ",id:"task-impact-points-edit",type:"number",value:f,onChange:b=>g(parseInt(b.target.value,10)||0),min:"1"}),o.jsx(Ce,{label:"  ()",id:"task-target-url-edit",type:"url",value:x,onChange:b=>p(b.target.value),placeholder:"https://example.com/page"})]}),o.jsxs("div",{className:"mt-8 flex justify-end gap-4",children:[o.jsx(xe,{variant:"secondary",onClick:t,children:""}),o.jsx(xe,{onClick:v,children:" "})]})]})})},Hc=({message:n,type:t,onClose:l})=>{T.useEffect(()=>{const u=setTimeout(()=>{l()},3e3);return()=>{clearTimeout(u)}},[l]);const i=t==="success"?"bg-emerald-500":"bg-red-500";return o.jsx("div",{className:`fixed bottom-24 left-1/2 -translate-x-1/2 p-4 rounded-lg text-white shadow-lg z-50 animate-fadeInUp ${i}`,children:n})},FT=()=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.776 48.776 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]}),JT=()=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:[o.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),o.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),YT=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),yc=({label:n,onFileSelect:t,value:l,isLoading:i=!1})=>{const u=T.useRef(null),c=T.useRef(Math.random().toString(36).substring(2)).current,f=`file-upload-${n.replace(/\s+/g,"-").toLowerCase()}-${c}`,g=p=>{var C;const v=(C=p.target.files)==null?void 0:C[0];if(v){const b=new FileReader;b.onloadend=()=>{t(b.result)},b.readAsDataURL(v)}},x=()=>{t(null),u.current&&(u.current.value="")};return o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n}),o.jsxs("div",{className:"mt-1",children:[o.jsx("input",{ref:u,id:f,name:f,type:"file",className:"sr-only",onChange:g,accept:"image/*"}),l&&!i?o.jsxs("div",{className:"relative w-32 h-32 group",children:[o.jsx("img",{src:l,alt:"Preview",className:"w-full h-full rounded-lg object-cover shadow-md"}),o.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-60 transition-all flex items-center justify-center gap-4 rounded-lg",children:[o.jsx("label",{htmlFor:f,className:"cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity text-white bg-gray-700/80 rounded-full p-2 hover:bg-gray-900","aria-label":"Change image",children:o.jsx(JT,{})}),o.jsx("button",{type:"button",onClick:x,className:"opacity-0 group-hover:opacity-100 transition-opacity text-white bg-red-600/80 rounded-full p-2 hover:bg-red-700","aria-label":"Remove image",children:o.jsx(YT,{})})]})]}):o.jsx("label",{htmlFor:f,className:"w-32 h-32 flex items-center justify-center border-2 border-gray-300 border-dashed rounded-lg cursor-pointer hover:border-emerald-500 hover:bg-gray-50 transition-colors relative",children:i?o.jsxs("div",{className:"absolute inset-0 bg-white/80 flex flex-col justify-center items-center rounded-md z-10",children:[o.jsxs("svg",{className:"animate-spin h-10 w-10 text-emerald-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o.jsx("p",{className:"mt-2 text-sm font-semibold text-gray-600",children:"  ..."})]}):o.jsxs("div",{className:"space-y-1 text-center",children:[o.jsx(FT,{}),o.jsx("p",{className:"text-xs text-gray-500",children:" "})]})})]})]})},w0=[" "," ","",""],no=n=>new Intl.NumberFormat("fa-IR").format(n),$T=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),KT=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}),QT=({className:n=""})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-6 w-6 transition-transform ${n}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),XT=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),ZT=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),WT=({className:n})=>o.jsx("svg",{className:`w-5 h-5 text-blue-500 mr-2 ${n||""}`,viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm-1.4,13.7L6.45,11.55l1.41-1.41L10.6,13.47l5.25-5.25,1.41,1.41Z"})}),so={instagram:o.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-purple-400 via-pink-500 to-red-500 flex items-center justify-center",children:o.jsxs("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),o.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),o.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]})}),x:o.jsx("div",{className:"w-8 h-8 rounded-lg bg-black flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),youtube:o.jsx("div",{className:"w-8 h-8 rounded-lg bg-red-600 flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M21.582,6.186c-0.23-0.86-0.908-1.538-1.768-1.768C18.25,4,12,4,12,4S5.75,4,4.186,4.418 c-0.86,0.23-1.538,0.908-1.768,1.768C2,7.75,2,12,2,12s0,4.25,0.418,5.814c0.23,0.86,0.908,1.538,1.768,1.768 C5.75,20,12,20,12,20s6.25,0,7.814-0.418c0.861-0.23,1.538-0.908,1.768-1.768C22,16.25,22,12,22,12S22,7.75,21.582,6.186z M10,15.464V8.536L16,12L10,15.464z"})})}),telegram:o.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500 flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M9.78 18.65l.28-4.23 7.68-6.92c.34-.31-.07-.46-.52-.19L7.74 13.3 3.64 12c-.88-.25-.89-.86.2-1.3l15.97-6.16c.73-.33 1.43.18 1.15.91L18.23 16.2c-.24.62-.67.78-1.21.49l-4.46-3.3-4.52 4.13c-.39.37-.87.57-1.4.57-.78 0-1.02-.37-1.12-.75L9.78 18.65z"})})}),linkedin:o.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-700 flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})}),facebook:o.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-800 flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"})})}),shop:o.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-500 flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),code:o.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-500 flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),generic:o.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-200 flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})},eE=n=>{if(n.type==="code_redemption")return so.code;const t=Ia[n.description]||n.description;return n.type==="social_media"&&n.platform?so[n.platform]:t.includes("")?so.shop:so.generic},nc={mission:"",brandName:"",brandLogoUrl:null,location:"",category:"",tasks:[],daysLeft:30,targetAmount:0,sponsorMessage:`  
                               
                                  `,customImageUrl:null},T0=()=>{const{id:n}=K0(),[t]=sg(),l=bt(),i=t.get("template"),u=!!n,c=!!i&&!u,{t:f}=Ve(),[g,x]=T.useState(1),{categories:p,predefinedTasks:v,missionDetails:C,isCampaignBuilderEnabled:b}=It(),{apiKey:N}=Ic(),_=p.map(ee=>f(`categories_list.${ee.name}`)),[E,A]=T.useState(nc),[j,M]=T.useState(0),[D,B]=T.useState(""),[P,Q]=T.useState({quantityLabel:"",quantity:0,costPerUnit:0}),[q,$]=T.useState({description:"",impactPoints:5,platform:"",targetUrl:""}),[V,K]=T.useState(null),[ne,F]=T.useState(!1),{addCampaign:re,campaigns:oe,updateCampaign:Te}=Wt(),I=T.useRef(1),[Z,te]=T.useState(!1),[me,ye]=T.useState("    ..."),[k,J]=T.useState(null),[se,ie]=T.useState(!1),[he,be]=T.useState({}),[Re,at]=T.useState(Object.keys(v)[0]),[le,je]=T.useState(!1),[yt,rn]=T.useState(null);T.useEffect(()=>{if(!u&&!c&&!b){l("/create-options",{replace:!0});return}if(u){const ee=oe.find(fe=>fe.id===Number(n));ee&&(A({mission:ee.mission,brandName:ee.brandName,brandLogoUrl:ee.brandLogoUrl||null,location:ee.location,category:ee.category,tasks:ee.tasks,daysLeft:ee.daysLeft,targetAmount:ee.targetAmount,sponsorMessage:ee.sponsorMessage,customImageUrl:ee.imageUrl}),ee.tasks.length>0&&(I.current=Math.max(...ee.tasks.map(fe=>fe.id))+1));return}if(c&&i&&C[i]){const ee=C[i],fe=ee.minQuantity;M(fe),A({...nc,category:ee.defaultCategory,location:" ",daysLeft:30,targetAmount:ee.costPerUnit*fe,customImageUrl:ee.imageUrl||null})}else A(nc),Q({quantityLabel:"",quantity:0,costPerUnit:0})},[n,u,c,i,oe,b,l,C]),T.useEffect(()=>{if(c&&i&&C[i]){const ee=C[i];A(fe=>({...fe,mission:f(ee.labelKey)})),B(f(ee.quantityLabelKey))}},[c,i,C,f]),T.useEffect(()=>{if(c&&i&&C[i]&&j>0){const ee=C[i],fe=ee.costPerUnit*Math.max(j,ee.minQuantity);A(ce=>({...ce,targetAmount:fe}))}},[j,c,i,C]),T.useEffect(()=>{if(!c){const ee=P.quantity*P.costPerUnit;A(fe=>({...fe,targetAmount:ee}))}},[P.quantity,P.costPerUnit,c]);const us=T.useMemo(()=>{var fe,ce;const ee=u&&((fe=oe.find(ve=>ve.id===Number(n)))==null?void 0:fe.progress)||0;return{id:u?Number(n):-1,mission:E.mission||"  ...",brandName:E.brandName||"  ...",brandLogoUrl:E.brandLogoUrl||void 0,location:E.location||"",category:E.category||"other",tasks:E.tasks,imageUrl:E.customImageUrl||`https://source.unsplash.com/800x600/?charity,${E.category||"hope"}`,progress:ee,targetAmount:E.targetAmount,daysLeft:E.daysLeft,sponsorMessage:E.sponsorMessage,status:u&&((ce=oe.find(ve=>ve.id===Number(n)))==null?void 0:ce.status)||"pending"}},[E,u,n,oe]),dt=ee=>{const{name:fe,value:ce}=ee.target,ve=fe==="targetAmount"||fe==="daysLeft";A(Ye=>({...Ye,[fe]:ve?Number(ce):ce})),he[fe]&&be(Ye=>({...Ye,[fe]:!1}))},en=ee=>{const{name:fe,value:ce}=ee.target;Q(ve=>({...ve,[fe]:fe==="quantityLabel"?ce:Number(ce)})),he[fe]&&be(ve=>({...ve,[fe]:!1}))},js=ee=>E.tasks.some(fe=>fe.description===ee),_o=ee=>{const fe={...ee,id:I.current++};A(ce=>({...ce,tasks:[...ce.tasks,fe]}))},La=ee=>{js(ee.description)?_l(ee.description):_o(ee)},_l=ee=>{A(fe=>({...fe,tasks:fe.tasks.filter(ce=>ce.description!==ee)}))},Al=ee=>{A(fe=>({...fe,tasks:fe.tasks.filter(ce=>ce.id!==ee)}))},Ml=()=>{if(q.description.trim()){const ee=q.platform!=="",fe={id:I.current++,description:q.description,type:ee?"social_media":"generic",platform:ee?q.platform:void 0,impactPoints:q.impactPoints,karmaCoins:Math.max(1,Math.round(q.impactPoints*.8)),targetUrl:q.targetUrl||void 0};A(ce=>({...ce,tasks:[...ce.tasks,fe]})),$({description:"",impactPoints:5,platform:"",targetUrl:""}),je(!1)}},Ao=ee=>{A(fe=>({...fe,tasks:fe.tasks.map(ce=>ce.id===ee.id?ee:ce)})),K(null)},Mo=async()=>{if(!E.mission||!E.brandName){J({message:f("createCampaign.toast.missionTitleFirst"),type:"error"});return}if(!N){J({message:f("createCampaign.toast.apiKeyMissing"),type:"error"});return}ie(!0);try{const ee=new ka({apiKey:N}),fe=`For a charity campaign in Iran titled "${E.mission}" by the brand "${E.brandName}", generate a short, heartfelt, and inspiring sponsor message in Persian. The message must include the brand name, "${E.brandName}". Format the output as a JSON object with a single key: "sponsorMessage".`,ce=await ee.models.generateContent({model:"gemini-2.5-flash",contents:fe,config:{responseMimeType:"application/json",responseSchema:{type:mn.OBJECT,properties:{sponsorMessage:{type:mn.STRING}},required:["sponsorMessage"]}}}),ve=JSON.parse(ce.text.trim()),{sponsorMessage:Ye}=ve;Ye&&A(it=>({...it,sponsorMessage:Ye}))}catch(ee){console.error("Error generating content:",ee),J({message:f("createCampaign.toast.aiError"),type:"error"})}finally{ie(!1)}},St=()=>{const ee={};return E.mission.trim()||(ee.mission=!0),E.brandName.trim()||(ee.brandName=!0),E.location.trim()||(ee.location=!0),E.category||(ee.category=!0),E.sponsorMessage.trim()||(ee.sponsorMessage=!0),c?j<=0&&(ee.quantity=!0):(P.quantityLabel.trim()||(ee.quantityLabel=!0),P.quantity<=0&&(ee.quantity=!0),P.costPerUnit<=0&&(ee.costPerUnit=!0)),be(ee),Object.keys(ee).length===0},Ro=()=>{const ee=E.tasks.length;return ee<3||ee>7?(be({tasks:!0}),!1):(be({}),!0)},Pa=()=>{if(g===1&&!St()){J({message:"        .",type:"error"});return}if(g===2&&!Ro()){J({message:"        .",type:"error"});return}g<w0.length&&x(g+1)},qa=()=>{g>1?x(g-1):g===1&&l("/create-options")},ks=async()=>{F(!1),te(!0),ye("    ...");try{let ee=E.customImageUrl;if(!ee)if(ye("        ..."),!N)console.warn("API Key not found, using fallback image."),ee=`https://source.unsplash.com/800x600/?charity,${E.category}`;else{const ce=new ka({apiKey:N}),ve=`Create a descriptive, artistic, and photorealistic image prompt that visually represents this charity mission: "${E.mission}". The image should be positive, hopeful, and inspiring, featuring elements of Iranian culture.`,Ye=await ce.models.generateImages({model:"imagen-4.0-generate-001",prompt:ve,config:{numberOfImages:1}});Ye.generatedImages.length>0?ee=`data:image/png;base64,${Ye.generatedImages[0].image.imageBytes}`:ee=`https://source.unsplash.com/800x600/?charity,${E.category}`}ye("   ...");const fe={...E,category:E.category,imageUrl:ee,brandLogoUrl:E.brandLogoUrl||void 0};if(u&&n){const ce=oe.find(ve=>ve.id===Number(n));if(ce){const ve={...ce,...fe};Te(ve),rn(ve)}}else{const ce=oe.length>0?Math.max(...oe.map(Ye=>Ye.id))+1:1,ve={...fe,id:ce,progress:0,status:"pending"};re(fe),rn(ve)}localStorage.removeItem(u?`autosave_campaign_edit_${n}`:"autosave_campaign_create"),setTimeout(()=>{te(!1),x(4)},1e3)}catch(ee){console.error("Error submitting campaign:",ee),J({message:"   .    .",type:"error"}),te(!1)}},Io=({campaign:ee})=>o.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 border max-w-2xl mx-auto my-8",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"  "}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200/80",children:[o.jsx("img",{src:ee.imageUrl,alt:ee.mission,className:"w-full h-48 object-cover rounded-xl shadow-lg mb-4"}),o.jsx("h2",{className:"font-bold text-2xl text-gray-800 mb-2",children:ee.mission}),o.jsxs("div",{className:"flex justify-between text-base text-gray-700 font-semibold mt-3 mb-4",children:[o.jsxs("span",{className:"font-bold",children:[no(ee.targetAmount)," ",o.jsx("span",{className:"text-sm font-normal",children:""})]}),o.jsxs("span",{className:"font-bold",children:[ee.daysLeft," ",o.jsx("span",{className:"text-sm font-normal",children:" "})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse mb-4",children:[o.jsx("img",{src:ee.brandLogoUrl||`https://ui-avatars.com/api/?name=${ee.brandName.charAt(0)}&background=a7f3d0&color=047857&size=48`,alt:`${ee.brandName} logo`,className:"w-12 h-12 rounded-full bg-emerald-100 p-1 object-contain"}),o.jsx("div",{children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"font-bold text-lg text-gray-800",children:ee.brandName}),o.jsx(WT,{})]})})]}),o.jsxs("section",{className:"bg-gray-50 p-4 rounded-xl shadow-inner border border-gray-200/80",children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-4",children:" "}),o.jsx("div",{className:"space-y-3",children:ee.tasks.map(fe=>o.jsxs("div",{className:"flex items-center p-3 rounded-xl bg-white border border-gray-200",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 mr-4",children:eE(fe)}),o.jsxs("div",{className:"flex-grow",children:[o.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:fe.description}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[fe.impactPoints,"%    ",o.jsxs("span",{className:"text-yellow-600",children:[fe.karmaCoins," "]})]})]})]},fe.id))})]})]})]}),Rl=()=>{const ee="bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-800 border-gray-600 focus:border-emerald-500 focus:ring-emerald-500",fe="bg-gray-600 text-white cursor-not-allowed border-gray-500";switch(g){case 1:return o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"  "}),o.jsx("p",{className:"text-sm text-gray-500",children:c?"        .      .":"        .    ."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{className:"md:col-span-2",children:o.jsx(Ce,{label:" ",id:"mission",name:"mission",value:E.mission,onChange:dt,placeholder:":        ",hasError:he.mission,readOnly:c,className:c?fe:ee})}),o.jsx(Ce,{label:"    ",id:"brandName",name:"brandName",value:E.brandName,onChange:dt,placeholder:" ",hasError:he.brandName,className:ee}),c&&i&&C[i]?o.jsxs(o.Fragment,{children:[o.jsx(Ce,{label:D,id:"quantity",name:"quantity",type:"number",value:j,onChange:ce=>M(Number(ce.target.value)),min:C[i].minQuantity,hasError:he.quantity,className:ee}),o.jsxs("div",{className:"bg-gray-100 p-3 rounded-lg text-center",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:[no(E.targetAmount)," ",o.jsx("span",{className:"text-lg font-normal",children:""})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx(Ce,{label:"  ",id:"quantityLabel",name:"quantityLabel",value:P.quantityLabel,onChange:en,placeholder:":   ",hasError:he.quantityLabel,className:ee}),o.jsx(Ce,{label:"",id:"quantity",name:"quantity",type:"number",value:P.quantity||"",onChange:en,min:"1",hasError:he.quantity,className:ee}),o.jsx(Ce,{label:"   ()",id:"costPerUnit",name:"costPerUnit",type:"number",value:P.costPerUnit||"",onChange:en,min:"1",hasError:he.costPerUnit,className:ee}),o.jsxs("div",{className:"md:col-span-2 bg-gray-100 p-3 rounded-lg text-center",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"   :"}),o.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:[no(E.targetAmount)," ",o.jsx("span",{className:"text-lg font-normal",children:""})]})]})]}),o.jsx(Ce,{label:"",id:"location",name:"location",value:E.location,onChange:dt,placeholder:"",hasError:he.location,readOnly:c,className:c?fe:ee}),o.jsx(Ms,{label:" ",id:"category",name:"category",value:E.category,onChange:dt,options:_,optionValues:p.map(ce=>ce.name),hasError:he.category,disabled:c,className:c?fe:ee}),o.jsx(Ce,{label:"   ()",id:"daysLeft",name:"daysLeft",type:"number",value:E.daysLeft,onChange:dt,min:"1",hasError:he.daysLeft,readOnly:c,className:c?fe:ee}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{htmlFor:"sponsorMessage",className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),o.jsx("textarea",{id:"sponsorMessage",name:"sponsorMessage",value:E.sponsorMessage,onChange:dt,rows:5,className:`w-full px-4 py-2 border rounded-lg shadow-sm transition-colors ${ee} ${he.sponsorMessage?"border-red-500":"border-gray-600"}`})]}),o.jsx("div",{className:"md:col-span-2",children:o.jsx(yc,{label:"  ()",value:E.brandLogoUrl,onFileSelect:ce=>A(ve=>({...ve,brandLogoUrl:ce}))})}),o.jsx("div",{className:"md:col-span-2",children:o.jsx(xe,{type:"button",onClick:Mo,disabled:se||!N,className:"bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600 text-white w-full md:w-auto disabled:opacity-50",children:se?"  ...":"    "})})]})]});case 2:return o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"             ."}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:" "}),o.jsx("div",{className:"space-y-3",children:Object.entries(v).map(([ce,ve])=>{const Ye=Re===ce;return o.jsxs("div",{className:"border rounded-xl bg-white shadow-sm overflow-hidden",children:[o.jsxs("button",{onClick:()=>at(Ye?null:ce),className:"w-full flex justify-between items-center p-4 text-right font-semibold text-gray-700 hover:bg-gray-50",children:[o.jsx("span",{children:rc[ce]||ce}),o.jsx(QT,{className:Ye?"rotate-180":""})]}),Ye&&o.jsx("div",{className:"animate-slideDown p-4 border-t bg-gray-50/50",children:o.jsx("div",{className:"space-y-2",children:ve.map((it,jo)=>{const Il=js(it.description);return o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-800",children:it.description}),o.jsx("button",{onClick:()=>La(it),className:`w-9 h-9 flex-shrink-0 flex items-center justify-center rounded-full transition-colors ${Il?"bg-green-500 text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,"aria-label":Il?" ":" ",children:Il?o.jsx(KT,{}):o.jsx($T,{})})]},jo)})})})]},ce)})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 p-6 rounded-2xl sticky top-28",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),o.jsx("span",{className:"font-bold text-lg text-emerald-600 bg-emerald-200 rounded-full w-8 h-8 flex items-center justify-center",children:E.tasks.length})]}),o.jsx("p",{className:"text-xs text-gray-600 mb-4",children:"       ."}),he.tasks&&o.jsx("p",{className:"text-red-500 text-sm font-semibold mb-3",children:"        ."}),o.jsxs("div",{className:"space-y-2 mb-4 max-h-60 overflow-y-auto pr-2",children:[E.tasks.map(ce=>o.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm flex justify-between items-center animate-fadeInUp",children:[o.jsx("p",{className:"text-sm text-gray-800 flex-grow",children:ce.description}),o.jsxs("div",{className:"flex items-center space-x-1 space-x-reverse flex-shrink-0",children:[o.jsx("button",{onClick:()=>K(ce),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-100 rounded-full transition-colors","aria-label":"",children:o.jsx(XT,{})}),o.jsx("button",{onClick:()=>Al(ce.id),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-100 rounded-full transition-colors","aria-label":"",children:o.jsx(ZT,{})})]})]},ce.id)),E.tasks.length===0&&o.jsx("p",{className:"text-center text-gray-500 py-4",children:"    ."})]})]}),o.jsxs("div",{children:[o.jsx(xe,{variant:"secondary",onClick:()=>je(!le),className:"w-full",children:le?" ":"+   "}),le&&o.jsxs("div",{className:"mt-4 p-4 border rounded-xl bg-white animate-slideDown",children:[o.jsx("h4",{className:"font-semibold mb-3",children:"  "}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Ce,{label:" ",id:"custom-desc",value:q.description,onChange:ce=>$(ve=>({...ve,description:ce.target.value}))}),o.jsx(Ms,{label:"   ()",id:"custom-platform",value:q.platform,onChange:ce=>$(ve=>({...ve,platform:ce.target.value})),options:["","",""," ( )","",""],optionValues:["instagram","telegram","youtube","x","linkedin","facebook"]}),o.jsx(Ce,{label:"  ()",id:"custom-url",value:q.targetUrl,onChange:ce=>$(ve=>({...ve,targetUrl:ce.target.value})),placeholder:"https://..."}),o.jsx(Ce,{label:"  (  )",id:"custom-impact",type:"number",min:"1",max:"10",value:q.impactPoints,onChange:ce=>$(ve=>({...ve,impactPoints:parseInt(ce.target.value,10)}))}),o.jsx(xe,{onClick:Ml,children:""})]})]})]})]})]})]});case 3:return o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:f("createCampaign.payment.title")}),o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg border inline-block",children:[o.jsx("p",{className:"text-gray-600 mb-2",children:f("createCampaign.payment.finalCost")}),o.jsxs("p",{className:"text-4xl font-extrabold text-emerald-600 mb-6",children:[no(E.targetAmount)," ",o.jsx("span",{className:"text-lg",children:f("createCampaign.payment.toman")})]}),o.jsx("p",{className:"text-sm text-gray-500 mb-6",children:f("createCampaign.payment.guarantee")}),o.jsx(xe,{onClick:()=>F(!0),className:"w-full",children:f("createCampaign.payment.confirmAndPay")})]})]});case 4:return o.jsxs("div",{className:"text-center max-w-lg mx-auto py-10",children:[o.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx("svg",{className:"w-16 h-16 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"     !"}),o.jsx("p",{className:"text-gray-600 mb-8",children:"          .           ."}),yt&&o.jsx(Io,{campaign:yt}),o.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[o.jsx(xe,{onClick:()=>l("/campaigns"),variant:"secondary",children:" "}),o.jsx(xe,{onClick:()=>l("/"),children:"  "})]})]});default:return null}};return Z?o.jsxs("div",{className:"flex flex-col items-center justify-center text-center h-full py-20",children:[o.jsxs("svg",{className:"animate-spin h-16 w-16 text-emerald-600 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:me}),o.jsx("p",{className:"text-gray-500 mt-2",children:"    ..."})]}):o.jsxs("div",{className:"bg-gray-100 min-h-screen",children:[k&&o.jsx(Hc,{message:k.message,type:k.type,onClose:()=>J(null)}),o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-12",children:[o.jsx("h1",{className:"text-center text-3xl sm:text-4xl font-extrabold text-gray-800 mb-4",children:u?" ":c?"   ":"  "}),o.jsx("p",{className:"text-center text-lg text-gray-600 mb-12",children:"      ."}),g<4&&o.jsx(GT,{steps:w0,currentStep:g}),g===4?o.jsx("div",{className:"bg-white p-6 sm:p-10 rounded-2xl shadow-xl max-w-4xl mx-auto border border-gray-200/80 mt-12",children:Rl()}):o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-12 mt-12",children:[o.jsx("div",{className:"lg:col-span-3 order-2 lg:order-1",children:o.jsxs("div",{className:"bg-white p-6 sm:p-10 rounded-2xl shadow-xl border border-gray-200/80",children:[Rl(),o.jsxs("div",{className:"mt-12 pt-6 border-t flex justify-between items-center",children:[o.jsx(xe,{onClick:qa,variant:"secondary",children:" "}),o.jsx(xe,{onClick:Pa,children:g===3?" ":" "})]})]})}),o.jsx("div",{className:"lg:col-span-2 order-1 lg:order-2",children:o.jsxs("div",{className:"sticky top-28",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:" "}),o.jsx(ja,{campaign:us})]})})]})]}),o.jsx(Eo,{isOpen:ne,onClose:()=>F(!1),onConfirm:ks,title:" ",message:"           ",confirmText:"  "}),o.jsx(OT,{isOpen:!!V,onClose:()=>K(null),onSave:Ao,task:V})]})},tE=({className:n})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})}),nE=()=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-16 w-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 10.5h.008v.008h-.008v-.008zm0 0h.008v.008h-.008v-.008zm4.5-.001h.008v.008h-.008v-.008zm0 0h.008v.008h-.008v-.008z"})]}),sE=()=>{const{campaigns:n}=Wt(),{t}=Ve(),[l]=sg(),i=l.get("search")||"",u=l.get("category")||"",[c,f]=T.useState(i),[g,x]=T.useState(u),[p,v]=T.useState(""),[C,b]=T.useState(!1),N=ep.map(A=>t(`categories_list.${A}`)),_=()=>{f(""),x(""),v("")},E=n.filter(A=>A.status==="active").filter(A=>{const j=c===""||A.mission.toLowerCase().includes(c.toLowerCase())||A.brandName.toLowerCase().includes(c.toLowerCase()),M=g===""||A.category===g,D=p===""||A.location.toLowerCase().includes(p.toLowerCase());return j&&M&&D});return o.jsx("div",{className:"bg-gray-50 min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-8 sm:py-12",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-gray-800",children:t("campaignsList.title")}),o.jsx("p",{className:"mt-4 text-lg text-gray-600",children:t("campaignsList.subtitle")})]}),o.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-2xl shadow-lg mb-10 border border-gray-200/80",children:[o.jsxs("button",{className:"w-full flex justify-between items-center md:hidden",onClick:()=>b(!C),"aria-expanded":C,"aria-controls":"filters-content",children:[o.jsx("span",{className:"text-lg font-bold text-gray-700",children:t("campaignsList.filters")}),o.jsx(tE,{className:`w-6 h-6 text-gray-500 transition-transform duration-300 ${C?"rotate-180":""}`})]}),o.jsx("div",{id:"filters-content",className:`
                    grid transition-[grid-template-rows] duration-300 ease-in-out
                    md:block
                    ${C?"grid-rows-[1fr]":"grid-rows-[0fr]"}
                    md:grid-rows-none
                `,children:o.jsxs("div",{className:"overflow-hidden",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 pt-6 md:pt-0",children:[o.jsx(Ce,{label:t("campaignsList.searchPlaceholder"),id:"search",placeholder:t("campaignsList.searchPlaceholder"),value:c,onChange:A=>f(A.target.value)}),o.jsx(Ms,{label:t("campaignsList.category"),id:"category",value:g,onChange:A=>x(A.target.value),options:N,optionValues:ep}),o.jsx(Ce,{label:t("campaignsList.location"),id:"location",placeholder:t("campaignsList.locationPlaceholder"),value:p,onChange:A=>v(A.target.value)})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx(xe,{variant:"secondary",onClick:_,children:t("campaignsList.resetFilters")})})]})})]}),E.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:E.map(A=>o.jsx(ja,{campaign:A},A.id))}):o.jsxs("div",{className:"text-center py-16 px-6 bg-white rounded-lg shadow-md border",children:[o.jsx(nE,{}),o.jsx("h2",{className:"mt-4 text-2xl font-semibold text-gray-700",children:t("campaignsList.noCampaigns")}),o.jsx("p",{className:"mt-4 text-gray-500",children:t("campaignsList.tryChangingFilters")}),o.jsx(xe,{onClick:_,className:"mt-6",children:t("campaignsList.showAllCampaigns")})]})]})})},lE={instagram:{name:"",label:"  ( @)"},telegram:{name:"",label:"  ( @)"},youtube:{name:"",label:"  "},x:{name:" ( )",label:"  ( @)"},linkedin:{name:"",label:"  "},facebook:{name:"",label:"  "}},aE=({isOpen:n,onClose:t,onSubmit:l,task:i})=>{const[u,c]=T.useState(""),[f,g]=T.useState("");if(!n||i.type!=="social_media"||!i.platform)return null;const x=lE[i.platform],p="bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-800 border-gray-600 focus:border-emerald-500 focus:ring-emerald-500",v=()=>{if(u.trim()===""){g(`  ${x.name}    .`);return}g(""),l(u)},C=b=>{b.target===b.currentTarget&&t()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:C,"aria-modal":"true",role:"dialog",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full relative transform transition-all scale-100",children:[o.jsx("button",{onClick:t,className:"absolute top-4 left-4 text-gray-400 hover:text-gray-600",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" "}),o.jsxs("p",{className:"text-gray-600 mb-6",children:["    ",o.jsxs("span",{className:"font-semibold text-emerald-600",children:['"',i.description,'"']}),"      ",x.name,"   ."]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Ce,{label:x.label,id:"socialId",value:u,onChange:b=>{c(b.target.value),f&&g("")},placeholder:"your.username",className:p}),f&&o.jsx("p",{className:"text-red-500 text-sm",children:f})]}),o.jsx("div",{className:"mt-8",children:o.jsx(xe,{onClick:v,className:"w-full",children:"  "})})]})})},iE=({isOpen:n,onClose:t,onSubmit:l,task:i})=>{const[u,c]=T.useState(""),[f,g]=T.useState("");if(!n)return null;const x=()=>{if(u.trim()===""){g("      .");return}g(""),l(u)},p=C=>{C.target===C.currentTarget&&t()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:p,"aria-modal":"true",role:"dialog",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full relative transform transition-all scale-100",children:[o.jsx("button",{onClick:t,className:"absolute top-4 left-4 text-gray-400 hover:text-gray-600",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" "}),o.jsxs("p",{className:"text-gray-600 mb-6",children:["   ",o.jsxs("span",{className:"font-semibold text-emerald-600",children:['"',i.description,'"']}),"              ."]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Ce,{label:" ",id:"redemptionCode",value:u,onChange:C=>{c(C.target.value),f&&g("")},placeholder:"    ",className:"bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-800 border-gray-600 focus:border-emerald-500 focus:ring-emerald-500"}),f&&o.jsx("p",{className:"text-red-500 text-sm",children:f})]}),o.jsx("div",{className:"mt-8",children:o.jsx(xe,{onClick:x,className:"w-full",children:"   "})})]})})},oE=({className:n})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-6 w-6 ${n||""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),rE=({className:n})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-6 w-6 ${n||""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),uE=({className:n})=>o.jsx("svg",{className:`w-5 h-5 text-blue-500 mr-2 ${n||""}`,viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm-1.4,13.7L6.45,11.55l1.41-1.41L10.6,13.47l5.25-5.25,1.41,1.41Z"})}),E0=({className:n})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 ${n||""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),cE=({className:n})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 ${n||""}`,viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),dE=({className:n})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 ${n||""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),lo={instagram:o.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-purple-400 via-pink-500 to-red-500 flex items-center justify-center",children:o.jsxs("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),o.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),o.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]})}),x:o.jsx("div",{className:"w-8 h-8 rounded-lg bg-black flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),youtube:o.jsx("div",{className:"w-8 h-8 rounded-lg bg-red-600 flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M21.582,6.186c-0.23-0.86-0.908-1.538-1.768-1.768C18.25,4,12,4,12,4S5.75,4,4.186,4.418 c-0.86,0.23-1.538,0.908-1.768,1.768C2,7.75,2,12,2,12s0,4.25,0.418,5.814c0.23,0.86,0.908,1.538,1.768,1.768 C5.75,20,12,20,12,20s6.25,0,7.814-0.418c0.861-0.23,1.538-0.908,1.768-1.768C22,16.25,22,12,22,12S22,7.75,21.582,6.186z M10,15.464V8.536L16,12L10,15.464z"})})}),telegram:o.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500 flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M9.78 18.65l.28-4.23 7.68-6.92c.34-.31-.07-.46-.52-.19L7.74 13.3 3.64 12c-.88-.25-.89-.86.2-1.3l15.97-6.16c.73-.33 1.43.18 1.15.91L18.23 16.2c-.24.62-.67.78-1.21.49l-4.46-3.3-4.52 4.13c-.39.37-.87.57-1.4.57-.78 0-1.02-.37-1.12-.75L9.78 18.65z"})})}),linkedin:o.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-700 flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})}),facebook:o.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-800 flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"})})}),shop:o.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-500 flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),code:o.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-500 flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),generic:o.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-200 flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})},fE=n=>n.type==="code_redemption"?lo.code:n.type==="social_media"&&n.platform?lo[n.platform]:n.description.includes("")?lo.shop:lo.generic,_0=150,mE=n=>new Intl.NumberFormat("fa-IR").format(n),hE=()=>{const{id:n}=K0(),t=bt(),{campaigns:l,submitSocialMediaTask:i,completeGenericTask:u,comments:c,addComment:f,deleteComment:g,taskCompletions:x}=Wt(),{isAuthenticated:p,userIdentifier:v,socialIds:C,isAdmin:b}=xt(),{t:N,formatRelativeTime:_}=Ve(),[E,A]=T.useState(!1),[j,M]=T.useState(!1),[D,B]=T.useState(null),[P,Q]=T.useState(null),[q,$]=T.useState(!1),[V,K]=T.useState(""),[ne,F]=T.useState(!1),[re,oe]=T.useState(null),Te=Number(n),I=l.find(le=>le.id===Te),Z=x.filter(le=>le.userId===v&&le.campaignId===Te),te=(I==null?void 0:I.status)==="completed",me=c.filter(le=>le.campaignId===Te).sort((le,je)=>new Date(je.createdAt).getTime()-new Date(le.createdAt).getTime());if(!I)return o.jsxs("div",{className:"text-center py-20",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"    ."}),o.jsx(ct,{to:"/campaigns",className:"mt-4 inline-block bg-emerald-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-emerald-600",children:"   "})]});const ye=le=>{if(!p){t("/login");return}const je=Z.find(yt=>yt.taskId===le.id);if((je==null?void 0:je.status)==="approved"){Q({message:"        .",type:"error"});return}if((je==null?void 0:je.status)==="pending"){Q({message:"      .",type:"error"});return}if(le.type==="social_media"&&le.platform){const yt=C[le.platform];yt&&v?(i(I.id,le.id,yt,le,v),Q({message:"       .",type:"success"})):(B(le),A(!0))}else le.type==="code_redemption"?(B(le),M(!0)):(oe(le),F(!0))},k=le=>{D&&v&&(i(I.id,D.id,le,D,v),Q({message:"     .",type:"success"})),A(!1),B(null)},J=le=>{D&&v&&(u(I.id,D.id,D,v,le),Q({message:"        !",type:"success"})),M(!1),B(null)},se=()=>{re&&v&&(u(I.id,re.id,re,v),Q({message:` "${re.description}"    !`,type:"success"})),F(!1),oe(null)},ie=le=>{le.preventDefault(),V.trim()&&v&&(f(I.id,v,V.trim()),K(""))},he=le=>{le.preventDefault();const je=document.getElementById("tasks-section");je&&je.scrollIntoView({behavior:"smooth"})},be=async()=>{if(!I)return;const le={title:I.mission,text:`  "${I.mission}"     !`,url:window.location.href};try{navigator.share?await navigator.share(le):(await navigator.clipboard.writeText(window.location.href),Q({message:"      !",type:"success"}))}catch(je){console.error("Error sharing:",je),je.name!=="AbortError"&&Q({message:"    .",type:"error"})}},Re=I.sponsorMessage.length>_0,at=Re&&!q?`${I.sponsorMessage.substring(0,_0)}...`:I.sponsorMessage;return o.jsxs("div",{className:"bg-gray-100 min-h-screen font-sans",children:[P&&o.jsx(Hc,{message:P.message,type:P.type,onClose:()=>Q(null)}),o.jsxs("header",{className:"sticky top-0 bg-white/80 backdrop-blur-md z-20 flex justify-between items-center p-4 border-b border-gray-200",children:[o.jsx("button",{onClick:()=>t(-1),className:"p-2 -m-2 rounded-full hover:bg-gray-100",children:o.jsx(oE,{className:"transform scale-x-[-1]"})}),o.jsx("h1",{className:"font-bold text-lg text-gray-800",children:" "}),o.jsx("button",{onClick:be,className:"p-2 -m-2 rounded-full hover:bg-gray-100",children:o.jsx(rE,{})})]}),o.jsxs("main",{className:"max-w-3xl mx-auto p-4 space-y-6 pb-28",children:[o.jsx("section",{children:o.jsx("img",{src:I.imageUrl,alt:I.mission,className:"w-full h-72 object-cover rounded-xl shadow-lg"})}),o.jsxs("section",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200/80",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-bold text-2xl sm:text-3xl text-gray-800 mb-2",children:I.mission}),o.jsxs("div",{className:"mt-2 flex items-center text-sm text-emerald-700 font-semibold",children:[Rc(I.category,"h-5 w-5 me-1"),o.jsx("span",{children:N(`categories_list.${I.category}`)})]}),o.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["  ",new Date(Date.now()-7200*60*1e3).toLocaleDateString("fa-IR")]})]}),o.jsx("span",{className:"bg-emerald-100 text-emerald-700 text-sm font-semibold px-3 py-1 rounded-full flex-shrink-0",children:""})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("div",{className:"flex justify-between items-center mb-1",children:o.jsxs("span",{className:"text-sm font-semibold text-emerald-600",children:[I.progress,"%  "]})}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-gradient-to-r from-emerald-400 to-green-500 h-2 rounded-full",style:{width:`${I.progress}%`}})}),o.jsxs("div",{className:"flex justify-between text-2xl text-gray-800 font-extrabold mt-3",children:[o.jsxs("span",{className:"font-bold",children:[mE(I.targetAmount)," ",o.jsx("span",{className:"text-lg font-normal",children:""})]}),o.jsxs("span",{className:"font-bold",children:[I.daysLeft," ",o.jsx("span",{className:"text-lg font-normal",children:" "})]})]})]})]}),te&&o.jsxs("section",{className:"bg-blue-50 border-r-4 border-blue-500 text-blue-800 p-4 rounded-lg shadow-sm",role:"alert",children:[o.jsx("p",{className:"font-bold",children:" !"}),o.jsx("p",{children:"        .    ."})]}),o.jsxs("section",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200/80",children:[o.jsx("h3",{className:"font-bold text-gray-500 mb-3 text-sm tracking-wider",children:N("campaignDetail.campaigner")}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("img",{src:I.brandLogoUrl||`https://ui-avatars.com/api/?name=${I.brandName.charAt(0)}&background=a7f3d0&color=047857&size=48`,alt:`${I.brandName} logo`,className:"w-12 h-12 rounded-full bg-emerald-100 p-1 object-contain"}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"font-bold text-lg text-gray-800",children:I.brandName}),o.jsx(uE,{})]}),o.jsx("p",{className:"text-xs text-gray-500",children:N("campaignDetail.verifiedAccount")})]})]})]}),o.jsxs("section",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200/80",children:[o.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-2",children:["    ",I.brandName]}),o.jsx("p",{className:"text-gray-700 text-base whitespace-pre-wrap leading-loose",children:at}),Re&&o.jsx("button",{onClick:()=>$(!q),className:"text-emerald-600 font-semibold text-sm mt-2",children:q?"":" "})]}),o.jsxs("section",{id:"tasks-section",className:"bg-white p-6 rounded-xl shadow-md border border-gray-200/80",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800",children:" "}),o.jsx("span",{className:"bg-emerald-100 text-emerald-700 text-xs font-bold px-2 py-1 rounded-full",children:I.tasks.length})]}),o.jsx(E0,{className:"text-gray-400"})]}),o.jsx("div",{className:"space-y-3",children:I.tasks.map(le=>{const je=Z.find(en=>en.taskId===le.id),yt=(je==null?void 0:je.status)==="approved",rn=(je==null?void 0:je.status)==="pending",us=(je==null?void 0:je.status)==="rejected",dt=yt||te||rn;return o.jsxs("div",{onClick:()=>!dt&&ye(le),className:`flex items-center p-3 rounded-xl transition-all duration-200 ${dt?"bg-gray-100 cursor-not-allowed opacity-70":"bg-white hover:bg-emerald-50 border border-gray-200 hover:border-emerald-200 cursor-pointer hover:shadow-md hover:-translate-y-0.5"}`,children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 me-4",children:fE(le)}),o.jsxs("div",{className:"flex-grow",children:[o.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:le.description}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[le.impactPoints,"%    ",o.jsxs("span",{className:"text-yellow-600",children:[le.karmaCoins," "]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[le.targetUrl&&o.jsx("a",{href:le.targetUrl,target:"_blank",rel:"noopener noreferrer",onClick:en=>en.stopPropagation(),className:"p-2 -m-2 rounded-full hover:bg-emerald-200 text-emerald-600","aria-label":"   ",children:o.jsx(dE,{})}),yt&&o.jsx("span",{className:"text-sm font-bold text-green-600",children:" "}),rn&&o.jsx("span",{className:"text-xs font-bold text-yellow-600 animate-pulse",children:"  "}),us&&o.jsx("span",{className:"text-xs font-bold text-red-600",children:" "}),te&&!yt&&!rn&&!us&&o.jsx("span",{className:"text-sm font-bold text-blue-600",children:" "})]})]},le.id)})})]}),o.jsxs("section",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200/80",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800",children:""}),o.jsx("span",{className:"bg-gray-100 text-gray-600 text-xs font-bold px-2 py-1 rounded-full",children:me.length})]}),o.jsx(E0,{className:"text-gray-400"})]}),p&&o.jsxs("form",{onSubmit:ie,className:"mb-6",children:[o.jsx("textarea",{value:V,onChange:le=>K(le.target.value),placeholder:"   ...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500 transition-colors",rows:3}),o.jsx("div",{className:"text-left mt-2",children:o.jsx(xe,{type:"submit",disabled:!V.trim(),children:" "})})]}),o.jsx("div",{className:"space-y-4",children:me.map(le=>o.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl relative group border border-gray-200/80",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("img",{src:le.userAvatar,alt:le.userName,className:"w-10 h-10 rounded-full"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-sm text-gray-800",children:le.userName}),o.jsx("p",{className:"text-xs text-gray-500",children:_(le.createdAt)})]})]}),o.jsx("p",{className:"mt-3 text-sm text-gray-700 leading-relaxed whitespace-pre-wrap",children:le.text}),b&&o.jsx("button",{onClick:()=>g(le.id),className:"absolute top-2 right-2 p-2 text-gray-400 hover:text-red-500 bg-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity","aria-label":" ",children:o.jsx(cE,{})})]},le.id))})]})]}),o.jsx("div",{className:"fixed bottom-24 left-0 right-0 px-4 z-10 flex justify-center",children:o.jsx("button",{onClick:he,disabled:te,className:`w-full max-w-sm text-center font-bold py-3 px-6 rounded-full shadow-lg transition-transform transform ${te?"bg-gray-400 text-gray-800 cursor-not-allowed":"bg-emerald-600 text-white hover:bg-emerald-700 active:scale-95"}`,children:te?"  ":" "})}),D&&E&&o.jsx(aE,{isOpen:E,onClose:()=>A(!1),onSubmit:k,task:D}),D&&j&&o.jsx(iE,{isOpen:j,onClose:()=>M(!1),onSubmit:J,task:D}),re&&o.jsx(Eo,{isOpen:ne,onClose:()=>{F(!1),oe(null)},onConfirm:se,title:" ",message:"      ",confirmText:"  ",cancelText:""})]})},pE=()=>{var C,b;const[n,t]=T.useState(""),[l,i]=T.useState(""),{login:u}=xt(),{t:c}=Ve(),f=bt(),x=((b=(C=Zt().state)==null?void 0:C.from)==null?void 0:b.pathname)||"/",p=N=>{const _=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,E=/^\d{10,11}$/;return _.test(N)||E.test(N)},v=N=>{if(N.preventDefault(),n.trim()===""){i(c("login.error.empty"));return}if(!p(n)){i(c("login.error.invalid"));return}i(""),u(n),f(x,{replace:!0})};return o.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-70px)] bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-xl border border-gray-200/80",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold text-emerald-500",children:c("home.karma")}),o.jsx("h2",{className:"mt-6 text-2xl font-extrabold text-gray-900",children:c("login.title")}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:c("login.subtitle")})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:v,noValidate:!0,children:[o.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[o.jsx("div",{children:o.jsx(Ce,{label:c("login.emailOrPhone"),id:"identifier",name:"identifier",type:"text",required:!0,value:n,onChange:N=>{t(N.target.value),l&&i("")},placeholder:c("login.placeholder"),"aria-invalid":l?"true":"false","aria-describedby":"identifier-error",hasError:!!l})}),l&&o.jsx("p",{id:"identifier-error",className:"text-red-500 text-sm mt-2",children:l})]}),o.jsx("div",{children:o.jsx(xe,{type:"submit",className:"w-full bg-amber-500 hover:bg-amber-600 focus:ring-amber-500",children:c("login.login")})})]})]})})},jn=({children:n})=>{const{isAuthenticated:t}=xt(),l=Zt();return t?n:o.jsx(ac,{to:"/login",state:{from:l},replace:!0})},A0=({children:n})=>{const{isAuthenticated:t,isAdmin:l}=xt(),i=Zt();return t?l?n:o.jsx(ac,{to:"/",replace:!0}):o.jsx(ac,{to:"/login",state:{from:i},replace:!0})},gE=({isOpen:n,onClose:t,code:l})=>{const[i,u]=T.useState(!1);if(!n)return null;const c=()=>{navigator.clipboard.writeText(l),u(!0),setTimeout(()=>u(!1),2e3)},f=g=>{g.target===g.currentTarget&&t()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:f,"aria-modal":"true",role:"dialog",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full relative transform transition-all scale-100 text-center",children:[o.jsx("button",{onClick:t,className:"absolute top-4 left-4 text-gray-400 hover:text-gray-600",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" !"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"!       ."}),o.jsx("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg p-4 mb-6",children:o.jsx("p",{className:"font-mono text-2xl font-bold text-emerald-600 tracking-widest",children:l})}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsx(xe,{onClick:c,className:"w-full",children:i?" !":"  "}),o.jsx(xe,{onClick:t,variant:"secondary",className:"w-full",children:""})]})]})})},xE=({reward:n,onRedeem:t,disabled:l,category:i})=>{const{t:u}=Ve(),c=n.id<1e3&&!n.name.includes(" "),f=c?u(`karma_club_rewards.${i}.${n.name}`):n.name,g=c?u(`karma_club_rewards.${i}.${n.description}`):n.description;return o.jsxs("div",{className:`bg-white rounded-xl shadow-md p-6 flex flex-col transition-all ${l?"opacity-50":"hover:shadow-lg hover:-translate-y-1"}`,children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:f}),o.jsx("p",{className:"text-sm text-gray-500 mt-2 flex-grow",children:g}),o.jsxs("div",{className:"flex justify-between items-center mt-6",children:[o.jsxs("div",{className:"text-lg font-bold text-yellow-600 flex items-center",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}),o.jsxs("span",{children:[n.cost," ",u("karmaClub.coins")]})]}),o.jsx(xe,{onClick:()=>t(n),disabled:l||n.quantity<=0,className:"py-2 px-4 text-sm",children:n.quantity>0?u("karmaClub.redeem"):u("karmaClub.unavailable")})]}),o.jsx("p",{className:"text-xs text-gray-400 mt-2 text-center",children:u("karmaClub.quantityLeft",{count:n.quantity})})]})},yE=()=>{var D;const{karmaClubRewards:n,redeemKarmaReward:t}=It(),{karmaCoins:l,spendKarmaCoins:i}=xt(),{t:u}=Ve(),[c,f]=T.useState(Object.keys(n)[0]),[g,x]=T.useState(null),[p,v]=T.useState(!1),[C,b]=T.useState(null),[N,_]=T.useState(!1),[E,A]=T.useState(null),j=B=>{if(l<B.cost){b({message:u("karmaClub.notEnoughCoins"),type:"error"});return}x(B),v(!0)},M=()=>{if(g){if(l<g.cost){b({message:u("karmaClub.notEnoughCoins"),type:"error"}),v(!1),x(null);return}const B=t(g.id);if(B.success){const P=g.id<1e3&&!g.name.includes(" "),Q=Object.keys(n).find(V=>n[V].some(K=>K.id===g.id))||"",q=P?u(`karma_club_rewards.${Q}.${g.name}`):g.name;i(g.cost,` : ${q}`,{name:q,code:B.code})?B.code?(A(B.code),_(!0)):b({message:u("karmaClub.redeemSuccess"),type:"success"}):b({message:u("karmaClub.notEnoughCoins"),type:"error"})}else b({message:"     .",type:"error"})}v(!1),x(null)};return o.jsxs("div",{className:"bg-gray-100 min-h-screen",children:[C&&o.jsx(Hc,{message:C.message,type:C.type,onClose:()=>b(null)}),o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("header",{className:"text-center mb-10",children:[o.jsx("h1",{className:"text-4xl font-extrabold text-gray-800",children:u("karmaClub.title")}),o.jsx("p",{className:"mt-4 text-lg text-gray-600 max-w-2xl mx-auto",children:u("karmaClub.subtitle")}),o.jsxs("div",{className:"mt-6 inline-block bg-yellow-100 text-yellow-800 font-bold py-3 px-6 rounded-full text-xl shadow-md",children:[u("karmaClub.yourBalance"),": ",l," ",u("karmaClub.coins")]})]}),o.jsx("div",{className:"sticky top-[69px] bg-gray-100 py-4 z-10",children:o.jsx("div",{className:"flex justify-center border-b border-gray-300",children:Object.keys(n).map(B=>o.jsxs("button",{onClick:()=>f(B),className:`px-6 py-3 text-lg font-bold transition-colors duration-300 relative ${c===B?"text-emerald-600":"text-gray-500 hover:text-emerald-500"}`,children:[u(`karma_club_rewards.${B}.title`),c===B&&o.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-1 bg-emerald-500 rounded-full"})]},B))})}),o.jsx("main",{className:"mt-8",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:(D=n[c])==null?void 0:D.map(B=>o.jsx(xE,{reward:B,onRedeem:j,disabled:l<B.cost,category:c},B.id))})})]}),g&&o.jsx(Eo,{isOpen:p,onClose:()=>v(!1),onConfirm:M,title:u("karmaClub.confirmTitle"),message:o.jsxs("span",{children:[u("karmaClub.confirmMessage"),o.jsxs("strong",{className:"text-emerald-600",children:[" ",g.name.includes(" ")?g.name:u(`karma_club_rewards.${Object.keys(n).find(B=>n[B].some(P=>P.id===g.id))}.${g.name}`)," "]}),u("karmaClub.for"),o.jsxs("strong",{className:"text-yellow-600",children:[" ",g.cost," ",u("karmaClub.coins")," "]}),""]}),confirmText:u("karmaClub.confirmButton")}),N&&E&&o.jsx(gE,{isOpen:N,onClose:()=>_(!1),code:E})]})},vE=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-yellow-500",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}),CE=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),bE=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),SE=({className:n})=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-6 w-6 transition-transform duration-300 ${n||""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),NE=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),wE=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),TE=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),EE=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),_E=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),AE=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),ao=({title:n,children:t})=>o.jsxs("section",{className:"bg-white p-6 rounded-2xl shadow-md border border-gray-200/80",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:n}),t]}),M0=({icon:n,label:t,value:l})=>o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md flex items-center space-x-3 space-x-reverse",children:[n,o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:t}),o.jsx("p",{className:"text-2xl font-bold text-gray-800",children:l})]})]}),Aa=({to:n,icon:t,label:l})=>o.jsxs(ct,{to:n,className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg hover:bg-emerald-50 border border-gray-200 hover:border-emerald-200 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[t,o.jsx("span",{className:"font-semibold text-gray-800",children:l})]}),o.jsx(AE,{})]}),ME=()=>{const{logout:n,karmaCoins:t,impactScore:l,userIdentifier:i,redeemedCodes:u}=xt(),{taskCompletions:c,campaigns:f}=Wt(),{personalNotifications:g}=bo(),{t:x,formatRelativeTime:p}=Ve(),v=bt(),[C,b]=T.useState(!1),N=()=>{n(),v("/")},_=T.useMemo(()=>c.filter(j=>j.userId===i).sort((j,M)=>new Date(M.completedAt).getTime()-new Date(j.completedAt).getTime()).slice(0,5),[c,i]),E=T.useMemo(()=>{const j=new Set(c.filter(M=>M.userId===i).map(M=>M.campaignId));return f.filter(M=>M.status==="completed"&&j.has(M.id))},[f,c,i]),A=T.useMemo(()=>[...g].sort((j,M)=>new Date(M.timestamp).getTime()-new Date(j.timestamp).getTime()),[g]);return o.jsxs("div",{className:"bg-gray-100 min-h-screen p-4 pb-24 space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[o.jsx("img",{src:`https://i.pravatar.cc/150?u=${i}`,alt:"Profile",className:"w-16 h-16 rounded-full border-2 border-white shadow-md"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 capitalize",children:(i==null?void 0:i.split("@")[0])||""}),o.jsx("p",{className:"text-sm text-gray-500",children:i})]})]}),o.jsx("button",{onClick:N,className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-100 rounded-full transition-colors","aria-label":"",children:o.jsx(bE,{})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(M0,{icon:o.jsx(vE,{}),label:" ",value:t}),o.jsx(M0,{icon:o.jsx(CE,{}),label:" ",value:l})]}),o.jsxs("section",{className:"bg-white rounded-2xl shadow-md border border-gray-200/80 overflow-hidden",children:[o.jsxs("button",{className:"w-full flex justify-between items-center p-6 text-right",onClick:()=>b(!C),"aria-expanded":C,"aria-controls":"activities-content",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:" "}),o.jsx(SE,{className:C?"rotate-180":""})]}),o.jsx("div",{id:"activities-content",className:`transition-all duration-500 ease-in-out ${C?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,style:{overflow:"hidden"},children:o.jsx("div",{className:"px-6 pb-6 pt-0",children:_.length>0?o.jsx("div",{className:"space-y-3 border-t pt-4",children:_.map(j=>{var M;return o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-800",children:j.taskDescription}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:['  "',((M=f.find(D=>D.id===j.campaignId))==null?void 0:M.mission)||"",'"']})]},j.id)})}):o.jsx("p",{className:"text-gray-500 text-center pt-4 border-t",children:"    ."})})})]}),o.jsx(ao,{title:"  ",children:u.length>0?o.jsx("div",{className:"space-y-3",children:u.map(j=>o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-800",children:j.name}),o.jsx("p",{className:"font-mono text-emerald-600 text-center bg-gray-200 rounded-md py-1 mt-2",children:j.code}),o.jsx("p",{className:"text-xs text-gray-400 mt-1 text-left",children:p(j.date)})]},j.code))}):o.jsx("p",{className:"text-gray-500 text-center",children:"   ."})}),E.length>0&&o.jsx(ao,{title:"  ",children:o.jsx("div",{className:"flex overflow-x-auto space-x-4 pb-4",children:E.map(j=>o.jsx(ja,{campaign:j,variant:"suggested"},j.id))})}),o.jsx(ao,{title:" ",children:A.length>0?o.jsx("div",{className:"space-y-3",children:A.map(j=>o.jsxs("div",{className:"bg-emerald-50 p-3 rounded-lg border border-emerald-200",children:[o.jsx("p",{className:"text-sm text-emerald-800",children:j.message}),o.jsx("p",{className:"text-xs text-emerald-500 mt-2 text-left",children:p(j.timestamp)})]},j.id))}):o.jsx("p",{className:"text-gray-500 text-center",children:"   ."})}),o.jsx(ao,{title:" ",children:o.jsxs("div",{className:"space-y-3",children:[o.jsx(Aa,{to:"/leagues",icon:o.jsx(NE,{}),label:""}),o.jsx(Aa,{to:"/leaderboard",icon:o.jsx(_E,{}),label:x("profile.leaderboard")}),o.jsx(Aa,{to:"/support",icon:o.jsx(wE,{}),label:"  "}),o.jsx(Aa,{to:"/about-us",icon:o.jsx(TE,{}),label:" "}),o.jsx(Aa,{to:"/partners",icon:o.jsx(EE,{}),label:" "})]})})]})},RE=()=>o.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),IE=()=>o.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),jE=()=>{const n=bt(),{karmaCoins:t,transactions:l,contributionValue:i,addDirectContribution:u}=xt(),{t:c,formatNumber:f}=Ve(),[g,x]=T.useState(!1),[p,v]=T.useState(!1),[C,b]=T.useState(""),[N,_]=T.useState(""),A=(P=>P.reduce((Q,q)=>{const $=new Date(q.date),V=new Intl.DateTimeFormat("fa-IR",{year:"numeric",month:"long"}).format($);return Q[V]||(Q[V]=[]),Q[V].push(q),Q},{}))(l),j=P=>new Date(P).toLocaleDateString("fa-IR",{day:"numeric",month:"long"}),M=()=>{if(typeof C!="number"||C<=0){_("    .");return}u(C),_(""),b(""),x(!1)},D=()=>{v(!1),alert("   (   )  .")},B=()=>o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:()=>x(!1),children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full relative",onClick:P=>P.stopPropagation(),children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"  ()"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"           ."}),o.jsx(Ce,{label:"  ",id:"topUpAmount",type:"number",value:C,onChange:P=>{b(Number(P.target.value)),N&&_("")},placeholder:"50,000"}),N&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:N}),o.jsxs("div",{className:"mt-8 flex justify-end gap-4",children:[o.jsx(xe,{variant:"secondary",onClick:()=>x(!1),children:""}),o.jsx(xe,{onClick:M,children:"  "})]})]})});return o.jsxs("div",{className:"bg-white min-h-screen",children:[o.jsx("header",{className:"sticky top-0 bg-white z-10 shadow-sm",children:o.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center",children:[o.jsx("button",{onClick:()=>n(-1),className:"text-gray-600",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),o.jsx("h1",{className:"text-xl font-bold text-gray-800 text-center flex-grow",children:c("donationBalance.title")}),o.jsx("div",{className:"w-6"})," "]})}),o.jsxs("main",{className:"container mx-auto p-4",children:[o.jsxs("section",{className:"text-center py-6",children:[o.jsx("p",{className:"text-sm text-gray-500",children:c("donationBalance.totalContribution")}),o.jsxs("p",{className:"text-6xl font-extrabold text-green-600 mt-1",children:[f(i)," ",o.jsx("span",{className:"text-3xl font-semibold",children:c("donationBalance.toman")})]}),o.jsxs("p",{className:"text-md text-gray-600 mt-4",children:[c("donationBalance.karmaCoinsBalance")," ",o.jsx("span",{className:"font-bold text-yellow-600",children:t})]})]}),o.jsxs("section",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-2 flex justify-around items-center mb-8",children:[o.jsxs("button",{onClick:()=>v(!0),className:"flex-1 flex flex-col items-center justify-center p-3 space-y-1 text-gray-700 hover:bg-gray-100 rounded-lg",children:[o.jsx(RE,{}),o.jsx("span",{className:"text-sm font-semibold",children:c("donationBalance.withdraw")})]}),o.jsx("div",{className:"w-px h-12 bg-gray-200"}),o.jsxs("button",{onClick:()=>x(!0),className:"flex-1 flex flex-col items-center justify-center p-3 space-y-1 text-gray-700 hover:bg-gray-100 rounded-lg",children:[o.jsx(IE,{}),o.jsx("span",{className:"text-sm font-semibold",children:c("donationBalance.topUp")})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:c("donationBalance.transactionHistory")}),o.jsxs("div",{className:"space-y-4",children:[Object.entries(A).map(([P,Q])=>o.jsxs("div",{children:[o.jsx("div",{className:"bg-gray-100 rounded-md px-3 py-1 text-sm font-semibold text-gray-600 mb-3",children:P}),o.jsx("ul",{className:"space-y-2",children:Q.map(q=>o.jsxs("li",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-800",children:q.description}),o.jsx("p",{className:"text-sm text-gray-500",children:j(q.date)})]}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:`font-bold ${q.type==="earn"?"text-green-600":"text-red-600"}`,children:q.type==="earn"?`+${Math.abs(q.amount)}`:`-${Math.abs(q.amount)}`}),o.jsx("p",{className:"text-xs text-green-600",children:c("donationBalance.success")})]})]},q.id))})]},P)),l.length===0&&o.jsx("p",{className:"text-center text-gray-500 py-8",children:c("donationBalance.noHistory")})]})]})]}),g&&o.jsx(B,{}),o.jsx(Eo,{isOpen:p,onClose:()=>v(!1),onConfirm:D,title:"  ",message:"    .             .      ",confirmText:"  ",cancelText:""})]})},kE=()=>o.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),DE=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-yellow-500",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}),UE=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),LE=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"})}),R0=()=>{const n=new Date,l=(n.getDay()+1)%7,i=new Date(n);return i.setDate(n.getDate()-l),i.setHours(0,0,0,0),i},I0=(n,t)=>n.filter(l=>l.type==="earn"&&new Date(l.date)>=t).reduce((l,i)=>l+i.amount,0),PE=n=>{const t=Math.floor(n/1e3),l=Math.floor(t/86400),i=Math.floor(t%86400/3600),u=Math.floor(t%3600/60);return`${l}   ${i}   ${u} `},qE=()=>{const{userIdentifier:n,transactions:t}=xt(),{leagues:l}=It(),i=bt(),[u,c]=T.useState([]),[f,g]=T.useState("");T.useEffect(()=>{const b=R0();try{const E=localStorage.getItem("karma_users"),j=(E?JSON.parse(E):[]).map(M=>{const D=localStorage.getItem(`transactions_${M.identifier}`),B=D?JSON.parse(D):[],P=I0(B,b);return{...M,weeklyCoins:P}}).sort((M,D)=>D.weeklyCoins-M.weeklyCoins);c(j)}catch(E){console.error("Error fetching user data for leagues:",E)}const N=()=>{const E=new Date,A=new Date(b);A.setDate(b.getDate()+7);const j=A.getTime()-E.getTime();j>0?g(PE(j)):g("   !")};N();const _=setInterval(N,1e3*60);return()=>clearInterval(_)},[]);const{currentUserLeague:x,currentUserWeeklyCoins:p,progressToNextLeague:v}=T.useMemo(()=>{const b=R0(),N=I0(t,b);let _,E=0;for(let A=0;A<l.length;A++)if(N>=l[A].minCoins&&N<=l[A].maxCoins){_=l[A];const j=l[A+1];if(j){const M=j.minCoins-_.minCoins;E=(N-_.minCoins)/M*100}else E=100;break}return{currentUserLeague:_,currentUserWeeklyCoins:N,progressToNextLeague:E}},[t,l]),C=T.useMemo(()=>{const b={};return l.forEach(N=>{b[N.name]=u.filter(_=>_.weeklyCoins>=N.minCoins&&_.weeklyCoins<=N.maxCoins)}),b},[u,l]);return o.jsxs("div",{className:"bg-gray-50 min-h-screen pb-24",children:[o.jsx("header",{className:"sticky top-0 bg-white/80 backdrop-blur-md z-10 shadow-sm",children:o.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[o.jsx("div",{className:"w-10"}),o.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"   "}),o.jsx("button",{onClick:()=>i(-1),className:"text-gray-600 p-2",children:o.jsx(kE,{})})]})}),o.jsxs("main",{className:"container mx-auto p-4 space-y-8",children:[o.jsxs("section",{className:"bg-white p-6 rounded-2xl shadow-lg border border-emerald-200",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"    "}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"  "}),o.jsx("p",{className:`text-3xl font-extrabold ${x==null?void 0:x.textColor}`,children:(x==null?void 0:x.name)||"---"})]}),o.jsxs("div",{className:"flex items-center text-lg font-bold",children:[o.jsx(DE,{}),o.jsxs("span",{className:"mr-1",children:[p," "]})]})]}),x&&x.maxCoins!==1/0&&o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"flex justify-between text-xs font-medium text-gray-600 mb-1",children:[o.jsx("span",{children:"   "}),o.jsxs("span",{children:[Math.round(v),"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:o.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 h-2.5 rounded-full",style:{width:`${v}%`}})})]}),o.jsxs("div",{className:"mt-4 text-center bg-gray-100 p-2 rounded-lg text-sm font-semibold text-gray-700 flex items-center justify-center",children:[o.jsx(UE,{}),"   : ",f]})]}),o.jsx("section",{className:"space-y-6",children:l.map(b=>{const N=b.name===(x==null?void 0:x.name),_=C[b.name]||[];return o.jsxs("div",{className:`rounded-2xl shadow-md border-2 p-6 transition-all ${N?"border-emerald-500 bg-emerald-50":"bg-white border-transparent"}`,children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{className:`text-4xl ${b.iconColor}`,children:b.icon}),o.jsxs("div",{children:[o.jsxs("h3",{className:`text-2xl font-bold ${b.textColor}`,children:[" ",b.name]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[b.minCoins,"  ",b.maxCoins===1/0?"":b.maxCoins,"   "]})]})]}),o.jsxs("div",{className:"mt-4 bg-white/70 p-3 rounded-lg flex items-center",children:[o.jsx(LE,{}),o.jsx("p",{className:"font-semibold text-gray-800",children:b.prizeDescription})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"  :"}),o.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[_.slice(0,5).map(E=>o.jsx("img",{src:`https://i.pravatar.cc/150?u=${E.identifier}`,alt:E.identifier,title:`${E.identifier.split("@")[0]} (${E.weeklyCoins} )`,className:"w-10 h-10 rounded-full border-2 border-white shadow"},E.id)),_.length>5&&o.jsxs("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-xs font-bold text-gray-600",children:["+",_.length-5]}),_.length===0&&o.jsx("p",{className:"text-xs text-gray-500",children:"       ."})]})]})]},b.name)})})]})]})},BE=[{id:"user-1",name:" ",avatarUrl:"https://i.pravatar.cc/150?u=user-1",score:1250},{id:"user-2",name:" ",avatarUrl:"https://i.pravatar.cc/150?u=user-2",score:1100},{id:"user-3",name:" ",avatarUrl:"https://i.pravatar.cc/150?u=user-3",score:980},{id:"user-4",name:" ",avatarUrl:"https://i.pravatar.cc/150?u=user-4",score:850},{id:"user-5",name:" ",avatarUrl:"https://i.pravatar.cc/150?u=user-5",score:720},{id:"user-6",name:" ",avatarUrl:"https://i.pravatar.cc/150?u=user-6",score:610},{id:"user-8",name:" ",avatarUrl:"https://i.pravatar.cc/150?u=user-8",score:450},{id:"user-9",name:" ",avatarUrl:"https://i.pravatar.cc/150?u=user-9",score:300},{id:"user-10",name:" ",avatarUrl:"https://i.pravatar.cc/150?u=user-10",score:150}],HE=()=>o.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),zE=()=>o.jsx("div",{className:"text-3xl",children:""}),VE=()=>o.jsx("div",{className:"text-3xl",children:""}),GE=()=>o.jsx("div",{className:"text-3xl",children:""}),OE=()=>o.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M5 5a3 3 0 015.292-2.121C11.16 1.89 12 2.857 12 4c0 1.143-.84 2.11-1.708 3.121A3 3 0 015 9c-1.657 0-3-1.343-3-3s1.343-3 3-3zm10 0a3 3 0 015.292-2.121C21.16 1.89 22 2.857 22 4c0 1.143-.84 2.11-1.708 3.121A3 3 0 0115 9c-1.657 0-3-1.343-3-3s1.343-3 3-3zm-5 7a3 3 0 015.292-2.121C16.16 8.89 17 9.857 17 11c0 1.143-.84 2.11-1.708 3.121A3 3 0 0110 16c-1.657 0-3-1.343-3-3s1.343-3 3-3z",clipRule:"evenodd"})}),sc=({user:n,rank:t})=>{const l=["border-yellow-400 bg-yellow-50","border-gray-400 bg-gray-50","border-orange-400 bg-orange-50"],i=[o.jsx(zE,{},"1"),o.jsx(VE,{},"2"),o.jsx(GE,{},"3")];return o.jsxs("div",{className:`text-center p-4 rounded-2xl border-2 ${l[t-1]}`,children:[o.jsxs("div",{className:"relative inline-block",children:[o.jsx("img",{src:n.avatarUrl,alt:n.name,className:"w-20 h-20 rounded-full mx-auto border-4 border-white shadow-lg"}),o.jsx("div",{className:"absolute -bottom-2 -left-2",children:i[t-1]})]}),o.jsx("h3",{className:"mt-3 font-bold text-gray-800",children:n.name}),o.jsxs("p",{className:"text-sm text-yellow-600 font-semibold",children:[n.score," "]})]})},j0=({user:n,rank:t,isCurrentUser:l})=>o.jsxs("div",{className:`flex items-center p-3 rounded-lg ${l?"bg-emerald-100":"bg-white"}`,children:[o.jsx("div",{className:"w-8 text-center text-lg font-bold text-gray-500",children:t}),o.jsx("img",{src:n.avatarUrl,alt:n.name,className:"w-12 h-12 rounded-full mx-4"}),o.jsx("div",{className:"flex-grow",children:o.jsx("p",{className:`font-bold ${l?"text-emerald-800":"text-gray-800"}`,children:n.name})}),o.jsxs("div",{className:"flex items-center font-semibold text-yellow-600",children:[o.jsx("span",{children:n.score}),o.jsx(OE,{})]})]}),FE=()=>{const{userIdentifier:n,impactScore:t}=xt(),l=bt(),i={id:n||"currentUser",name:"",avatarUrl:`https://i.pravatar.cc/150?u=${n}`,score:t},u=[...BE,i].filter((x,p,v)=>p===v.findIndex(C=>C.id===x.id)).sort((x,p)=>p.score-x.score),c=u.findIndex(x=>x.id===i.id)+1,f=u.slice(0,3),g=u.slice(3);return o.jsxs("div",{className:"bg-gray-50 min-h-screen pb-24",children:[o.jsx("header",{className:"sticky top-0 bg-white z-10 shadow-sm",children:o.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[o.jsx("button",{onClick:()=>l(-1),className:"text-gray-600 p-2",children:o.jsx(HE,{})}),o.jsx("h1",{className:"text-xl font-bold text-gray-800",children:" "}),o.jsx("div",{className:"w-10"})," "]})}),o.jsxs("main",{className:"container mx-auto p-4",children:[o.jsxs("section",{className:"grid grid-cols-3 gap-4 mb-8",children:[f[1]&&o.jsx(sc,{user:f[1],rank:2}),f[0]&&o.jsx(sc,{user:f[0],rank:1}),f[2]&&o.jsx(sc,{user:f[2],rank:3})]}),o.jsx("section",{className:"space-y-2",children:g.map((x,p)=>o.jsx(j0,{user:x,rank:p+4,isCurrentUser:x.id===i.id},x.id))})]}),o.jsx("footer",{className:"fixed bottom-20 left-0 right-0 p-4 z-20",children:o.jsx("div",{className:"container mx-auto",children:o.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-emerald-300",children:o.jsx(j0,{user:i,rank:c,isCurrentUser:!0})})})})]})},Hg=()=>{const n=T.useContext(Mc);if(n===void 0)throw new Error("useSupportChat must be used within a SupportChatProvider");return n},JE=()=>o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197"})}),YE=()=>o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),$E=()=>o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),KE=()=>o.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),As=n=>new Intl.NumberFormat("fa-IR").format(n),io=({title:n,value:t,icon:l})=>o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg flex items-center space-x-4 space-x-reverse",children:[o.jsx("div",{className:"bg-emerald-100 text-emerald-600 p-3 rounded-full",children:l}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:n}),o.jsx("p",{className:"text-xl font-bold text-gray-800",children:t})]})]}),QE=({campaign:n,onBack:t,taskCompletions:l,totalUsers:i})=>{const{t:u}=Ve(),c=T.useMemo(()=>l.filter(b=>b.campaignId===n.id&&b.status==="approved"),[l,n.id]),f=T.useMemo(()=>new Set(c.map(b=>b.userId)).size,[c]),g=c.length,x=T.useMemo(()=>c.reduce((b,N)=>b+N.impactPoints,0),[c]),p=T.useMemo(()=>i>0?(f/i*100).toFixed(1):"0.0",[f,i]),v=T.useMemo(()=>{const b=new Map;return c.forEach(N=>{const _=b.get(N.userId)||{tasksCompleted:0,totalImpact:0};_.tasksCompleted+=1,_.totalImpact+=N.impactPoints,b.set(N.userId,_)}),Array.from(b.entries()).map(([N,_])=>({userId:N,..._})).sort((N,_)=>_.totalImpact-N.totalImpact)},[c]),C=()=>{window.print()};return o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg printable-report",children:[o.jsxs("div",{className:"flex justify-between items-start mb-8 no-print",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),o.jsxs("p",{className:"text-gray-500",children:[" : ",new Date().toLocaleDateString("fa-IR")]})]}),o.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[o.jsx("button",{onClick:t,className:"py-2 px-4 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:""}),o.jsx("button",{onClick:C,className:"py-2 px-4 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:" "})]})]}),o.jsxs("section",{className:"border-b pb-6 mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-emerald-600 mb-2",children:n.mission}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-700",children:[o.jsxs("div",{children:[o.jsx("strong",{children:":"})," ",n.brandName]}),o.jsxs("div",{children:[o.jsx("strong",{children:" :"})," ",u(`categories_list.${n.category}`)]}),o.jsxs("div",{children:[o.jsx("strong",{children:":"})," ",n.location]}),o.jsxs("div",{children:[o.jsx("strong",{children:"  :"})," ",n.daysLeft]}),o.jsxs("div",{children:[o.jsx("strong",{children:" :"})," ",As(n.targetAmount)," "]}),o.jsxs("div",{children:[o.jsx("strong",{children:" :"})," ",n.progress,"%"]})]})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"  "}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(io,{title:"  ",value:As(f),icon:o.jsx(JE,{})}),o.jsx(io,{title:"  ",value:As(g),icon:o.jsx(YE,{})}),o.jsx(io,{title:" ",value:As(x),icon:o.jsx($E,{})}),o.jsx(io,{title:" ",value:`${p}%`,icon:o.jsx(KE,{})})]})]}),o.jsxs("section",{className:"mb-8",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:" "}),o.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[o.jsx("p",{className:"font-semibold mb-2",children:"   "}),o.jsx("div",{className:"space-y-3",children:n.tasks.map(b=>{const N=c.filter(E=>E.taskId===b.id).length,_=g>0?N/g*100:0;return o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:b.description}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:o.jsx("div",{className:"bg-emerald-500 h-4 rounded-full text-right px-2 text-white text-xs flex items-center justify-center",style:{width:`${_}%`},children:As(N)})})]},b.id)})})]})]}),o.jsxs("section",{children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:" "}),o.jsx("div",{className:"overflow-x-auto border rounded-lg",children:o.jsxs("table",{className:"w-full text-sm text-right text-gray-600",children:[o.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3",children:""}),o.jsx("th",{className:"px-6 py-3",children:" "}),o.jsx("th",{className:"px-6 py-3",children:"  "}),o.jsx("th",{className:"px-6 py-3",children:"  "})]})}),o.jsx("tbody",{children:v.length>0?v.map((b,N)=>o.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:N+1}),o.jsx("td",{className:"px-6 py-4",children:b.userId}),o.jsx("td",{className:"px-6 py-4",children:As(b.tasksCompleted)}),o.jsx("td",{className:"px-6 py-4 font-bold",children:As(b.totalImpact)})]},b.userId)):o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"text-center py-8 text-gray-500",children:"       ."})})})]})})]})]})},XE=({isOpen:n,onClose:t,user:l,completions:i,campaigns:u,approveTaskCompletion:c,rejectTaskCompletion:f})=>{if(!n||!l)return null;const g=i.filter(C=>C.userId===l.identifier&&C.status==="pending"),x=i.filter(C=>C.userId===l.identifier&&C.status!=="pending"),p=C=>{const b=u.find(N=>N.id===C);return b?b.mission:" "},v=C=>{C.target===C.currentTarget&&t()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:v,"aria-modal":"true",role:"dialog",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-3xl w-full relative transform transition-all scale-100 flex flex-col max-h-[90vh]",children:[o.jsx("button",{onClick:t,className:"absolute top-4 left-4 text-gray-400 hover:text-gray-600",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"  "}),o.jsxs("p",{className:"text-gray-600 mb-6 text-sm",children:["       ",o.jsx("span",{className:"font-semibold text-emerald-600",children:l.identifier}),"."]}),g.length>0&&o.jsxs("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 p-4 rounded-lg flex-shrink-0",children:[o.jsx("h3",{className:"font-bold text-lg text-yellow-800 mb-3",children:"   "}),o.jsx("div",{className:"space-y-3",children:g.map(C=>o.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 flex flex-col sm:flex-row justify-between sm:items-center gap-3",children:[o.jsxs("div",{className:"flex-grow",children:[o.jsx("p",{className:"font-semibold text-gray-800",children:Ia[C.taskDescription]||C.taskDescription}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[' : "',p(C.campaignId),'"']}),o.jsxs("p",{className:"text-sm font-mono text-blue-600 mt-1",children:["ID: ",C.submittedData]})]}),o.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2 self-end sm:self-center",children:[o.jsx("button",{onClick:()=>c(C.id),className:"py-2 px-4 text-sm bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg transition-colors",children:""}),o.jsx("button",{onClick:()=>f(C.id),className:"py-2 px-4 text-sm bg-red-500 hover:bg-red-600 text-white font-bold rounded-lg transition-colors",children:""})]})]},C.id))})]}),o.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-3",children:"  "}),o.jsx("div",{className:"flex-grow overflow-y-auto border rounded-lg",children:x.length>0?o.jsxs("table",{className:"w-full text-sm text-right text-gray-500",children:[o.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-100 sticky top-0",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3",children:" ()"}),o.jsx("th",{className:"px-6 py-3",children:""}),o.jsx("th",{className:"px-6 py-3",children:"  "}),o.jsx("th",{className:"px-6 py-3",children:""})]})}),o.jsx("tbody",{className:"bg-white divide-y",children:x.map(C=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("p",{className:"font-medium text-gray-900",children:Ia[C.taskDescription]||C.taskDescription}),o.jsx("p",{className:"text-xs text-gray-500",children:p(C.campaignId)})]}),o.jsxs("td",{className:"px-6 py-4",children:[C.status==="approved"&&o.jsx("span",{className:"text-xs font-bold text-green-600",children:" "}),C.status==="rejected"&&o.jsx("span",{className:"text-xs font-bold text-red-600",children:" "})]}),o.jsx("td",{className:"px-6 py-4 font-mono text-blue-600",children:C.submittedData||"---"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(C.completedAt).toLocaleDateString("fa-IR",{year:"numeric",month:"long",day:"numeric"})})]},C.id))})]}):o.jsxs("div",{className:"text-center py-16 px-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"    ."}),o.jsx("p",{className:"mt-2 text-gray-500",children:"        ."})]})}),o.jsx("div",{className:"mt-8 text-left flex-shrink-0",children:o.jsx("button",{onClick:t,className:"py-2 px-5 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold rounded-lg transition-colors",children:""})})]})})},ZE=({isOpen:n,onClose:t,user:l})=>{const[i,u]=T.useState(""),[c,f]=T.useState(""),{sendPersonalNotification:g}=bo();if(!n)return null;const x=()=>{if(i.trim()===""){f("     .");return}f(""),g(l.identifier,i),alert(`    ${l.identifier}    .`),t()},p=v=>{v.target===v.currentTarget&&t()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:p,"aria-modal":"true",role:"dialog",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full relative transform transition-all scale-100",children:[o.jsx("button",{onClick:t,className:"absolute top-4 left-4 text-gray-400 hover:text-gray-600",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"  "}),o.jsxs("p",{className:"text-gray-600 mb-6 text-sm",children:["     ",o.jsx("span",{className:"font-semibold text-emerald-600",children:l.identifier}),"   ."]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"personal-message",className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),o.jsx("textarea",{id:"personal-message",value:i,onChange:v=>{u(v.target.value),c&&f("")},rows:5,className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"    ..."})]}),c&&o.jsx("p",{className:"text-red-500 text-sm",children:c})]}),o.jsx("div",{className:"mt-8",children:o.jsx(xe,{onClick:x,className:"w-full",children:" "})})]})})},WE=()=>{const{newsNotifications:n,karmaClubNotifications:t,addAnnouncement:l,deleteNotification:i,sendBulkPersonalNotification:u}=bo(),{t:c}=Ve(),[f,g]=T.useState(""),[x,p]=T.useState("news"),[v,C]=T.useState(null),[b,N]=T.useState(""),_=M=>{M.target.files&&M.target.files[0]&&C(M.target.files[0])},E=()=>{if(!f.trim()){alert(c("admin.notifications.enterText"));return}if(v){const M=new FileReader;M.onloadend=()=>{l(x,f,M.result),g(""),C(null);const D=document.getElementById("video-upload");D&&(D.value="")},M.readAsDataURL(v)}else l(x,f),g("")},A=()=>{if(!b.trim()){alert(c("admin.notifications.enterText"));return}u(b),alert(c("admin.notifications.bulkSuccessAlert")),N("")},j=({title:M,notifications:D})=>o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg text-gray-700 mb-3",children:M}),D.length>0?o.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto pr-2",children:D.map(B=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg border",children:[o.jsx("p",{className:"text-gray-800 text-sm truncate",children:B.message}),o.jsx("button",{onClick:()=>i(B.id),className:"text-red-500 hover:text-red-700 font-semibold py-1 px-3 text-sm transition-colors flex-shrink-0",children:c("admin.notifications.delete")})]},B.id))}):o.jsx("p",{className:"text-gray-500 text-center p-4",children:c("admin.notifications.noItems")})]});return o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:c("admin.notifications.title")}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[o.jsxs("section",{className:"lg:col-span-2 bg-white p-6 rounded-lg shadow",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:c("admin.notifications.createTitle")}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"announcement-message",className:"block text-sm font-medium text-gray-700 mb-2",children:c("admin.notifications.messageLabel")}),o.jsx("textarea",{id:"announcement-message",value:f,onChange:M=>g(M.target.value),rows:5,className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:c("admin.notifications.placeholder")})]}),o.jsx(Ms,{label:c("admin.notifications.typeLabel"),id:"announcement-type",value:x,onChange:M=>p(M.target.value),options:[c("notifications.news"),c("notifications.karmaClub")],optionValues:["news","karmaClub"]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"video-upload",className:"block text-sm font-medium text-gray-700 mb-2",children:c("admin.notifications.videoLabel")}),o.jsx("input",{id:"video-upload",type:"file",accept:"video/*",onChange:_,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-emerald-50 file:text-emerald-700 hover:file:bg-emerald-100"})]}),o.jsx(xe,{onClick:E,className:"w-full",children:c("admin.notifications.sendButton")})]})]}),o.jsxs("section",{className:"lg:col-span-3 bg-white p-6 rounded-lg shadow space-y-6",children:[o.jsx(j,{title:c("admin.notifications.newsListTitle"),notifications:n}),o.jsx("hr",{}),o.jsx(j,{title:c("admin.notifications.karmaListTitle"),notifications:t})]})]}),o.jsxs("section",{className:"mt-8 bg-white p-6 rounded-lg shadow",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:c("admin.notifications.bulkTitle")}),o.jsx("p",{className:"text-sm text-gray-500 mb-4",children:c("admin.notifications.bulkDescription")}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"bulk-message",className:"block text-sm font-medium text-gray-700 mb-2",children:c("admin.notifications.bulkMessageLabel")}),o.jsx("textarea",{id:"bulk-message",value:b,onChange:M=>N(M.target.value),rows:5,className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:c("admin.notifications.placeholder")})]}),o.jsx(xe,{onClick:A,className:"w-full",children:c("admin.notifications.bulkSendButton")})]})]})]})},e_=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),t_=()=>{const{chats:n,sendMessage:t,markAsRead:l,getUnreadCount:i}=Z1(),{userIdentifier:u}=xt(),[c,f]=T.useState(null),[g,x]=T.useState(""),p=T.useRef(null),v=Object.keys(n).sort((b,N)=>{var A,j;const _=((A=n[b][n[b].length-1])==null?void 0:A.timestamp)||"",E=((j=n[N][n[N].length-1])==null?void 0:j.timestamp)||"";return new Date(E).getTime()-new Date(_).getTime()});T.useEffect(()=>{var b;c&&(l(c),(b=p.current)==null||b.scrollIntoView({behavior:"smooth"}))},[c,n]);const C=b=>{b.preventDefault(),!(!g.trim()||!c)&&(t(c,g,"support"),x(""))};return o.jsxs("div",{className:"h-full flex flex-row bg-white rounded-lg shadow-lg overflow-hidden",children:[o.jsxs("aside",{className:"w-1/3 border-r flex flex-col",children:[o.jsx("div",{className:"p-4 border-b",children:o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:" "})}),o.jsx("div",{className:"flex-grow overflow-y-auto",children:v.map(b=>{const N=i(b);return o.jsx("div",{onClick:()=>f(b),className:`p-4 cursor-pointer hover:bg-emerald-50 border-b ${c===b?"bg-emerald-100":""}`,children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"font-semibold text-gray-700",children:b}),N>0&&o.jsx("span",{className:"bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:N})]})},b)})})]}),o.jsx("main",{className:"w-2/3 flex flex-col",children:c?o.jsxs(o.Fragment,{children:[o.jsx("header",{className:"p-4 border-b bg-gray-50",children:o.jsxs("h3",{className:"font-bold text-gray-800",children:["  ",c]})}),o.jsxs("div",{className:"flex-grow overflow-y-auto p-4 space-y-4 bg-gray-100",children:[n[c].map(b=>o.jsxs("div",{className:`flex items-end gap-3 ${b.sender==="support"?"justify-end":"justify-start"}`,children:[b.sender==="user"&&o.jsx("img",{src:`https://i.pravatar.cc/150?u=${c}`,alt:"User",className:"w-8 h-8 rounded-full"}),o.jsxs("div",{className:`max-w-md rounded-2xl px-4 py-3 ${b.sender==="support"?"bg-emerald-500 text-white rounded-br-none":"bg-white text-gray-800 rounded-bl-none shadow-sm"}`,children:[o.jsx("p",{className:"text-sm",children:b.text}),o.jsx("p",{className:"text-xs opacity-70 mt-1 text-right",children:new Date(b.timestamp).toLocaleTimeString("fa-IR",{hour:"2-digit",minute:"2-digit"})})]})]},b.id)),o.jsx("div",{ref:p})]}),o.jsx("footer",{className:"p-4 border-t bg-white",children:o.jsxs("form",{onSubmit:C,className:"flex items-center gap-3",children:[o.jsx("input",{type:"text",value:g,onChange:b=>x(b.target.value),placeholder:"   ...",className:"w-full bg-gray-100 rounded-full py-3 px-5 border border-gray-200 focus:outline-none focus:ring-2 focus:ring-emerald-400"}),o.jsx("button",{type:"submit",className:"p-3 rounded-full bg-emerald-500 text-white hover:bg-emerald-600 disabled:bg-gray-300",disabled:!g.trim(),children:o.jsx(e_,{})})]})})]}):o.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:o.jsx("p",{children:"      ."})})})]})},n_=({isOpen:n,onClose:t,onSave:l,reward:i})=>{const{t:u}=Ve(),[c,f]=T.useState(null),[g,x]=T.useState("");T.useEffect(()=>{var _;i&&(f({...i}),x(((_=i.codes)==null?void 0:_.join(`
`))||""))},[i]);const p=T.useMemo(()=>g.split(`
`).map(_=>_.trim()).filter(Boolean).length,[g]);if(!n||!c)return null;const v=(_,E)=>{f(A=>A?{...A,[_]:E}:null)},C=()=>{if(c){const _=g.split(`
`).map(A=>A.trim()).filter(Boolean),E=_.length>0;l({...c,codes:E?_:void 0,quantity:E?_.length:c.quantity})}},b=_=>{_.target===_.currentTarget&&t()},N=c.id<1e3&&!c.name.includes(" ");return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:b,role:"dialog","aria-modal":"true",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-lg w-full relative",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:" "}),N&&o.jsx("div",{className:"text-sm text-amber-800 bg-amber-50 p-3 rounded-md mb-4 border border-amber-200",children:u("admin.predefinedRewardEditHint")}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Ce,{label:" ",id:"reward-name",value:c.name,onChange:_=>v("name",_.target.value),disabled:N}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"reward-desc",className:"block text-sm font-medium text-gray-700 mb-2",children:""}),o.jsx("textarea",{id:"reward-desc",value:c.description,onChange:_=>v("description",_.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-emerald-500 focus:border-emerald-500",disabled:N})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"reward-codes-edit",className:"block text-sm font-medium text-gray-700 mb-2",children:"  ( -     )"}),o.jsx("textarea",{id:"reward-codes-edit",value:g,onChange:_=>x(_.target.value),rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-emerald-500 focus:border-emerald-500 font-mono text-sm"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Ce,{label:" ( )",id:"reward-cost",type:"number",value:c.cost,onChange:_=>v("cost",Number(_.target.value))}),o.jsx(Ce,{label:" ",id:"reward-quantity",type:"number",value:p>0?p:c.quantity,onChange:_=>v("quantity",Number(_.target.value)),disabled:p>0,className:p>0?"bg-gray-200 cursor-not-allowed":""})]})]}),o.jsxs("div",{className:"mt-8 flex justify-end gap-4",children:[o.jsx(xe,{variant:"secondary",onClick:t,children:""}),o.jsx(xe,{onClick:C,children:" "})]})]})})},s_=()=>{const{karmaClubRewards:n,setKarmaClubRewards:t}=It(),{t:l}=Ve(),[i,u]=T.useState(null),c={name:"",cost:0,description:"",quantity:0},[f,g]=T.useState(c),[x,p]=T.useState(""),[v,C]=T.useState(Object.keys(n)[0]||"discounts"),b="bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-800 border-gray-600 focus:border-emerald-500 focus:ring-emerald-500",N=T.useMemo(()=>x.split(`
`).map(M=>M.trim()).filter(Boolean).length,[x]),_=M=>{t(D=>{const B={...D};for(const P in B){const Q=B[P].findIndex(q=>q.id===M.id);if(Q>-1){B[P][Q]=M;break}}return B}),u(null)},E=M=>{window.confirm(l("admin.deleteRewardConfirmation"))&&t(D=>{const B={...D};for(const P in B)B[P]=B[P].filter(Q=>Q.id!==M);return B})},A=(M,D)=>{g(B=>({...B,[M]:D}))},j=()=>{if(!f.name||f.cost<=0||!v){alert(l("admin.fillRewardFields"));return}const M=x.split(`
`).map(P=>P.trim()).filter(Boolean),D=M.length>0,B={id:Date.now(),...f,quantity:D?M.length:f.quantity,codes:D?M:void 0};t(P=>({...P,[v]:[...P[v]||[],B]})),g(c),p("")};return o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"  "}),o.jsxs("section",{className:"bg-white p-6 rounded-lg shadow mb-8",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:" "}),o.jsx("div",{className:"space-y-4",children:Object.entries(n).map(([M,D])=>o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg text-gray-700 mb-2",children:l(`karma_club_rewards.${M}.title`)}),o.jsx("div",{className:"space-y-2",children:D.map(B=>{const Q=B.id<1e3&&!B.name.includes(" ")?l(`karma_club_rewards.${M}.${B.name}`):B.name;return o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center p-3 bg-gray-50 rounded-lg border",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-800",children:Q}),o.jsxs("p",{className:"text-xs text-gray-500",children:[B.cost,"   ",B.quantity,"   "]})]}),o.jsxs("div",{className:"flex space-x-2 space-x-reverse mt-2 sm:mt-0 flex-shrink-0",children:[o.jsx(xe,{onClick:()=>u(B),variant:"secondary",className:"py-1 px-3 text-xs",children:""}),o.jsx(xe,{onClick:()=>E(B.id),variant:"secondary",className:"py-1 px-3 text-xs text-red-600 bg-red-100 hover:bg-red-200",children:""})]})]},B.id)})})]},M))})]}),o.jsxs("section",{className:"bg-white p-6 rounded-lg shadow",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"  "}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Ce,{label:" ",id:"new-reward-name",value:f.name,onChange:M=>A("name",M.target.value),className:b}),o.jsx(Ce,{label:"",id:"new-reward-desc",value:f.description,onChange:M=>A("description",M.target.value),className:b}),o.jsx(Ce,{label:" ()",type:"number",id:"new-reward-cost",value:f.cost||"",onChange:M=>A("cost",Number(M.target.value)),className:b}),o.jsx(Ce,{label:" ",type:"number",id:"new-reward-qty",value:N>0?N:f.quantity||"",onChange:M=>A("quantity",Number(M.target.value)),className:`${b} ${N>0?"bg-gray-600 cursor-not-allowed":""}`,disabled:N>0}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{htmlFor:"new-reward-codes",className:"block text-sm font-medium text-gray-700 mb-2",children:"  ( -     )"}),o.jsx("textarea",{id:"new-reward-codes",value:x,onChange:M=>p(M.target.value),rows:5,placeholder:`CODE-123
CODE-456
CODE-789`,className:`w-full p-2 border rounded-lg shadow-sm ${b}`}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"         ."})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"new-reward-category",className:"block text-sm font-medium text-gray-700 mb-2",children:""}),o.jsx("select",{id:"new-reward-category",value:v,onChange:M=>C(M.target.value),className:`w-full px-4 py-2 border rounded-lg shadow-sm transition-colors bg-white ${b}`,children:Object.keys(n).map(M=>o.jsx("option",{value:M,children:l(`karma_club_rewards.${M}.title`)},M))})]})]}),o.jsx(xe,{onClick:j,className:"mt-4",children:" "})]}),o.jsx(n_,{isOpen:!!i,onClose:()=>u(null),onSave:_,reward:i})]})},l_=()=>{const{predefinedTasks:n,setPredefinedTasks:t}=It(),[l,i]=T.useState(""),[u,c]=T.useState(""),[f,g]=T.useState(5),[x,p]=T.useState(3),[v,C]=T.useState(""),b="bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-800 border-gray-600 focus:border-emerald-500 focus:ring-emerald-500",N=()=>{if(u&&l){const A={description:u,type:"generic",impactPoints:Math.max(1,Math.min(10,f)),karmaCoins:Math.max(1,Math.min(10,x)),targetUrl:v.trim()||void 0};t(j=>({...j,[l]:[...j[l]||[],A]})),c(""),i(""),g(5),p(3),C("")}},_=(A,j,M,D)=>{t(B=>({...B,[A]:B[A].map(P=>{if(P.description===j){if(M==="impactPoints"||M==="karmaCoins"){const Q=Math.max(1,Math.min(10,Number(D)||1));return{...P,[M]:Q}}if(M==="targetUrl"){const Q=D.trim();return{...P,[M]:Q||void 0}}}return P})}))},E=(A,j)=>{window.confirm(`    "${Ia[j]||j}"  `)&&t(M=>({...M,[A]:M[A].filter(D=>D.description!==j)}))};return o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:""}),o.jsxs("section",{className:"bg-white p-6 rounded-lg shadow mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"  "}),o.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"               ."}),o.jsx("div",{className:"space-y-4",children:Object.entries(n).map(([A,j])=>o.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50",children:[o.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:rc[A]||A}),o.jsx("div",{className:"space-y-3",children:j.map(M=>o.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-800 flex-grow",children:Ia[M.description]||M.description}),o.jsx("button",{onClick:()=>E(A,M.description),className:"text-red-500 hover:text-red-700 font-semibold py-1 px-3 text-sm transition-colors flex-shrink-0",children:""})]}),o.jsxs("div",{className:"mt-3 pt-3 border-t",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"  (-)"}),o.jsx("input",{type:"number",value:M.impactPoints,onChange:D=>_(A,M.description,"impactPoints",parseInt(D.target.value,10)),min:"1",max:"10",className:`w-full px-4 py-2 border rounded-lg shadow-sm ${b}`})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"  (-)"}),o.jsx("input",{type:"number",value:M.karmaCoins||1,onChange:D=>_(A,M.description,"karmaCoins",parseInt(D.target.value,10)),min:"1",max:"10",className:`w-full px-4 py-2 border rounded-lg shadow-sm ${b}`})]})]}),o.jsxs("div",{className:"mt-3",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:" URL  ()"}),o.jsx("input",{type:"url",placeholder:"https://example.com/task-page",value:M.targetUrl||"",onChange:D=>_(A,M.description,"targetUrl",D.target.value),className:`w-full px-4 py-2 border rounded-lg shadow-sm ${b}`})]})]})]},M.description))})]},A))}),o.jsxs("div",{className:"mt-4 border-t pt-4",children:[o.jsx("h3",{className:"font-semibold mb-2 text-lg",children:"   "}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[o.jsx("div",{className:"md:col-span-2",children:o.jsx(Ce,{label:" ",id:"new-task-desc",value:u,onChange:A=>c(A.target.value),className:b})}),o.jsx("div",{className:"md:col-span-2",children:o.jsx(Ce,{label:" URL  ()",id:"new-task-url",value:v,onChange:A=>C(A.target.value),placeholder:"https://...",className:b})}),o.jsx(Ms,{label:" ",id:"task-category-select",value:l,onChange:A=>i(A.target.value),options:Object.keys(n).map(A=>rc[A]||A),optionValues:Object.keys(n),className:b}),o.jsx("div",{})," ",o.jsx(Ce,{label:"  (-)",type:"number",id:"new-task-impact",value:f,onChange:A=>g(Number(A.target.value)),min:"1",max:"10",className:b}),o.jsx(Ce,{label:"  (-)",type:"number",id:"new-task-coins",value:x,onChange:A=>p(Number(A.target.value)),min:"1",max:"10",className:b}),o.jsx("div",{className:"md:col-span-2",children:o.jsx(xe,{onClick:N,children:" "})})]})]})]})]})},k0={"mission_details.food.label":"   ","mission_details.food.quantityLabel":"  ","mission_details.school_supplies.label":"    ","mission_details.school_supplies.quantityLabel":" ","mission_details.medical.label":"   ","mission_details.medical.quantityLabel":"   ","mission_details.production.label":"  ","mission_details.production.quantityLabel":"  "},a_=()=>{var C;const{categories:n,missionDetails:t,setMissionDetails:l}=It(),{t:i}=Ve(),[u,c]=T.useState({label:"",quantityLabel:"",minQuantity:10,costPerUnit:1e4,defaultCategory:((C=n[0])==null?void 0:C.name)||"",imageUrl:""}),f="bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-800 border-gray-600 focus:border-emerald-500 focus:ring-emerald-500",g=(b,N,_)=>{l(E=>({...E,[b]:{...E[b],[N]:N==="costPerUnit"||N==="minQuantity"?Number(_):_}}))},x=b=>{const N=t[b],_=N.label||k0[N.labelKey||""]||b;window.confirm(`      "${_}"       .`)&&l(E=>{const A={...E};return delete A[b],A})},p=(b,N)=>{c(_=>({..._,[b]:N}))},v=()=>{var M;const{label:b,quantityLabel:N,costPerUnit:_,minQuantity:E,defaultCategory:A}=u;if(!b||!N||!_||!E||!A){alert("       .");return}const j=`custom_${Date.now()}`;l(D=>({...D,[j]:u})),c({label:"",quantityLabel:"",minQuantity:10,costPerUnit:1e4,defaultCategory:((M=n[0])==null?void 0:M.name)||"",imageUrl:""})};return o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"  "}),o.jsxs("section",{className:"bg-white p-6 rounded-lg shadow",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"   ( )"}),o.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"                 ."}),o.jsx("div",{className:"space-y-4",children:Object.entries(t).map(([b,N])=>{const _=N;return o.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h3",{className:"font-semibold text-gray-700",children:_.label||k0[_.labelKey||""]||b}),o.jsx("button",{onClick:()=>x(b),className:"text-red-500 hover:text-red-700 font-semibold py-1 px-3 text-sm transition-colors flex-shrink-0",children:" "})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Ce,{label:"  ()",type:"number",id:`cost-${b}`,value:_.costPerUnit,onChange:E=>g(b,"costPerUnit",E.target.value),className:f}),o.jsx(Ce,{label:" ",type:"number",id:`min-${b}`,value:_.minQuantity,onChange:E=>g(b,"minQuantity",E.target.value),className:f}),o.jsx(Ms,{label:"   ",id:`cat-${b}`,value:_.defaultCategory,onChange:E=>g(b,"defaultCategory",E.target.value),options:n.map(E=>E.name),className:f}),o.jsx("div",{className:"md:col-span-2",children:o.jsx(yc,{label:" ",value:_.imageUrl||null,onFileSelect:E=>g(b,"imageUrl",E)})})]})]},b)})}),o.jsxs("div",{className:"mt-6 border-t pt-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"   "}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Ce,{label:"  ",id:"new-template-label",value:u.label||"",onChange:b=>p("label",b.target.value),placeholder:":      ",className:f}),o.jsx(Ce,{label:" ",id:"new-template-qty-label",value:u.quantityLabel||"",onChange:b=>p("quantityLabel",b.target.value),placeholder:":  ",className:f}),o.jsx(Ce,{label:"   ()",id:"new-template-cost",type:"number",value:u.costPerUnit,onChange:b=>p("costPerUnit",Number(b.target.value)),className:f}),o.jsx(Ce,{label:" ",id:"new-template-min-qty",type:"number",value:u.minQuantity,onChange:b=>p("minQuantity",Number(b.target.value)),className:f}),o.jsx(Ms,{label:"   ",id:"new-template-category",value:u.defaultCategory,onChange:b=>p("defaultCategory",b.target.value),options:n.map(b=>b.name),className:f}),o.jsx("div",{className:"md:col-span-2",children:o.jsx(yc,{label:" ",value:u.imageUrl||null,onFileSelect:b=>p("imageUrl",b)})}),o.jsx("div",{className:"md:col-span-2",children:o.jsx(xe,{onClick:v,children:"  "})})]})]})]})]})},i_=()=>{const{brands:n,setBrands:t,charities:l,setCharities:i,saveAllSettings:u,isDirty:c}=It(),[f,g]=T.useState({name:"",logoUrl:""}),[x,p]=T.useState({name:"",logoUrl:"",website:""}),v="bg-gray-700 text-white placeholder-gray-400 focus:bg-gray-800 border-gray-600 focus:border-emerald-500 focus:ring-emerald-500",C=()=>{if(f.name&&f.logoUrl){const A={id:`brand-${Date.now()}`,...f};t(j=>[...j,A]),g({name:"",logoUrl:""})}else alert("   URL     .")},b=A=>{window.confirm("      ")&&t(j=>j.filter(M=>M.id!==A))},N=()=>{if(x.name&&x.logoUrl&&x.website){const A={id:`charity-${Date.now()}`,...x};i(j=>[...j,A]),p({name:"",logoUrl:"",website:""})}else alert("      .")},_=A=>{window.confirm("      ")&&i(j=>j.filter(M=>M.id!==A))},E=()=>{u(),alert("    !")};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),o.jsx(xe,{onClick:E,disabled:!c,children:c?" ":"  "})]}),o.jsxs("section",{className:"bg-white p-6 rounded-lg shadow mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:" "}),o.jsx("div",{className:"space-y-3 mb-6",children:n.map(A=>o.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg border",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("img",{src:A.logoUrl,alt:A.name,className:"h-10 w-10 object-contain rounded-full bg-white p-1"}),o.jsx("span",{className:"font-semibold text-gray-800",children:A.name})]}),o.jsx(xe,{onClick:()=>b(A.id),variant:"secondary",className:"py-1 px-3 text-xs text-red-600 bg-red-100 hover:bg-red-200",children:""})]},A.id))}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx("h3",{className:"font-semibold text-lg mb-2",children:"  "}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[o.jsx(Ce,{label:" ",id:"new-brand-name",value:f.name,onChange:A=>g({...f,name:A.target.value}),className:v}),o.jsx(Ce,{label:"URL ",id:"new-brand-logo",value:f.logoUrl,onChange:A=>g({...f,logoUrl:A.target.value}),className:v})]}),o.jsx(xe,{onClick:C,className:"mt-4",children:" "})]})]}),o.jsxs("section",{className:"bg-white p-6 rounded-lg shadow",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"  NGO"}),o.jsx("div",{className:"space-y-3 mb-6",children:l.map(A=>o.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg border",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("img",{src:A.logoUrl,alt:A.name,className:"h-10 w-10 object-contain rounded-full bg-white p-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-800",children:A.name}),o.jsx("a",{href:A.website,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline",children:A.website})]})]}),o.jsx(xe,{onClick:()=>_(A.id),variant:"secondary",className:"py-1 px-3 text-xs text-red-600 bg-red-100 hover:bg-red-200",children:""})]},A.id))}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx("h3",{className:"font-semibold text-lg mb-2",children:" /NGO "}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[o.jsx(Ce,{label:" ",id:"new-charity-name",value:x.name,onChange:A=>p({...x,name:A.target.value}),className:v}),o.jsx(Ce,{label:"URL ",id:"new-charity-logo",value:x.logoUrl,onChange:A=>p({...x,logoUrl:A.target.value}),className:v}),o.jsx(Ce,{label:"",id:"new-charity-website",value:x.website,onChange:A=>p({...x,website:A.target.value}),className:v})]}),o.jsx(xe,{onClick:N,className:"mt-4",children:" "})]})]})]})},o_=()=>{const{leagues:n,setLeagues:t,saveAllSettings:l,isDirty:i}=It(),u="bg-gray-800 text-white placeholder-gray-400 focus:bg-gray-900 border-gray-600 focus:border-emerald-500 focus:ring-emerald-500",c=(g,x,p)=>{const v=JSON.parse(JSON.stringify(n));if(x==="name"||x==="prizeDescription"){v[g][x]=p,t(v);return}const C=Number(p);if(!(isNaN(C)||C<0)){if(x==="minCoins"){if(g>0){if(C<=v[g-1].minCoins||C>v[g].maxCoins)return;v[g].minCoins=C,v[g-1].maxCoins=C-1}}else if(x==="maxCoins"&&g<v.length-1){if(C<v[g].minCoins||C>=v[g+1].maxCoins)return;v[g].maxCoins=C,v[g+1].minCoins=C+1}t(v)}},f=()=>{l(),alert("    !")};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"   "}),o.jsx("p",{className:"text-gray-500 mt-2",children:"                ."})]}),o.jsx(xe,{onClick:f,disabled:!i,children:i?" ":"  "})]}),o.jsx("section",{className:"space-y-6",children:n.map((g,x)=>o.jsxs("div",{className:`p-6 bg-white rounded-lg shadow-md border-l-4 ${g.color.replace("bg-","border-")}`,children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("span",{className:`text-4xl ${g.iconColor}`,children:g.icon}),o.jsx("div",{className:"flex-grow",children:o.jsx(Ce,{label:" ",id:`name-${x}`,value:g.name,onChange:p=>c(x,"name",p.target.value),className:u})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Ce,{label:"   ",id:`minCoins-${x}`,type:"number",value:g.minCoins,onChange:p=>c(x,"minCoins",p.target.value),disabled:x===0,className:`${u} ${x===0?"bg-gray-600 cursor-not-allowed":""}`}),o.jsx(Ce,{label:" ",id:`maxCoins-${x}`,type:"number",value:g.maxCoins===1/0?"":g.maxCoins,onChange:p=>c(x,"maxCoins",p.target.value),disabled:x===n.length-1,placeholder:g.maxCoins===1/0?"":"",className:`${u} ${x===n.length-1?"bg-gray-600 cursor-not-allowed":""}`}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{htmlFor:`prize-${x}`,className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),o.jsx("textarea",{id:`prize-${x}`,value:g.prizeDescription,onChange:p=>c(x,"prizeDescription",p.target.value),rows:3,className:`w-full px-4 py-2 border rounded-lg shadow-sm transition-colors ${u}`})]})]})]},g.name))})]})},r_=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),u_=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),D0=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),c_=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),d_=({isOpen:n,onClose:t})=>n?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",onClick:t,children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-2xl w-full relative transform transition-all scale-100",onClick:l=>l.stopPropagation(),children:[o.jsx("button",{onClick:t,className:"absolute top-4 left-4 text-gray-400 hover:text-gray-600",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"     "}),o.jsxs("div",{className:"prose prose-sm max-w-none text-gray-700",children:[o.jsx("p",{children:"               .       :"}),o.jsxs("ol",{children:[o.jsxs("li",{children:[o.jsx("strong",{children:" :"}),'                   " "  (Paste) .']}),o.jsxs("li",{children:[o.jsx("strong",{children:" :"}),'   " "           .  : ',o.jsx("em",{children:'"       "'}),"  ",o.jsx("em",{children:'"         "'}),"."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"  :"}),'   " "       .']}),o.jsxs("li",{children:[o.jsx("strong",{children:" :"}),'                 "  "  .']}),o.jsxs("li",{children:[o.jsx("strong",{children:"  :"}),'     ""                         .']})]})]}),o.jsx("div",{className:"mt-8 text-left",children:o.jsx(xe,{variant:"secondary",onClick:t,children:" "})})]})}):null,f_="You are a world-class senior frontend developer assigned to assist the admin of the 'Karma' application. Your expertise is in React, TypeScript, and Tailwind CSS.\n\nThe 'Karma' application has the following architecture:\n- **Framework:** React with TypeScript.\n- **Styling:** Tailwind CSS, including the '@tailwindcss/typography' plugin.\n- **Routing:** `react-router-dom` (using HashRouter).\n- **State Management:** React Context API. Key contexts are `AuthContext` for user data and `CampaignContext` for campaign data.\n- **Data Persistence:** All data is stored in the browser's `localStorage`. There is no backend database.\n- **Structure:** Code is organized into `pages/`, `components/`, `context/`, and `hooks/`. Main type definitions are in `types.ts`.\n- **UI Components:** There are reusable components like `Button.tsx`, `Input.tsx`, `Select.tsx` in the `components/` directory.\n- **Language:** The user interface is primarily in Persian (Farsi), so code examples involving UI text should use Persian.\n\nYour primary role is to help the admin solve programming issues, suggest new features, and provide clean, efficient, and correct code snippets. When providing code, ALWAYS wrap it in Markdown code blocks with the language specified (e.g., ```tsx). Be concise, helpful, and respond in Persian.",m_=n=>{const t=[];let l=0;const i=/```(\w*)\n([\s\S]+?)```/g;let u;for(;(u=i.exec(n))!==null;){u.index>l&&t.push(o.jsx("div",{className:"prose prose-sm max-w-none",children:n.substring(l,u.index)},`text-${l}`));const c=u[1]||"plaintext",f=u[2];t.push(o.jsxs("div",{className:"my-2 bg-gray-800 rounded-lg overflow-hidden relative text-sm",children:[o.jsxs("div",{className:"flex justify-between items-center px-4 py-1 bg-gray-900 text-xs text-gray-400",children:[o.jsx("span",{children:c}),o.jsx("button",{onClick:()=>navigator.clipboard.writeText(f),className:"hover:text-white p-1 -m-1","aria-label":"Copy code",children:""})]}),o.jsx("pre",{children:o.jsx("code",{className:`language-${c}`,children:f.trim()})})]},`code-${u.index}`)),l=u.index+u[0].length}return l<n.length&&t.push(o.jsx("div",{className:"prose prose-sm max-w-none",children:n.substring(l)},`text-${l}`)),t},h_=()=>{const[n,t]=T.useState("chat"),[l,i]=T.useState(!1),{apiKey:u}=Ic(),[c,f]=T.useState([]),[g,x]=T.useState(""),[p,v]=T.useState(!1),[C,b]=T.useState(""),N=T.useRef(null),[_,E]=T.useState(""),[A,j]=T.useState(""),[M,D]=T.useState(""),[B,P]=T.useState(!1),[Q,q]=T.useState("");T.useEffect(()=>{window.hljs&&window.hljs.highlightAll()},[c,M]),T.useEffect(()=>{n==="chat"&&N.current&&(N.current.scrollTop=N.current.scrollHeight)},[c,n]);const $=async F=>{if(F.preventDefault(),!g.trim()||p)return;const re={role:"user",content:g};if(f(oe=>[...oe,re]),x(""),v(!0),b(""),!u){b(" API     ."),v(!1);return}try{const Te=[...c.map(me=>({role:me.role,parts:[{text:me.content}]})),{role:"user",parts:[{text:g}]}],te={role:"model",content:(await new ka({apiKey:u}).models.generateContent({model:"gemini-2.5-flash",contents:Te,config:{systemInstruction:f_}})).text};f(me=>[...me,te])}catch(oe){console.error(oe),b("      .    .")}finally{v(!1)}},V=async F=>{if(F.preventDefault(),!_.trim()||!A.trim()||B)return;if(P(!0),q(""),D(""),!u){q(" API     ."),P(!1);return}const re=`You are a senior frontend developer specializing in React and TypeScript. Your task is to correct or improve the following code based on the user's request. Provide ONLY the final, corrected code block in a single Markdown snippet. Do not add any explanations, greetings, or other text outside of the code block.

User's Request:
${A}

Original Code:
\`\`\`tsx
${_}
\`\`\``;try{const I=(await new ka({apiKey:u}).models.generateContent({model:"gemini-2.5-flash",contents:re})).text.match(/```(?:\w*\n)?([\s\S]+?)```/),Z=I?I[1].trim():"      .";D(Z)}catch(oe){console.error(oe),q("      .    .")}finally{P(!1)}},K=()=>o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow flex flex-col flex-grow overflow-hidden h-full",children:[o.jsxs("div",{ref:N,className:"flex-grow overflow-y-auto space-y-6 p-4",children:[c.map((F,re)=>o.jsxs("div",{className:`flex items-start gap-4 ${F.role==="user"?"justify-end":""}`,children:[F.role==="model"&&o.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-500 flex items-center justify-center flex-shrink-0",children:o.jsx(D0,{})}),o.jsx("div",{className:`max-w-2xl rounded-xl px-4 py-3 ${F.role==="user"?"bg-blue-500 text-white":"bg-gray-100 text-gray-800"}`,children:F.role==="user"?F.content:m_(F.content)}),F.role==="user"&&o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-600 flex items-center justify-center flex-shrink-0",children:o.jsx(u_,{})})]},re)),p&&o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-500 flex items-center justify-center flex-shrink-0",children:o.jsx(D0,{})}),o.jsx("div",{className:"max-w-2xl rounded-xl px-4 py-3 bg-gray-100 text-gray-800",children:o.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[o.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-bounce"}),o.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),o.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})]}),C&&o.jsx("p",{className:"text-red-500 text-center",children:C})]}),o.jsx("form",{onSubmit:$,className:"mt-4 flex-shrink-0 border-t pt-4",children:o.jsxs("div",{className:"relative",children:[o.jsx("textarea",{value:g,onChange:F=>x(F.target.value),onKeyDown:F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),$(F))},placeholder:"       ...",className:"w-full p-3 pr-12 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500 transition-colors resize-none",rows:2,disabled:p}),o.jsx("button",{type:"submit",disabled:p,className:"absolute right-3 top-1/2 -translate-y-1/2 p-2 rounded-full bg-emerald-500 text-white hover:bg-emerald-600 disabled:bg-gray-300",children:o.jsx(r_,{})})]})})]}),ne=()=>o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow flex-grow grid grid-cols-1 md:grid-cols-2 gap-6 overflow-hidden h-full",children:[o.jsxs("form",{onSubmit:V,className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:" "}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"correctionRequest",className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),o.jsx("textarea",{id:"correctionRequest",value:A,onChange:F=>j(F.target.value),placeholder:":              ",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500",rows:3,required:!0})]}),o.jsxs("div",{className:"flex-grow flex flex-col",children:[o.jsx("label",{htmlFor:"codeToCorrect",className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),o.jsx("textarea",{id:"codeToCorrect",value:_,onChange:F=>E(F.target.value),placeholder:"     ...",className:"w-full h-full p-2 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500 font-mono text-sm flex-grow",required:!0})]}),o.jsx(xe,{type:"submit",disabled:B,children:B?"  ...":" "})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 flex flex-col overflow-hidden border",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2 flex-shrink-0",children:"  "}),o.jsxs("div",{className:"flex-grow overflow-y-auto bg-gray-800 rounded-lg relative",children:[B&&o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("svg",{className:"animate-spin h-10 w-10 text-emerald-400 mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o.jsx("p",{className:"mt-2 text-sm font-semibold text-gray-400",children:"     ..."})]})}),Q&&o.jsx("p",{className:"text-red-400 text-center p-4",children:Q}),M&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>navigator.clipboard.writeText(M),className:"absolute top-2 left-2 bg-gray-700 hover:bg-gray-600 text-white text-xs py-1 px-3 rounded z-10","aria-label":"Copy corrected code",children:""}),o.jsx("pre",{className:"h-full",children:o.jsx("code",{className:"language-tsx h-full",children:M})})]}),!B&&!Q&&!M&&o.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:o.jsx("p",{children:"     ."})})]})]})]});return o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4 flex-shrink-0",children:"  "}),o.jsx("div",{className:"flex-shrink-0 border-b border-gray-200 mb-6",children:o.jsxs("nav",{className:"-mb-px flex space-x-6 space-x-reverse","aria-label":"Tabs",children:[o.jsx("button",{onClick:()=>t("chat"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors ${n==="chat"?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:" "}),o.jsx("button",{onClick:()=>t("corrector"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors ${n==="corrector"?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:o.jsxs("span",{className:"flex items-center gap-2",children:[" ",o.jsx("span",{onClick:F=>{F.stopPropagation(),i(!0)},className:"p-1 -m-1 rounded-full hover:bg-gray-200 cursor-pointer","aria-label":"  ",children:o.jsx(c_,{})})]})})]})}),o.jsx("div",{className:"flex-grow overflow-hidden",children:n==="chat"?K():ne()}),o.jsx(d_,{isOpen:l,onClose:()=>i(!1)})]})},p_=()=>o.jsxs("div",{className:"flex flex-col justify-center items-center text-center p-8 h-full",children:[o.jsxs("svg",{className:"animate-spin h-10 w-10 text-emerald-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o.jsx("p",{className:"mt-4 text-gray-600 font-semibold",children:"      ..."})]});function g_(n){let t=n.replace(/^### (.*$)/gim,'<h3 class="text-lg font-semibold mt-4 mb-2">$1</h3>').replace(/^## (.*$)/gim,'<h2 class="text-xl font-bold mt-6 mb-3">$1</h2>').replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/^\s*[-*] (.*)/gm,"<li>$1</li>");return t=t.replace(/((<li>.*<\/li>\s*)+)/g,'<ul class="list-disc list-inside space-y-1 my-2">$1</ul>'),t=t.replace(/\n/g,"<br />"),t=t.replace(/<br \/>\s*<(h[23]|ul)>/g,"<$1>"),t=t.replace(/<\/(h[23]|ul)>\s*<br \/>/g,"</$1>"),t}const x_=()=>{const[n,t]=T.useState(""),[l,i]=T.useState(!1),[u,c]=T.useState(""),[f,g]=T.useState(""),{apiKey:x}=Ic(),p=()=>{const b=localStorage.getItem("karma_users")||"[]",N=localStorage.getItem("karma_campaigns")||"[]",_=localStorage.getItem("karma_task_completions")||"[]";return{users:b,campaigns:N,completions:_}},v=async b=>{const N=b||n;if(!N.trim()){c("       .");return}if(i(!0),c(""),g(""),!x){c(" API     .    ."),i(!1);return}try{const _=p(),E=`You are a data analyst for a charity engagement platform called "Karma". Your task is to analyze the provided JSON data and answer the user's question in Persian. Be insightful, concise, and provide actionable suggestions where appropriate. Format your response with clear headings (##) and bullet points (*) using Markdown.`,A=`
Here is the application data in JSON format:
- Users: ${_.users}
- Campaigns: ${_.campaigns}
- Task Completions: ${_.completions}

Based on this data, please answer the following question:
"${N}"
`,M=await new ka({apiKey:x}).models.generateContent({model:"gemini-2.5-flash",contents:A,config:{systemInstruction:E}});g(M.text)}catch(_){console.error(_),c("      .    .")}finally{i(!1)}},C=[{label:"  ",prompt:"Provide a high-level summary of the platform's performance. Include key metrics like total users, active campaigns, completed tasks, and total impact points generated."},{label:"  ",prompt:"Identify the top 3 most successful campaigns based on participation and completion rate. Analyze potential reasons for their success."},{label:"  ",prompt:"List the top 5 most impactful users based on their total impact points and number of completed tasks. Suggest how to engage them further."},{label:"   ",prompt:"Based on the most popular campaign categories and tasks, suggest an idea for a new, engaging campaign."}];return o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"   "}),o.jsx("p",{className:"text-gray-600 mb-8",children:"                ."}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("section",{className:"bg-white p-6 rounded-lg shadow",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:" "}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:C.map(b=>o.jsx("button",{onClick:()=>v(b.prompt),disabled:l,className:"text-right p-4 bg-gray-100 hover:bg-emerald-50 rounded-lg border hover:border-emerald-300 transition-colors disabled:opacity-50 disabled:cursor-wait",children:o.jsx("span",{className:"font-semibold text-emerald-700",children:b.label})},b.label))})]}),o.jsxs("section",{className:"bg-white p-6 rounded-lg shadow",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:" "}),o.jsxs("form",{onSubmit:b=>{b.preventDefault(),v()},children:[o.jsx("textarea",{value:n,onChange:b=>t(b.target.value),placeholder:"         ...",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500",rows:4,disabled:l}),o.jsx(xe,{type:"submit",disabled:l,className:"mt-3",children:l?"  ...":" "})]})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow flex flex-col",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex-shrink-0",children:" "}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 flex-grow border min-h-[300px] overflow-y-auto",children:[l&&o.jsx(p_,{}),u&&o.jsx("p",{className:"text-red-500",children:u}),!l&&!u&&f&&o.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:g_(f)}}),!l&&!u&&!f&&o.jsx("p",{className:"text-gray-500 text-center pt-10",children:"                 ."})]})]})]})]})},U0=({checked:n,onChange:t,label:l,disabled:i=!1})=>{const u=o.jsxs(o.Fragment,{children:[o.jsx("input",{type:"checkbox",checked:n,onChange:c=>!i&&t(c.target.checked),className:"sr-only peer",disabled:i}),o.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-2 peer-focus:ring-emerald-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]});return l?o.jsxs("label",{className:`flex items-center justify-between p-4 border rounded-lg ${i?"cursor-not-allowed opacity-50 bg-gray-100":"cursor-pointer bg-white"}`,children:[o.jsx("span",{className:"font-semibold text-gray-700",children:l}),o.jsx("div",{className:"relative inline-flex items-center",children:u})]}):o.jsx("label",{className:`relative inline-flex items-center ${i?"cursor-not-allowed opacity-50":"cursor-pointer"}`,children:u})},y_=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),L0=()=>{const{isLeaguesEnabled:n,setIsLeaguesEnabled:t,isCampaignBuilderEnabled:l,setIsCampaignBuilderEnabled:i}=It(),[u,c]=T.useState(null),[f,g]=T.useState(""),[x,p]=T.useState(!1),[v,C]=T.useState(null),[b,N]=T.useState(""),[_,E]=T.useState(!1),A=/^(karma_users|karma_coins_|contribution_value_|impact_score_|transactions_|social_ids_|userIdentifier)/,j=()=>{try{const q={};for(let F=0;F<localStorage.length;F++){const re=localStorage.key(F);re&&(q[re]=localStorage.getItem(re))}const $=new Blob([JSON.stringify(q,null,2)],{type:"application/json"}),V=URL.createObjectURL($),K=document.createElement("a"),ne=new Date().toISOString().slice(0,10);K.href=V,K.download=`karma-full-backup-${ne}.json`,document.body.appendChild(K),K.click(),document.body.removeChild(K),URL.revokeObjectURL(V),alert("      .")}catch(q){console.error("Error creating full backup:",q),alert("     .")}},M=q=>{var V;const $=(V=q.target.files)==null?void 0:V[0];if($){const K=new FileReader;K.onload=ne=>{var F;c((F=ne.target)==null?void 0:F.result),g($.name)},K.readAsText($)}else c(null),g("")},D=()=>{if(!u){alert("        .");return}if(window.confirm(` !

        

                 .     .`)){p(!0);try{const $=JSON.parse(u);localStorage.clear(),Object.keys($).forEach(V=>{localStorage.setItem(V,$[V])}),alert("    .    ."),window.location.reload()}catch($){console.error("Error restoring full data:",$),alert("   .      ."),p(!1)}}},B=()=>{try{const q={};for(let F=0;F<localStorage.length;F++){const re=localStorage.key(F);re&&A.test(re)&&(q[re]=localStorage.getItem(re))}const $=new Blob([JSON.stringify(q,null,2)],{type:"application/json"}),V=URL.createObjectURL($),K=document.createElement("a"),ne=new Date().toISOString().slice(0,10);K.href=V,K.download=`karma-users-backup-${ne}.json`,document.body.appendChild(K),K.click(),document.body.removeChild(K),URL.revokeObjectURL(V),alert("      .")}catch(q){console.error("Error creating user backup:",q),alert("     .")}},P=q=>{var V;const $=(V=q.target.files)==null?void 0:V[0];if($){const K=new FileReader;K.onload=ne=>{var F;C((F=ne.target)==null?void 0:F.result),N($.name)},K.readAsText($)}else C(null),N("")},Q=()=>{if(!v){alert("        .");return}if(window.confirm(`!

         

            .                  .`)){E(!0);try{const $=JSON.parse(v),V=[];for(let K=0;K<localStorage.length;K++){const ne=localStorage.key(K);ne&&A.test(ne)&&V.push(ne)}V.forEach(K=>localStorage.removeItem(K)),Object.keys($).forEach(K=>{A.test(K)&&localStorage.setItem(K,$[K])}),alert("     .    ."),window.location.reload()}catch($){console.error("Error restoring user data:",$),alert("    .      ."),E(!1)}}};return o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:" "}),o.jsxs("section",{className:"bg-white p-6 rounded-lg shadow mb-8",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"          ."}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(U0,{label:"    ",checked:n,onChange:t}),o.jsx(U0,{label:"    ",checked:l,onChange:i})]})]}),o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"  "}),o.jsxs("section",{className:"bg-white p-6 rounded-lg shadow mb-8",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"    "}),o.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"       (   ...)     .                  ."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"md:border-r md:pr-8",children:[o.jsx("h3",{className:"font-semibold mb-3",children:"  "}),o.jsx(xe,{onClick:B,children:"  "})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-3",children:"   "}),o.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse mb-4",children:[o.jsx("label",{htmlFor:"user-restore-file-input",className:"cursor-pointer bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg transition-colors",children:" ..."}),o.jsx("input",{id:"user-restore-file-input",type:"file",accept:".json",onChange:P,className:"hidden"}),b&&o.jsx("span",{className:"text-gray-600 font-mono",children:b})]}),o.jsx(xe,{onClick:Q,disabled:!v||_,className:"bg-amber-600 hover:bg-amber-700 disabled:bg-amber-300",children:_?"  ...":"  "})]})]})]}),o.jsxs("section",{className:"bg-white p-6 rounded-lg shadow",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"    "}),o.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"    (      ...)   JSON       ."}),o.jsxs("div",{className:"border-l-4 border-red-500 bg-red-50 p-4 rounded-r-lg mb-6 flex items-start space-x-3 space-x-reverse",children:[o.jsx(y_,{}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-red-800",children:" "}),o.jsx("p",{className:"text-sm text-red-700",children:"              .     ."})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"md:border-r md:pr-8",children:[o.jsx("h3",{className:"font-semibold mb-3",children:"  "}),o.jsx(xe,{onClick:j,children:"  "})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-3",children:"   "}),o.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse mb-4",children:[o.jsx("label",{htmlFor:"full-restore-file-input",className:"cursor-pointer bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg transition-colors",children:" ..."}),o.jsx("input",{id:"full-restore-file-input",type:"file",accept:".json",onChange:M,className:"hidden"}),f&&o.jsx("span",{className:"text-gray-600 font-mono",children:f})]}),o.jsx(xe,{onClick:D,disabled:!u||x,className:"bg-red-600 hover:bg-red-700 disabled:bg-red-300",children:x?"  ...":"  "})]})]})]})]})},v_=[{id:"system",label:""},{id:"ai_assistant",label:"  "},{id:"ai_analyst",label:"  "}],C_=()=>{const[n,t]=T.useState("system"),l=()=>{switch(n){case"ai_assistant":return o.jsx(h_,{});case"ai_analyst":return o.jsx(x_,{});case"system":return o.jsx(L0,{});default:return o.jsx(L0,{})}};return o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4 flex-shrink-0",children:""}),o.jsx("div",{className:"flex-shrink-0 border-b border-gray-200 mb-6",children:o.jsx("nav",{className:"-mb-px flex space-x-6 space-x-reverse","aria-label":"Tabs",children:v_.map(i=>o.jsx("button",{onClick:()=>t(i.id),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors ${n===i.id?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:i.label},i.id))})}),o.jsx("div",{className:"flex-grow overflow-y-auto",children:l()})]})},b_=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),vc=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2-2z"})}),zg=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Vg=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197"})}),S_=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),N_=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),w_=()=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426-1.756-2.924-1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0 3.35a1.724 1.724 0 001.066 2.573c-.94-1.543.826 3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),oo=({title:n,value:t,icon:l})=>o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md flex items-center space-x-4",children:[o.jsx("div",{className:"bg-emerald-100 text-emerald-600 p-4 rounded-full",children:l}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:n}),o.jsx("p",{className:"text-2xl font-bold text-gray-800",children:t})]})]}),P0=()=>{const{campaigns:n,taskCompletions:t}=Wt(),[l,i]=T.useState(0);T.useEffect(()=>{const f=localStorage.getItem("karma_users"),g=f?JSON.parse(f):Ac;i(g.length)},[]);const u=n.filter(f=>f.status==="pending").length,c=t.filter(f=>f.status==="pending").length;return o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:" "}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(oo,{title:" ",value:n.length,icon:o.jsx(vc,{})}),o.jsx(oo,{title:"   ",value:u,icon:o.jsx(vc,{})}),o.jsx(oo,{title:" ",value:l,icon:o.jsx(Vg,{})}),o.jsx(oo,{title:"   ",value:c,icon:o.jsx(zg,{})})]})]})},T_=()=>{const{campaigns:n,setCampaignStatus:t,deleteCampaign:l,taskCompletions:i}=Wt(),u=bt(),[c,f]=T.useState(null),[g,x]=T.useState(0);T.useEffect(()=>{const v=localStorage.getItem("karma_users"),C=v?JSON.parse(v):[];x(C.length)},[]);const p=v=>{switch(v){case"active":return o.jsx("span",{className:"px-2 py-1 text-xs font-semibold text-green-800 bg-green-100 rounded-full",children:""});case"pending":return o.jsx("span",{className:"px-2 py-1 text-xs font-semibold text-yellow-800 bg-yellow-100 rounded-full",children:" "});case"rejected":return o.jsx("span",{className:"px-2 py-1 text-xs font-semibold text-red-800 bg-red-100 rounded-full",children:" "});case"completed":return o.jsx("span",{className:"px-2 py-1 text-xs font-semibold text-blue-800 bg-blue-100 rounded-full",children:" "})}};return c?o.jsx(QE,{campaign:c,onBack:()=>f(null),taskCompletions:i,totalUsers:g}):o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:" "}),o.jsx("div",{className:"bg-white p-6 rounded-lg shadow overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right min-w-[600px]",children:[o.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3",children:""}),o.jsx("th",{className:"px-6 py-3",children:""}),o.jsx("th",{className:"px-6 py-3",children:""}),o.jsx("th",{className:"px-6 py-3",children:""})]})}),o.jsx("tbody",{children:n.map(v=>o.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:v.mission}),o.jsx("td",{className:"px-6 py-4",children:v.brandName}),o.jsx("td",{className:"px-6 py-4",children:p(v.status)}),o.jsxs("td",{className:"px-6 py-4 space-x-2 space-x-reverse whitespace-nowrap",children:[v.status==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>t(v.id,"active"),className:"font-medium text-green-600 hover:underline",children:""}),o.jsx("button",{onClick:()=>t(v.id,"rejected"),className:"font-medium text-red-600 hover:underline",children:""})]}),o.jsx("button",{onClick:()=>u(`/admin/edit-campaign/${v.id}`),className:"font-medium text-blue-600 hover:underline",children:""}),o.jsx("button",{onClick:()=>f(v),className:"font-medium text-indigo-600 hover:underline",children:""}),o.jsx("button",{onClick:()=>{window.confirm("      ")&&l(v.id)},className:"font-medium text-gray-500 hover:underline",children:""})]})]},v.id))})]})})]})},E_=()=>{const{taskCompletions:n,approveTaskCompletion:t,rejectTaskCompletion:l,campaigns:i}=Wt(),u=n.filter(f=>f.status==="pending"),c=f=>{var g;return((g=i.find(x=>x.id===f))==null?void 0:g.mission)||""};return o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"  "}),o.jsx("div",{className:"bg-white p-6 rounded-lg shadow overflow-x-auto",children:u.length>0?o.jsxs("table",{className:"w-full text-sm text-right min-w-[600px]",children:[o.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3",children:""}),o.jsx("th",{className:"px-6 py-3",children:""}),o.jsx("th",{className:"px-6 py-3",children:""}),o.jsx("th",{className:"px-6 py-3",children:" "}),o.jsx("th",{className:"px-6 py-3",children:""})]})}),o.jsx("tbody",{children:u.map(f=>o.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:f.userId}),o.jsx("td",{className:"px-6 py-4",children:f.taskDescription}),o.jsx("td",{className:"px-6 py-4",children:c(f.campaignId)}),o.jsx("td",{className:"px-6 py-4 font-mono text-blue-600",children:f.submittedData}),o.jsxs("td",{className:"px-6 py-4 space-x-2 space-x-reverse whitespace-nowrap",children:[o.jsx("button",{onClick:()=>t(f.id),className:"font-medium text-green-600 hover:underline",children:""}),o.jsx("button",{onClick:()=>l(f.id),className:"font-medium text-red-600 hover:underline",children:""})]})]},f.id))})]}):o.jsx("p",{className:"text-center text-gray-500 py-8",children:"      ."})})]})},__=()=>{const[n,t]=T.useState([]),[l,i]=T.useState(null),[u,c]=T.useState(!1),[f,g]=T.useState(!1),{campaigns:x,taskCompletions:p,approveTaskCompletion:v,rejectTaskCompletion:C}=Wt(),[b,N]=T.useState({key:"averageProgress",direction:"desc"});T.useEffect(()=>{const P=localStorage.getItem("karma_users"),Q=P?JSON.parse(P):Ac;t(Q)},[]);const _=T.useMemo(()=>n.map(P=>{const Q=p.filter(V=>V.userId===P.identifier&&V.status==="approved");if(Q.length===0)return{...P,averageProgress:0};const $=Q.reduce((V,K)=>V+K.impactPoints,0)/Q.length;return{...P,averageProgress:$}}),[n,p]),E=T.useMemo(()=>{let P=[..._];return b!==null&&P.sort((Q,q)=>{const $=Q[b.key],V=q[b.key];return $<V?b.direction==="asc"?-1:1:$>V?b.direction==="asc"?1:-1:0}),P},[_,b]),A=P=>{let Q="asc";b&&b.key===P&&b.direction==="asc"&&(Q="desc"),N({key:P,direction:Q})},j=P=>!b||b.key!==P?o.jsx("svg",{className:"w-4 h-4 inline-block text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l4-4 4 4m0 6l-4 4-4-4"})}):b.direction==="asc"?o.jsx("svg",{className:"w-4 h-4 inline-block text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}):o.jsx("svg",{className:"w-4 h-4 inline-block text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7 7"})}),M=P=>{i(P),c(!0)},D=P=>{i(P),g(!0)},B=()=>{i(null),c(!1),g(!1)};return o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:" "}),o.jsx("div",{className:"bg-white p-6 rounded-lg shadow overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right min-w-[600px]",children:[o.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:o.jsxs("tr",{children:[o.jsxs("th",{className:"px-6 py-3 cursor-pointer",onClick:()=>A("identifier"),children:[" ",j("identifier")]}),o.jsxs("th",{className:"px-6 py-3 cursor-pointer",onClick:()=>A("karmaCoins"),children:["  ",j("karmaCoins")]}),o.jsxs("th",{className:"px-6 py-3 cursor-pointer",onClick:()=>A("impactScore"),children:["  ",j("impactScore")]}),o.jsxs("th",{className:"px-6 py-3 cursor-pointer",onClick:()=>A("averageProgress"),children:["  ",j("averageProgress")]}),o.jsx("th",{className:"px-6 py-3",children:""}),o.jsx("th",{className:"px-6 py-3",children:""})]})}),o.jsx("tbody",{children:E.map(P=>o.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:P.identifier}),o.jsx("td",{className:"px-6 py-4",children:P.karmaCoins}),o.jsx("td",{className:"px-6 py-4",children:P.impactScore}),o.jsxs("td",{className:"px-6 py-4 font-semibold text-emerald-700",children:[P.averageProgress.toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${P.status==="active"?"text-green-800 bg-green-100":"text-gray-800 bg-gray-100"}`,children:P.status==="active"?"":""})}),o.jsxs("td",{className:"px-6 py-4 space-x-2 space-x-reverse whitespace-nowrap",children:[o.jsx("button",{onClick:()=>M(P),className:"font-medium text-blue-600 hover:underline",children:" "}),o.jsx("button",{onClick:()=>D(P),className:"font-medium text-emerald-600 hover:underline",children:" "})]})]},P.id))})]})}),l&&o.jsxs(o.Fragment,{children:[o.jsx(XE,{isOpen:u,onClose:B,user:l,completions:p,campaigns:x,approveTaskCompletion:v,rejectTaskCompletion:C}),o.jsx(ZE,{isOpen:f,onClose:B,user:l})]})]})},A_=()=>{var C;const[n,t]=T.useState("overview"),{chats:l,getUnreadCount:i}=Hg(),{campaigns:u,taskCompletions:c}=Wt(),f=T.useMemo(()=>c.filter(b=>b.status==="pending").length,[c]),g=T.useMemo(()=>u.filter(b=>b.status==="pending").length,[u]),x=T.useMemo(()=>Object.keys(l).reduce((N,_)=>N+i(_),0),[l,i]),p=[{id:"overview",label:" ",icon:o.jsx(b_,{}),component:o.jsx(P0,{}),notificationCount:0},{id:"campaigns",label:" ",icon:o.jsx(vc,{}),component:o.jsx(T_,{}),notificationCount:g},{id:"submissions",label:" ",icon:o.jsx(zg,{}),component:o.jsx(E_,{}),notificationCount:f},{id:"users",label:" ",icon:o.jsx(Vg,{}),component:o.jsx(__,{}),notificationCount:0},{id:"notifications",label:"",icon:o.jsx(S_,{}),component:o.jsx(WE,{}),notificationCount:0},{id:"support",label:"",icon:o.jsx(N_,{}),component:o.jsx(t_,{}),notificationCount:x},{id:"karma_club",label:" ",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.293 2.293a1 1 0 010 1.414L10 16l-4-4 6.293-6.293a1 1 0 011.414 0z"})}),component:o.jsx(s_,{}),notificationCount:0},{id:"missions",label:" ",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),component:o.jsx(l_,{}),notificationCount:0},{id:"templates",label:" ",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})}),component:o.jsx(a_,{}),notificationCount:0},{id:"partners",label:"",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),component:o.jsx(i_,{}),notificationCount:0},{id:"leagues",label:"",icon:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 14v6m-3-3h6M6 10h2a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2zm10 0h2a2 2 0 002-2V6a2 2 0 00-2-2h-2a2 2 0 00-2 2v2a2 2 0 002 2zM6 20h2a2 2 0 002-2v-2a2 2 0 00-2-2H6a2 2 0 00-2 2v2a2 2 0 002 2z"})}),component:o.jsx(o_,{}),notificationCount:0},{id:"settings",label:"",icon:o.jsx(w_,{}),component:o.jsx(C_,{}),notificationCount:0}],v=((C=p.find(b=>b.id===n))==null?void 0:C.component)||o.jsx(P0,{});return o.jsxs("div",{className:"flex h-[calc(100vh-70px)] bg-gray-100 font-sans",children:[o.jsxs("aside",{className:"w-64 bg-gray-800 text-white flex flex-col flex-shrink-0",children:[o.jsx("div",{className:"h-16 flex items-center justify-center text-xl font-bold border-b border-gray-700",children:"  "}),o.jsx("nav",{className:"flex-grow overflow-y-auto",children:o.jsx("ul",{className:"py-4",children:p.map(b=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>t(b.id),className:`w-full text-right flex items-center px-6 py-3 transition-colors ${n===b.id?"bg-emerald-600 text-white":"hover:bg-gray-700"}`,children:[b.icon,o.jsx("span",{className:"me-4",children:b.label}),b.notificationCount>0&&o.jsx("span",{className:"ms-auto bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:b.notificationCount})]})},b.id))})})]}),o.jsx("main",{className:"flex-1 p-6 sm:p-10 overflow-y-auto",children:v})]})},M_=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),R_=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})}),I_=()=>{const{missionDetails:n,isCampaignBuilderEnabled:t}=It(),{t:l}=Ve();return o.jsx("div",{className:"bg-gray-100 min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-12",children:[o.jsx("h1",{className:"text-center text-3xl sm:text-4xl font-extrabold text-gray-800 mb-4",children:" "}),o.jsx("p",{className:"text-center text-lg text-gray-600 mb-12",children:"           .          ."}),o.jsxs("div",{className:`grid grid-cols-1 ${t?"lg:grid-cols-2":"max-w-xl mx-auto"} gap-8 items-stretch`,children:[t&&o.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-gray-200/80 flex flex-col items-center text-center",children:[o.jsx(M_,{}),o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mt-4",children:" "}),o.jsx("p",{className:"text-gray-600 mt-2 mb-6 flex-grow",children:"             .     ."}),o.jsx(ct,{to:"/create",className:"block w-full text-center bg-emerald-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-emerald-600 transition-colors shadow-md hover:shadow-lg",children:" "})]}),o.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-gray-200/80 flex flex-col",children:[o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx(R_,{}),o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mt-4",children:"  "}),o.jsx("p",{className:"text-gray-600 mt-2 mb-6",children:"              .        ."})]}),o.jsx("div",{className:"space-y-4",children:Object.entries(n).map(([i,u])=>{const c=u;return o.jsxs(ct,{to:`/create?template=${i}`,className:"block text-right bg-gray-100 p-4 rounded-lg hover:bg-emerald-50 hover:border-emerald-300 border border-transparent transition-all",children:[o.jsx("h3",{className:"font-bold text-emerald-700",children:l(c.labelKey)||i}),o.jsxs("p",{className:"text-sm text-gray-500",children:["  : ",l(`categories_list.${c.defaultCategory}`)||c.defaultCategory]})]},i)})})]})]})]})})},j_=()=>o.jsxs("div",{className:"bg-white min-h-screen",children:[o.jsxs("div",{className:"relative h-64 md:h-80 bg-emerald-600",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1532629345422-7515f3d16bb6?q=80&w=2070&auto=format&fit=crop",alt:"Community helping hands",className:"w-full h-full object-cover opacity-30"}),o.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center items-center text-center text-white p-4",children:[o.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold",children:" "}),o.jsx("p",{className:"mt-4 text-lg md:text-xl max-w-2xl",children:"                ."})]})]}),o.jsx("main",{className:"container mx-auto px-6 py-12 md:py-16",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("article",{className:"prose prose-lg max-w-none text-gray-700 leading-relaxed text-justify",children:[o.jsxs("section",{className:"mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4 border-b-2 border-emerald-400 pb-2",children:" "}),o.jsx("p",{children:"      :                                                .              .                    ."})]}),o.jsxs("section",{className:"mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4 border-b-2 border-emerald-400 pb-2",children:" "}),o.jsx("p",{children:'        .                .                   ""  ""         .                            .'})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-8 my-12 items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:"  "}),o.jsxs("ol",{className:"list-decimal list-inside space-y-3",children:[o.jsxs("li",{children:[o.jsx("strong",{children:" :"}),"          ."]}),o.jsxs("li",{children:[o.jsx("strong",{children:" :"}),"            ."]}),o.jsxs("li",{children:[o.jsx("strong",{children:" :"}),'    " "  " "  .']}),o.jsxs("li",{children:[o.jsx("strong",{children:" :"}),"               ."]})]})]}),o.jsx("img",{src:"https://images.unsplash.com/photo-1593113646773-028c64a8f1b8?q=80&w=1200&auto=format&fit=crop",alt:"Person using a phone to participate",className:"rounded-xl shadow-lg w-full h-64 object-cover"})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4 border-b-2 border-emerald-400 pb-2",children:" "}),o.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[o.jsxs("li",{children:[o.jsx("strong",{children:":"}),"               ."]}),o.jsxs("li",{children:[o.jsx("strong",{children:":"}),"              ."]}),o.jsxs("li",{children:[o.jsx("strong",{children:":"}),"             ."]}),o.jsxs("li",{children:[o.jsx("strong",{children:":"}),"                ."]})]})]})]}),o.jsxs("div",{className:"mt-16 text-center border-t pt-10",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"      "}),o.jsx("p",{className:"mt-4 text-gray-600",children:"                 ."}),o.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-6",children:[o.jsx(ct,{to:"/campaigns",className:"w-full sm:w-auto",children:o.jsx(xe,{className:"w-full",children:"  "})}),o.jsx(ct,{to:"/create-options",className:"w-full sm:w-auto",children:o.jsx(xe,{variant:"secondary",className:"w-full",children:"  "})})]})]})]})})]}),k_=()=>{const{brands:n,charities:t}=It();return o.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[o.jsxs("header",{className:"relative h-64 md:h-80 bg-blue-600",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1521791136064-7986c2920216?q=80&w=2070&auto=format=fit=crop",alt:"People collaborating",className:"w-full h-full object-cover opacity-20"}),o.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center items-center text-center text-white p-4",children:[o.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold",children:" "}),o.jsx("p",{className:"mt-4 text-lg md:text-xl max-w-2xl",children:"    .           ."})]})]}),o.jsxs("main",{className:"container mx-auto px-6 py-12 md:py-16",children:[o.jsxs("section",{className:"max-w-4xl mx-auto text-center mb-16",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:" "}),o.jsx("p",{className:"text-gray-600 leading-relaxed",children:"           .                     .          ."})]}),o.jsxs("section",{className:"mb-16",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-8 text-center border-b-2 border-emerald-400 pb-4 max-w-md mx-auto",children:" "}),o.jsx("div",{className:"flex flex-wrap justify-center items-center gap-8 md:gap-12",children:n.map(l=>o.jsx("div",{className:"p-4 bg-white rounded-full shadow-md",title:l.name,children:o.jsx("img",{src:l.logoUrl,alt:l.name,className:"h-16 w-16 md:h-20 md:w-20 object-contain grayscale transition-all duration-300 hover:grayscale-0",onError:i=>{i.currentTarget.style.display="none",i.currentTarget.parentElement.innerHTML=`<div class='h-16 w-16 md:h-20 md:w-20 flex items-center justify-center text-gray-500 font-semibold'>${l.name}</div>`}})},l.id))})]}),o.jsxs("section",{className:"mb-16",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-8 text-center border-b-2 border-blue-400 pb-4 max-w-lg mx-auto",children:"   "}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(l=>o.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 text-center flex flex-col items-center",children:[o.jsx("img",{src:l.logoUrl,alt:l.name,className:"h-24 w-24 object-contain mb-4",onError:i=>{i.currentTarget.style.display="none"}}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 flex-grow",children:l.name}),o.jsx("a",{href:l.website,target:"_blank",rel:"noopener noreferrer",className:"mt-4 inline-block text-emerald-600 font-semibold hover:text-emerald-800 transition-colors",children:"  "})]},l.id))})]}),o.jsxs("div",{className:"mt-16 text-center border-t pt-10",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"    "}),o.jsx("p",{className:"mt-4 text-gray-600 max-w-2xl mx-auto",children:"                   ."}),o.jsx("div",{className:"mt-8",children:o.jsx(ct,{to:"/support",children:o.jsx(xe,{children:"  "})})})]})]})]})},D_=()=>o.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),U_=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),L_=()=>{const n=bt(),{userIdentifier:t}=xt(),{chats:l,sendMessage:i,initializeChat:u}=Hg(),[c,f]=T.useState(""),g=T.useRef(null),x=t?l[t]||[]:[];T.useEffect(()=>{t&&u(t)},[t,u]),T.useEffect(()=>{var v;(v=g.current)==null||v.scrollIntoView({behavior:"smooth"})},[x]);const p=v=>{if(v.preventDefault(),!c.trim()||!t)return;const C=x.filter(b=>b.sender==="user").length===0;i(t,c,"user"),f(""),C&&setTimeout(()=>{i(t,"!    .         .    .","support")},1500)};return o.jsxs("div",{className:"flex flex-col h-screen bg-gray-100",children:[o.jsx("header",{className:"sticky top-0 bg-white z-10 shadow-sm flex-shrink-0",children:o.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center",children:[o.jsx("button",{onClick:()=>n(-1),className:"text-gray-600 p-2 -ml-2",children:o.jsx(D_,{})}),o.jsx("h1",{className:"text-xl font-bold text-gray-800 text-center flex-grow",children:"  "}),o.jsx("div",{className:"w-6"})," "]})}),o.jsxs("main",{className:"flex-grow overflow-y-auto p-4 space-y-4",children:[x.map(v=>o.jsxs("div",{className:`flex items-end gap-3 ${v.sender==="user"?"justify-end":"justify-start"}`,children:[v.sender==="support"&&o.jsx("img",{src:"https://i.pravatar.cc/150?u=support",alt:"Support",className:"w-8 h-8 rounded-full"}),o.jsxs("div",{className:`max-w-xs md:max-w-md rounded-2xl px-4 py-3 ${v.sender==="user"?"bg-emerald-500 text-white rounded-br-none":"bg-white text-gray-800 rounded-bl-none shadow-sm"}`,children:[o.jsx("p",{className:"text-sm",children:v.text}),o.jsx("p",{className:"text-xs opacity-70 mt-1 text-right",children:new Date(v.timestamp).toLocaleTimeString("fa-IR",{hour:"2-digit",minute:"2-digit"})})]})]},v.id)),o.jsx("div",{ref:g})]}),o.jsx("footer",{className:"sticky bottom-20 sm:bottom-0 bg-white p-4 border-t flex-shrink-0",children:o.jsxs("form",{onSubmit:p,className:"flex items-center gap-3",children:[o.jsx("input",{type:"text",value:c,onChange:v=>f(v.target.value),placeholder:"   ...",className:"w-full bg-gray-100 rounded-full py-3 px-5 border border-gray-200 focus:outline-none focus:ring-2 focus:ring-emerald-400"}),o.jsx("button",{type:"submit",className:"p-3 rounded-full bg-emerald-500 text-white hover:bg-emerald-600 disabled:bg-gray-300",disabled:!c.trim(),children:o.jsx(U_,{})})]})})]})},P_=({article:n})=>{const{formatRelativeTime:t}=Ve();return o.jsxs("div",{className:"bg-white rounded-2xl shadow-md border border-gray-200/80 overflow-hidden animate-fadeInUp",children:[o.jsx("img",{className:"w-full h-56 object-cover",src:n.imageUrl,alt:n.title}),o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"font-bold text-xl leading-tight text-gray-800",children:n.title}),o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:t(n.date)}),o.jsx("p",{className:"mt-4 text-gray-700 text-base whitespace-pre-wrap leading-relaxed",children:n.content})]})]})},q0=({notification:n})=>{const{formatRelativeTime:t}=Ve();return o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border animate-fadeInUp",children:[o.jsx("p",{className:"text-gray-800",children:n.message}),n.videoUrl&&o.jsx("video",{src:n.videoUrl,controls:!0,className:"mt-2 rounded-lg w-full"}),o.jsx("p",{className:"text-xs text-gray-400 mt-2 text-left",children:t(n.timestamp)})]})},q_=()=>{const[n,t]=T.useState("news"),{newsArticles:l,personalNotifications:i,newsNotifications:u,karmaClubNotifications:c}=bo(),{isAuthenticated:f}=xt(),{t:g}=Ve(),x=[...u,...c].sort((v,C)=>new Date(C.timestamp).getTime()-new Date(v.timestamp).getTime()),p=[...i].sort((v,C)=>new Date(C.timestamp).getTime()-new Date(v.timestamp).getTime());return o.jsx("div",{className:"bg-gray-100 min-h-screen",children:o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-8",children:[o.jsx("h1",{className:"text-center text-3xl sm:text-4xl font-extrabold text-gray-800 mb-8",children:"  "}),f&&o.jsx("div",{className:"mb-8 sticky top-[69px] bg-gray-100/90 backdrop-blur-sm py-2 z-10",children:o.jsxs("div",{className:"flex justify-center border-b border-gray-300",children:[o.jsxs("button",{onClick:()=>t("news"),className:`px-6 py-3 text-lg font-bold transition-colors duration-300 relative ${n==="news"?"text-emerald-600":"text-gray-500 hover:text-emerald-500"}`,children:["",n==="news"&&o.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-1 bg-emerald-500 rounded-full"})]}),o.jsxs("button",{onClick:()=>t("personal"),className:`px-6 py-3 text-lg font-bold transition-colors duration-300 relative ${n==="personal"?"text-emerald-600":"text-gray-500 hover:text-emerald-500"}`,children:["",n==="personal"&&o.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-1 bg-emerald-500 rounded-full"})]})]})}),o.jsxs("div",{className:"space-y-6 max-w-3xl mx-auto",children:[n==="news"&&o.jsxs(o.Fragment,{children:[x.map(v=>o.jsx(q0,{notification:v},v.id)),l.map(v=>o.jsx(P_,{article:v},v.id))]}),n==="personal"&&f&&o.jsx(o.Fragment,{children:p.length>0?p.map(v=>o.jsx(q0,{notification:v},v.id)):o.jsxs("div",{className:"text-center py-16 px-6 bg-white rounded-lg shadow-md border",children:[o.jsx("h2",{className:"mt-4 text-2xl font-semibold text-gray-700",children:"   "}),o.jsx("p",{className:"mt-4 text-gray-500",children:"         ."})]})})]})]})})},B_=()=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-24 w-24 text-emerald-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 13l-3-3-3 3"})]}),H_=()=>o.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-70px)] bg-gray-100 text-center px-4",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsx(B_,{}),o.jsx("h1",{className:"mt-6 text-6xl font-extrabold text-gray-800",children:""}),o.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-700",children:"    "}),o.jsx("p",{className:"mt-4 text-gray-500",children:"               ."}),o.jsx("div",{className:"mt-8",children:o.jsx(ct,{to:"/",children:o.jsx(xe,{children:"   "})})})]})}),z_=()=>{const[n,t]=T.useState(""),[l,i]=T.useState(""),[u,c]=T.useState(""),{campaigns:f}=Wt(),{t:g}=Ve(),x=bt();T.useEffect(()=>{localStorage.getItem("creatorEmail")&&x("/creator/dashboard")},[x]);const p=v=>{if(v.preventDefault(),!n.trim()||!l.trim()){c("       .");return}f.some(b=>b.creatorEmail.toLowerCase()===n.toLowerCase()&&b.brandName===l)?(c(""),localStorage.setItem("creatorEmail",n),localStorage.setItem("creatorBrandName",l),x("/creator/dashboard")):c("      .      .")};return o.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-70px)] bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-xl border border-gray-200/80",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"mt-6 text-2xl font-extrabold text-gray-900",children:"   "}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"       ."})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,noValidate:!0,children:[o.jsxs("div",{className:"space-y-4 rounded-md shadow-sm",children:[o.jsx(Ce,{label:" ",id:"creator-email",name:"email",type:"email",required:!0,value:n,onChange:v=>t(v.target.value),placeholder:"your.email@company.com",hasError:!!u}),o.jsx(Ce,{label:" ",id:"brandName",name:"brandName",type:"text",required:!0,value:l,onChange:v=>i(v.target.value),placeholder:"  ",hasError:!!u})]}),u&&o.jsx("p",{className:"text-red-500 text-sm mt-2 text-center",children:u}),o.jsx("div",{children:o.jsx(xe,{type:"submit",className:"w-full",children:""})})]})]})})},V_=({children:n})=>o.jsx("div",{className:"bg-emerald-100 text-emerald-600 p-4 rounded-full",children:n}),B0=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2-2z"})}),G_=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197"})}),O_=()=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),ro=({title:n,value:t,icon:l})=>o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md flex items-center space-x-4 space-x-reverse",children:[o.jsx(V_,{children:l}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:n}),o.jsx("p",{className:"text-2xl font-bold text-gray-800",children:t})]})]}),F_=()=>{const n=bt(),{campaigns:t,taskCompletions:l}=Wt(),{formatRelativeTime:i}=Ve(),[u,c]=T.useState(null),[f,g]=T.useState(null);T.useEffect(()=>{const E=localStorage.getItem("creatorEmail"),A=localStorage.getItem("creatorBrandName");!E||!A?n("/creator/login"):(c(E),g(A))},[n]);const{creatorCampaigns:x,activeCampaigns:p,pendingCampaigns:v,totalParticipants:C,pendingSubmissions:b,liveActivityFeed:N}=T.useMemo(()=>{if(!u)return{creatorCampaigns:[],activeCampaigns:0,pendingCampaigns:0,totalParticipants:0,pendingSubmissions:0,liveActivityFeed:[]};const E=t.filter(P=>P.creatorEmail.toLowerCase()===u.toLowerCase()),A=new Set(E.map(P=>P.id)),j=l.filter(P=>A.has(P.campaignId)),M=new Set(j.map(P=>P.userId)),D=j.filter(P=>P.status==="pending"),B=j.sort((P,Q)=>new Date(Q.completedAt).getTime()-new Date(P.completedAt).getTime()).slice(0,10);return{creatorCampaigns:E,activeCampaigns:E.filter(P=>P.status==="active").length,pendingCampaigns:E.filter(P=>P.status==="pending").length,totalParticipants:M.size,pendingSubmissions:D.length,liveActivityFeed:B}},[u,t,l]),_=()=>{localStorage.removeItem("creatorEmail"),localStorage.removeItem("creatorBrandName"),n("/creator/login")};return!u||!f?null:o.jsxs("div",{className:"bg-gray-100 min-h-screen p-4 sm:p-8",children:[o.jsxs("header",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:" "}),o.jsx("p",{className:"text-lg font-semibold text-emerald-700",children:f})]}),o.jsx("button",{onClick:_,className:"font-medium text-red-600 hover:text-red-800",children:""})]}),o.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx(ro,{title:"  ",value:x.length,icon:o.jsx(B0,{})}),o.jsx(ro,{title:" /",value:`${p} / ${v}`,icon:o.jsx(B0,{})}),o.jsx(ro,{title:"  ",value:C,icon:o.jsx(G_,{})}),o.jsx(ro,{title:"   ",value:b,icon:o.jsx(O_,{})})]}),o.jsxs("section",{className:"bg-white p-6 rounded-lg shadow",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"  "}),N.length>0?o.jsx("div",{className:"space-y-4",children:N.map(E=>{const A=t.find(j=>j.id===E.campaignId);return o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-semibold text-gray-800",children:[" ",o.jsx("span",{className:"font-mono text-blue-600",children:E.userId.split("@")[0]}),'  "',E.taskDescription,'"   .']}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[' : "',(A==null?void 0:A.mission)||"",'"']})]}),o.jsxs("div",{className:"text-right flex-shrink-0",children:[o.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${E.status==="approved"?"text-green-800 bg-green-100":E.status==="pending"?"text-yellow-800 bg-yellow-100":"text-red-800 bg-red-100"}`,children:E.status==="approved"?" ":E.status==="pending"?"  ":" "}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:i(E.completedAt)})]})]},E.id)})}):o.jsx("p",{className:"text-center text-gray-500 py-8",children:"       ."})]})]})},J_=()=>{const{isLeaguesEnabled:n}=It();return o.jsxs(l1,{children:[o.jsx(et,{path:"/",element:o.jsx(M2,{})}),o.jsx(et,{path:"/login",element:o.jsx(pE,{})}),o.jsx(et,{path:"/creator/login",element:o.jsx(z_,{})}),o.jsx(et,{path:"/creator/dashboard",element:o.jsx(jn,{children:o.jsx(F_,{})})}),o.jsx(et,{path:"/admin",element:o.jsx(A0,{children:o.jsx(A_,{})})}),o.jsx(et,{path:"/admin/edit-campaign/:id",element:o.jsx(A0,{children:o.jsx(T0,{})})}),o.jsx(et,{path:"/create-options",element:o.jsx(jn,{children:o.jsx(I_,{})})}),o.jsx(et,{path:"/create",element:o.jsx(jn,{children:o.jsx(T0,{})})}),o.jsx(et,{path:"/karma-club",element:o.jsx(jn,{children:o.jsx(yE,{})})}),o.jsx(et,{path:"/news",element:o.jsx(q_,{})}),o.jsx(et,{path:"/profile",element:o.jsx(jn,{children:o.jsx(ME,{})})}),o.jsx(et,{path:"/support",element:o.jsx(jn,{children:o.jsx(L_,{})})}),o.jsx(et,{path:"/donation-balance",element:o.jsx(jn,{children:o.jsx(jE,{})})}),n&&o.jsx(et,{path:"/leagues",element:o.jsx(jn,{children:o.jsx(qE,{})})}),o.jsx(et,{path:"/leaderboard",element:o.jsx(jn,{children:o.jsx(FE,{})})}),o.jsx(et,{path:"/campaigns",element:o.jsx(sE,{})}),o.jsx(et,{path:"/campaigns/:id",element:o.jsx(hE,{})}),o.jsx(et,{path:"/about-us",element:o.jsx(j_,{})}),o.jsx(et,{path:"/partners",element:o.jsx(k_,{})}),o.jsx(et,{path:"*",element:o.jsx(H_,{})})]})},Y_=()=>o.jsx(q1,{children:o.jsx(K1,{children:o.jsx(Q1,{children:o.jsx(z1,{children:o.jsx(n2,{children:o.jsx(V1,{children:o.jsx(X1,{children:o.jsx(e2,{children:o.jsx(A1,{children:o.jsxs("div",{className:"flex flex-col min-h-screen antialiased",children:[o.jsx(i2,{}),o.jsx("main",{className:"flex-grow pb-24",children:o.jsx(J_,{})}),o.jsx(f2,{})]})})})})})})})})})}),Gg=document.getElementById("root");if(!Gg)throw new Error("Could not find root element to mount to");const $_=hv.createRoot(Gg);$_.render(o.jsx(z0.StrictMode,{children:o.jsx(Y_,{})}));
